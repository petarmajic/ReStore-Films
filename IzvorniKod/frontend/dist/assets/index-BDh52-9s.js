function aC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var sC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lp={exports:{}},gc={},up={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),cC=Symbol.for("react.portal"),lC=Symbol.for("react.fragment"),uC=Symbol.for("react.strict_mode"),dC=Symbol.for("react.profiler"),fC=Symbol.for("react.provider"),hC=Symbol.for("react.context"),pC=Symbol.for("react.forward_ref"),gC=Symbol.for("react.suspense"),vC=Symbol.for("react.memo"),mC=Symbol.for("react.lazy"),wh=Symbol.iterator;function yC(t){return t===null||typeof t!="object"?null:(t=wh&&t[wh]||t["@@iterator"],typeof t=="function"?t:null)}var dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fp=Object.assign,hp={};function ao(t,e,r){this.props=t,this.context=e,this.refs=hp,this.updater=r||dp}ao.prototype.isReactComponent={};ao.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ao.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pp(){}pp.prototype=ao.prototype;function Ed(t,e,r){this.props=t,this.context=e,this.refs=hp,this.updater=r||dp}var Ad=Ed.prototype=new pp;Ad.constructor=Ed;fp(Ad,ao.prototype);Ad.isPureReactComponent=!0;var Eh=Array.isArray,gp=Object.prototype.hasOwnProperty,_d={current:null},vp={key:!0,ref:!0,__self:!0,__source:!0};function mp(t,e,r){var n,i={},o=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)gp.call(e,n)&&!vp.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:va,type:t,key:o,ref:a,props:i,_owner:_d.current}}function CC(t,e){return{$$typeof:va,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xd(t){return typeof t=="object"&&t!==null&&t.$$typeof===va}function wC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ah=/\/+/g;function el(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wC(""+t.key):e.toString(36)}function cs(t,e,r,n,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case va:case cC:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+el(a,0):n,Eh(i)?(r="",t!=null&&(r=t.replace(Ah,"$&/")+"/"),cs(i,e,r,"",function(l){return l})):i!=null&&(xd(i)&&(i=CC(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ah,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Eh(t))for(var s=0;s<t.length;s++){o=t[s];var c=n+el(o,s);a+=cs(o,e,r,c,i)}else if(c=yC(t),typeof c=="function")for(t=c.call(t),s=0;!(o=t.next()).done;)o=o.value,c=n+el(o,s++),a+=cs(o,e,r,c,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Pa(t,e,r){if(t==null)return t;var n=[],i=0;return cs(t,n,"","",function(o){return e.call(r,o,i++)}),n}function EC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},ls={transition:null},AC={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:ls,ReactCurrentOwner:_d};function yp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Pa,forEach:function(t,e,r){Pa(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!xd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ao;te.Fragment=lC;te.Profiler=dC;te.PureComponent=Ed;te.StrictMode=uC;te.Suspense=gC;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AC;te.act=yp;te.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=fp({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=_d.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(c in e)gp.call(e,c)&&!vp.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&s!==void 0?s[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:va,type:t.type,key:i,ref:o,props:n,_owner:a}};te.createContext=function(t){return t={$$typeof:hC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fC,_context:t},t.Consumer=t};te.createElement=mp;te.createFactory=function(t){var e=mp.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:pC,render:t}};te.isValidElement=xd;te.lazy=function(t){return{$$typeof:mC,_payload:{_status:-1,_result:t},_init:EC}};te.memo=function(t,e){return{$$typeof:vC,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=ls.transition;ls.transition={};try{t()}finally{ls.transition=e}};te.unstable_act=yp;te.useCallback=function(t,e){return Ot.current.useCallback(t,e)};te.useContext=function(t){return Ot.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};te.useEffect=function(t,e){return Ot.current.useEffect(t,e)};te.useId=function(){return Ot.current.useId()};te.useImperativeHandle=function(t,e,r){return Ot.current.useImperativeHandle(t,e,r)};te.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Ot.current.useMemo(t,e)};te.useReducer=function(t,e,r){return Ot.current.useReducer(t,e,r)};te.useRef=function(t){return Ot.current.useRef(t)};te.useState=function(t){return Ot.current.useState(t)};te.useSyncExternalStore=function(t,e,r){return Ot.current.useSyncExternalStore(t,e,r)};te.useTransition=function(){return Ot.current.useTransition()};te.version="18.3.1";up.exports=te;var B=up.exports;const dn=pc(B),_C=aC({__proto__:null,default:dn},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xC=B,SC=Symbol.for("react.element"),IC=Symbol.for("react.fragment"),TC=Object.prototype.hasOwnProperty,RC=xC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function Cp(t,e,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)TC.call(e,n)&&!OC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:SC,type:t,key:o,ref:a,props:i,_owner:RC.current}}gc.Fragment=IC;gc.jsx=Cp;gc.jsxs=Cp;lp.exports=gc;var k=lp.exports,wp={exports:{}},qt={},Ep={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,Y){var J=U.length;U.push(Y);e:for(;0<J;){var Me=J-1>>>1,Je=U[Me];if(0<i(Je,Y))U[Me]=Y,U[J]=Je,J=Me;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Y=U[0],J=U.pop();if(J!==Y){U[0]=J;e:for(var Me=0,Je=U.length,Na=Je>>>1;Me<Na;){var Ln=2*(Me+1)-1,Jc=U[Ln],Bn=Ln+1,ka=U[Bn];if(0>i(Jc,J))Bn<Je&&0>i(ka,Jc)?(U[Me]=ka,U[Bn]=J,Me=Bn):(U[Me]=Jc,U[Ln]=J,Me=Ln);else if(Bn<Je&&0>i(ka,J))U[Me]=ka,U[Bn]=J,Me=Bn;else break e}}return Y}function i(U,Y){var J=U.sortIndex-Y.sortIndex;return J!==0?J:U.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var c=[],l=[],u=1,d=null,f=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var Y=r(l);Y!==null;){if(Y.callback===null)n(l);else if(Y.startTime<=U)n(l),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=r(l)}}function E(U){if(g=!1,C(U),!p)if(r(c)!==null)p=!0,Mn(A);else{var Y=r(l);Y!==null&&Dn(E,Y.startTime-U)}}function A(U,Y){p=!1,g&&(g=!1,m(O),O=-1),h=!0;var J=f;try{for(C(Y),d=r(c);d!==null&&(!(d.expirationTime>Y)||U&&!re());){var Me=d.callback;if(typeof Me=="function"){d.callback=null,f=d.priorityLevel;var Je=Me(d.expirationTime<=Y);Y=t.unstable_now(),typeof Je=="function"?d.callback=Je:d===r(c)&&n(c),C(Y)}else n(c);d=r(c)}if(d!==null)var Na=!0;else{var Ln=r(l);Ln!==null&&Dn(E,Ln.startTime-Y),Na=!1}return Na}finally{d=null,f=J,h=!1}}var _=!1,x=null,O=-1,F=5,M=-1;function re(){return!(t.unstable_now()-M<F)}function Q(){if(x!==null){var U=t.unstable_now();M=U;var Y=!0;try{Y=x(!0,U)}finally{Y?de():(_=!1,x=null)}}else _=!1}var de;if(typeof v=="function")de=function(){v(Q)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,_r=_t.port2;_t.port1.onmessage=Q,de=function(){_r.postMessage(null)}}else de=function(){y(Q,0)};function Mn(U){x=U,_||(_=!0,de())}function Dn(U,Y){O=y(function(){U(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,Mn(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var Y=3;break;default:Y=f}var J=f;f=Y;try{return U()}finally{f=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,Y){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var J=f;f=U;try{return Y()}finally{f=J}},t.unstable_scheduleCallback=function(U,Y,J){var Me=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Me+J:Me):J=Me,U){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=J+Je,U={id:u++,callback:Y,priorityLevel:U,startTime:J,expirationTime:Je,sortIndex:-1},J>Me?(U.sortIndex=J,e(l,U),r(c)===null&&U===r(l)&&(g?(m(O),O=-1):g=!0,Dn(E,J-Me))):(U.sortIndex=Je,e(c,U),p||h||(p=!0,Mn(A))),U},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(U){var Y=f;return function(){var J=f;f=Y;try{return U.apply(this,arguments)}finally{f=J}}}})(Ap);Ep.exports=Ap;var NC=Ep.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC=B,Yt=NC;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _p=new Set,Yo={};function ui(t,e){$i(t,e),$i(t+"Capture",e)}function $i(t,e){for(Yo[t]=e,t=0;t<e.length;t++)_p.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,PC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_h={},xh={};function bC(t){return Wl.call(xh,t)?!0:Wl.call(_h,t)?!1:PC.test(t)?xh[t]=!0:(_h[t]=!0,!1)}function MC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DC(t,e,r,n){if(e===null||typeof e>"u"||MC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Nt(t,e,r,n,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new Nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new Nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new Nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new Nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new Nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new Nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new Nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new Nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new Nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sd=/[\-:]([a-z])/g;function Id(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sd,Id);pt[e]=new Nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sd,Id);pt[e]=new Nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sd,Id);pt[e]=new Nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new Nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Td(t,e,r,n){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DC(e,r,i,n)&&(r=null),n||i===null?bC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var en=kC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Ai=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),Rd=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),xp=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),Od=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Yl=Symbol.for("react.suspense_list"),Nd=Symbol.for("react.memo"),cn=Symbol.for("react.lazy"),Ip=Symbol.for("react.offscreen"),Sh=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=Sh&&t[Sh]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,tl;function Ro(t){if(tl===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);tl=e&&e[1]||""}return`
`+tl+t}var rl=!1;function nl(t,e){if(!t||rl)return"";rl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=s);break}}}finally{rl=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ro(t):""}function LC(t){switch(t.tag){case 5:return Ro(t.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return t=nl(t.type,!1),t;case 11:return t=nl(t.type.render,!1),t;case 1:return t=nl(t.type,!0),t;default:return""}}function ql(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case Ai:return"Portal";case $l:return"Profiler";case Rd:return"StrictMode";case Xl:return"Suspense";case Yl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sp:return(t.displayName||"Context")+".Consumer";case xp:return(t._context.displayName||"Context")+".Provider";case Od:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nd:return e=t.displayName||null,e!==null?e:ql(t.type)||"Memo";case cn:e=t._payload,t=t._init;try{return ql(t(e))}catch{}}return null}function BC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ql(e);case 8:return e===Rd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FC(t){var e=Tp(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ma(t){t._valueTracker||(t._valueTracker=FC(t))}function Rp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Tp(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ql(t,e){var r=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ih(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Rn(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Op(t,e){e=e.checked,e!=null&&Td(t,"checked",e,!1)}function Zl(t,e){Op(t,e);var r=Rn(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jl(t,e.type,r):e.hasOwnProperty("defaultValue")&&Jl(t,e.type,Rn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Th(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Jl(t,e,r){(e!=="number"||Is(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Oo=Array.isArray;function Ui(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Rn(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rh(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(b(92));if(Oo(r)){if(1<r.length)throw Error(b(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Rn(r)}}function Np(t,e){var r=Rn(e.value),n=Rn(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Da,Pp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Da=Da||document.createElement("div"),Da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function qo(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UC=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){UC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function bp(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function Mp(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=bp(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var HC=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ru(t,e){if(e){if(HC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iu=null;function kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ou=null,Hi=null,zi=null;function Nh(t){if(t=Ca(t)){if(typeof ou!="function")throw Error(b(280));var e=t.stateNode;e&&(e=wc(e),ou(t.stateNode,t.type,e))}}function Dp(t){Hi?zi?zi.push(t):zi=[t]:Hi=t}function Lp(){if(Hi){var t=Hi,e=zi;if(zi=Hi=null,Nh(t),e)for(t=0;t<e.length;t++)Nh(e[t])}}function Bp(t,e){return t(e)}function Fp(){}var il=!1;function Up(t,e,r){if(il)return t(e,r);il=!0;try{return Bp(t,e,r)}finally{il=!1,(Hi!==null||zi!==null)&&(Fp(),Lp())}}function Qo(t,e){var r=t.stateNode;if(r===null)return null;var n=wc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(b(231,e,typeof r));return r}var au=!1;if(Xr)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){au=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{au=!1}function zC(t,e,r,n,i,o,a,s,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Fo=!1,Ts=null,Rs=!1,su=null,KC={onError:function(t){Fo=!0,Ts=t}};function GC(t,e,r,n,i,o,a,s,c){Fo=!1,Ts=null,zC.apply(KC,arguments)}function VC(t,e,r,n,i,o,a,s,c){if(GC.apply(this,arguments),Fo){if(Fo){var l=Ts;Fo=!1,Ts=null}else throw Error(b(198));Rs||(Rs=!0,su=l)}}function di(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hp(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kh(t){if(di(t)!==t)throw Error(b(188))}function jC(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(b(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return kh(i),t;if(o===n)return kh(i),e;o=o.sibling}throw Error(b(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?t:e}function zp(t){return t=jC(t),t!==null?Kp(t):null}function Kp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Kp(t);if(e!==null)return e;t=t.sibling}return null}var Gp=Yt.unstable_scheduleCallback,Ph=Yt.unstable_cancelCallback,WC=Yt.unstable_shouldYield,$C=Yt.unstable_requestPaint,De=Yt.unstable_now,XC=Yt.unstable_getCurrentPriorityLevel,Pd=Yt.unstable_ImmediatePriority,Vp=Yt.unstable_UserBlockingPriority,Os=Yt.unstable_NormalPriority,YC=Yt.unstable_LowPriority,jp=Yt.unstable_IdlePriority,vc=null,br=null;function qC(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(vc,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:JC,QC=Math.log,ZC=Math.LN2;function JC(t){return t>>>=0,t===0?32:31-(QC(t)/ZC|0)|0}var La=64,Ba=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ns(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,o=t.pingedLanes,a=r&268435455;if(a!==0){var s=a&~i;s!==0?n=No(s):(o&=a,o!==0&&(n=No(o)))}else a=r&~i,a!==0?n=No(a):o!==0&&(n=No(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vr(e),i=1<<r,n|=t[r],e&=~i;return n}function e2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function t2(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-vr(o),s=1<<a,c=i[a];c===-1?(!(s&r)||s&n)&&(i[a]=e2(s,e)):c<=e&&(t.expiredLanes|=s),o&=~s}}function cu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wp(){var t=La;return La<<=1,!(La&4194240)&&(La=64),t}function ol(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ma(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=r}function r2(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-vr(r),o=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~o}}function bd(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var ge=0;function $p(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xp,Md,Yp,qp,Qp,lu=!1,Fa=[],mn=null,yn=null,Cn=null,Zo=new Map,Jo=new Map,fn=[],n2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bh(t,e){switch(t){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(e.pointerId)}}function yo(t,e,r,n,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ca(e),e!==null&&Md(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function i2(t,e,r,n,i){switch(e){case"focusin":return mn=yo(mn,t,e,r,n,i),!0;case"dragenter":return yn=yo(yn,t,e,r,n,i),!0;case"mouseover":return Cn=yo(Cn,t,e,r,n,i),!0;case"pointerover":var o=i.pointerId;return Zo.set(o,yo(Zo.get(o)||null,t,e,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Jo.set(o,yo(Jo.get(o)||null,t,e,r,n,i)),!0}return!1}function Zp(t){var e=Vn(t.target);if(e!==null){var r=di(e);if(r!==null){if(e=r.tag,e===13){if(e=Hp(r),e!==null){t.blockedOn=e,Qp(t.priority,function(){Yp(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=uu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);iu=n,r.target.dispatchEvent(n),iu=null}else return e=Ca(r),e!==null&&Md(e),t.blockedOn=r,!1;e.shift()}return!0}function Mh(t,e,r){us(t)&&r.delete(e)}function o2(){lu=!1,mn!==null&&us(mn)&&(mn=null),yn!==null&&us(yn)&&(yn=null),Cn!==null&&us(Cn)&&(Cn=null),Zo.forEach(Mh),Jo.forEach(Mh)}function Co(t,e){t.blockedOn===e&&(t.blockedOn=null,lu||(lu=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,o2)))}function ea(t){function e(i){return Co(i,t)}if(0<Fa.length){Co(Fa[0],t);for(var r=1;r<Fa.length;r++){var n=Fa[r];n.blockedOn===t&&(n.blockedOn=null)}}for(mn!==null&&Co(mn,t),yn!==null&&Co(yn,t),Cn!==null&&Co(Cn,t),Zo.forEach(e),Jo.forEach(e),r=0;r<fn.length;r++)n=fn[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<fn.length&&(r=fn[0],r.blockedOn===null);)Zp(r),r.blockedOn===null&&fn.shift()}var Ki=en.ReactCurrentBatchConfig,ks=!0;function a2(t,e,r,n){var i=ge,o=Ki.transition;Ki.transition=null;try{ge=1,Dd(t,e,r,n)}finally{ge=i,Ki.transition=o}}function s2(t,e,r,n){var i=ge,o=Ki.transition;Ki.transition=null;try{ge=4,Dd(t,e,r,n)}finally{ge=i,Ki.transition=o}}function Dd(t,e,r,n){if(ks){var i=uu(t,e,r,n);if(i===null)gl(t,e,n,Ps,r),bh(t,n);else if(i2(i,t,e,r,n))n.stopPropagation();else if(bh(t,n),e&4&&-1<n2.indexOf(t)){for(;i!==null;){var o=Ca(i);if(o!==null&&Xp(o),o=uu(t,e,r,n),o===null&&gl(t,e,n,Ps,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else gl(t,e,n,null,r)}}var Ps=null;function uu(t,e,r,n){if(Ps=null,t=kd(n),t=Vn(t),t!==null)if(e=di(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hp(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ps=t,null}function Jp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XC()){case Pd:return 1;case Vp:return 4;case Os:case YC:return 16;case jp:return 536870912;default:return 16}default:return 16}}var pn=null,Ld=null,ds=null;function eg(){if(ds)return ds;var t,e=Ld,r=e.length,n,i="value"in pn?pn.value:pn.textContent,o=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[o-n];n++);return ds=i.slice(t,1<n?1-n:void 0)}function fs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ua(){return!0}function Dh(){return!1}function Qt(t){function e(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ua:Dh,this.isPropagationStopped=Dh,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),e}var so={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bd=Qt(so),ya=Pe({},so,{view:0,detail:0}),c2=Qt(ya),al,sl,wo,mc=Pe({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wo&&(wo&&t.type==="mousemove"?(al=t.screenX-wo.screenX,sl=t.screenY-wo.screenY):sl=al=0,wo=t),al)},movementY:function(t){return"movementY"in t?t.movementY:sl}}),Lh=Qt(mc),l2=Pe({},mc,{dataTransfer:0}),u2=Qt(l2),d2=Pe({},ya,{relatedTarget:0}),cl=Qt(d2),f2=Pe({},so,{animationName:0,elapsedTime:0,pseudoElement:0}),h2=Qt(f2),p2=Pe({},so,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g2=Qt(p2),v2=Pe({},so,{data:0}),Bh=Qt(v2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C2[t])?!!e[t]:!1}function Fd(){return w2}var E2=Pe({},ya,{key:function(t){if(t.key){var e=m2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),A2=Qt(E2),_2=Pe({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=Qt(_2),x2=Pe({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),S2=Qt(x2),I2=Pe({},so,{propertyName:0,elapsedTime:0,pseudoElement:0}),T2=Qt(I2),R2=Pe({},mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=Qt(R2),N2=[9,13,27,32],Ud=Xr&&"CompositionEvent"in window,Uo=null;Xr&&"documentMode"in document&&(Uo=document.documentMode);var k2=Xr&&"TextEvent"in window&&!Uo,tg=Xr&&(!Ud||Uo&&8<Uo&&11>=Uo),Uh=" ",Hh=!1;function rg(t,e){switch(t){case"keyup":return N2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ng(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xi=!1;function P2(t,e){switch(t){case"compositionend":return ng(e);case"keypress":return e.which!==32?null:(Hh=!0,Uh);case"textInput":return t=e.data,t===Uh&&Hh?null:t;default:return null}}function b2(t,e){if(xi)return t==="compositionend"||!Ud&&rg(t,e)?(t=eg(),ds=Ld=pn=null,xi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tg&&e.locale!=="ko"?null:e.data;default:return null}}var M2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!M2[t.type]:e==="textarea"}function ig(t,e,r,n){Dp(n),e=bs(e,"onChange"),0<e.length&&(r=new Bd("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ho=null,ta=null;function D2(t){gg(t,0)}function yc(t){var e=Ti(t);if(Rp(e))return t}function L2(t,e){if(t==="change")return e}var og=!1;if(Xr){var ll;if(Xr){var ul="oninput"in document;if(!ul){var Kh=document.createElement("div");Kh.setAttribute("oninput","return;"),ul=typeof Kh.oninput=="function"}ll=ul}else ll=!1;og=ll&&(!document.documentMode||9<document.documentMode)}function Gh(){Ho&&(Ho.detachEvent("onpropertychange",ag),ta=Ho=null)}function ag(t){if(t.propertyName==="value"&&yc(ta)){var e=[];ig(e,ta,t,kd(t)),Up(D2,e)}}function B2(t,e,r){t==="focusin"?(Gh(),Ho=e,ta=r,Ho.attachEvent("onpropertychange",ag)):t==="focusout"&&Gh()}function F2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yc(ta)}function U2(t,e){if(t==="click")return yc(e)}function H2(t,e){if(t==="input"||t==="change")return yc(e)}function z2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wr=typeof Object.is=="function"?Object.is:z2;function ra(t,e){if(wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Wl.call(e,i)||!wr(t[i],e[i]))return!1}return!0}function Vh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jh(t,e){var r=Vh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vh(r)}}function sg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cg(){for(var t=window,e=Is();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Is(t.document)}return e}function Hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K2(t){var e=cg(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sg(r.ownerDocument.documentElement,r)){if(n!==null&&Hd(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!t.extend&&o>n&&(i=n,n=o,o=i),i=jh(r,o);var a=jh(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G2=Xr&&"documentMode"in document&&11>=document.documentMode,Si=null,du=null,zo=null,fu=!1;function Wh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fu||Si==null||Si!==Is(n)||(n=Si,"selectionStart"in n&&Hd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zo&&ra(zo,n)||(zo=n,n=bs(du,"onSelect"),0<n.length&&(e=new Bd("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Si)))}function Ha(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ii={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},dl={},lg={};Xr&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function Cc(t){if(dl[t])return dl[t];if(!Ii[t])return t;var e=Ii[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lg)return dl[t]=e[r];return t}var ug=Cc("animationend"),dg=Cc("animationiteration"),fg=Cc("animationstart"),hg=Cc("transitionend"),pg=new Map,$h="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(t,e){pg.set(t,e),ui(e,[t])}for(var fl=0;fl<$h.length;fl++){var hl=$h[fl],V2=hl.toLowerCase(),j2=hl[0].toUpperCase()+hl.slice(1);kn(V2,"on"+j2)}kn(ug,"onAnimationEnd");kn(dg,"onAnimationIteration");kn(fg,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(hg,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function Xh(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VC(n,e,void 0,t),t.currentTarget=null}function gg(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var a=n.length-1;0<=a;a--){var s=n[a],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==o&&i.isPropagationStopped())break e;Xh(i,s,l),o=c}else for(a=0;a<n.length;a++){if(s=n[a],c=s.instance,l=s.currentTarget,s=s.listener,c!==o&&i.isPropagationStopped())break e;Xh(i,s,l),o=c}}}if(Rs)throw t=su,Rs=!1,su=null,t}function Ae(t,e){var r=e[mu];r===void 0&&(r=e[mu]=new Set);var n=t+"__bubble";r.has(n)||(vg(e,t,2,!1),r.add(n))}function pl(t,e,r){var n=0;e&&(n|=4),vg(r,t,n,e)}var za="_reactListening"+Math.random().toString(36).slice(2);function na(t){if(!t[za]){t[za]=!0,_p.forEach(function(r){r!=="selectionchange"&&(W2.has(r)||pl(r,!1,t),pl(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[za]||(e[za]=!0,pl("selectionchange",!1,e))}}function vg(t,e,r,n){switch(Jp(e)){case 1:var i=a2;break;case 4:i=s2;break;default:i=Dd}r=i.bind(null,e,r,t),i=void 0,!au||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function gl(t,e,r,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Vn(s),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}s=s.parentNode}}n=n.return}Up(function(){var l=o,u=kd(r),d=[];e:{var f=pg.get(t);if(f!==void 0){var h=Bd,p=t;switch(t){case"keypress":if(fs(r)===0)break e;case"keydown":case"keyup":h=A2;break;case"focusin":p="focus",h=cl;break;case"focusout":p="blur",h=cl;break;case"beforeblur":case"afterblur":h=cl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Lh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=u2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=S2;break;case ug:case dg:case fg:h=h2;break;case hg:h=T2;break;case"scroll":h=c2;break;case"wheel":h=O2;break;case"copy":case"cut":case"paste":h=g2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Fh}var g=(e&4)!==0,y=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var v=l,C;v!==null;){C=v;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,m!==null&&(E=Qo(v,m),E!=null&&g.push(ia(v,E,C)))),y)break;v=v.return}0<g.length&&(f=new h(f,p,null,r,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&r!==iu&&(p=r.relatedTarget||r.fromElement)&&(Vn(p)||p[Yr]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=l,p=p?Vn(p):null,p!==null&&(y=di(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(g=Lh,E="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=Fh,E="onPointerLeave",m="onPointerEnter",v="pointer"),y=h==null?f:Ti(h),C=p==null?f:Ti(p),f=new g(E,v+"leave",h,r,u),f.target=y,f.relatedTarget=C,E=null,Vn(u)===l&&(g=new g(m,v+"enter",p,r,u),g.target=C,g.relatedTarget=y,E=g),y=E,h&&p)t:{for(g=h,m=p,v=0,C=g;C;C=vi(C))v++;for(C=0,E=m;E;E=vi(E))C++;for(;0<v-C;)g=vi(g),v--;for(;0<C-v;)m=vi(m),C--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=vi(g),m=vi(m)}g=null}else g=null;h!==null&&Yh(d,f,h,g,!1),p!==null&&y!==null&&Yh(d,y,p,g,!0)}}e:{if(f=l?Ti(l):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var A=L2;else if(zh(f))if(og)A=H2;else{A=F2;var _=B2}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=U2);if(A&&(A=A(t,l))){ig(d,A,r,u);break e}_&&_(t,f,l),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Jl(f,"number",f.value)}switch(_=l?Ti(l):window,t){case"focusin":(zh(_)||_.contentEditable==="true")&&(Si=_,du=l,zo=null);break;case"focusout":zo=du=Si=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Wh(d,r,u);break;case"selectionchange":if(G2)break;case"keydown":case"keyup":Wh(d,r,u)}var x;if(Ud)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xi?rg(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(tg&&r.locale!=="ko"&&(xi||O!=="onCompositionStart"?O==="onCompositionEnd"&&xi&&(x=eg()):(pn=u,Ld="value"in pn?pn.value:pn.textContent,xi=!0)),_=bs(l,O),0<_.length&&(O=new Bh(O,t,null,r,u),d.push({event:O,listeners:_}),x?O.data=x:(x=ng(r),x!==null&&(O.data=x)))),(x=k2?P2(t,r):b2(t,r))&&(l=bs(l,"onBeforeInput"),0<l.length&&(u=new Bh("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:l}),u.data=x))}gg(d,e)})}function ia(t,e,r){return{instance:t,listener:e,currentTarget:r}}function bs(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Qo(t,r),o!=null&&n.unshift(ia(t,o,i)),o=Qo(t,e),o!=null&&n.push(ia(t,o,i))),t=t.return}return n}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yh(t,e,r,n,i){for(var o=e._reactName,a=[];r!==null&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&l!==null&&(s=l,i?(c=Qo(r,o),c!=null&&a.unshift(ia(r,c,s))):i||(c=Qo(r,o),c!=null&&a.push(ia(r,c,s)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var $2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function qh(t){return(typeof t=="string"?t:""+t).replace($2,`
`).replace(X2,"")}function Ka(t,e,r){if(e=qh(e),qh(t)!==e&&r)throw Error(b(425))}function Ms(){}var hu=null,pu=null;function gu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vu=typeof setTimeout=="function"?setTimeout:void 0,Y2=typeof clearTimeout=="function"?clearTimeout:void 0,Qh=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qh<"u"?function(t){return Qh.resolve(null).then(t).catch(Q2)}:vu;function Q2(t){setTimeout(function(){throw t})}function vl(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ea(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ea(e)}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),Tr="__reactFiber$"+co,oa="__reactProps$"+co,Yr="__reactContainer$"+co,mu="__reactEvents$"+co,Z2="__reactListeners$"+co,J2="__reactHandles$"+co;function Vn(t){var e=t[Tr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yr]||r[Tr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Zh(t);t!==null;){if(r=t[Tr])return r;t=Zh(t)}return e}t=r,r=t.parentNode}return null}function Ca(t){return t=t[Tr]||t[Yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function wc(t){return t[oa]||null}var yu=[],Ri=-1;function Pn(t){return{current:t}}function Ie(t){0>Ri||(t.current=yu[Ri],yu[Ri]=null,Ri--)}function we(t,e){Ri++,yu[Ri]=t.current,t.current=e}var On={},Et=Pn(On),Dt=Pn(!1),ti=On;function Xi(t,e){var r=t.type.contextTypes;if(!r)return On;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lt(t){return t=t.childContextTypes,t!=null}function Ds(){Ie(Dt),Ie(Et)}function Jh(t,e,r){if(Et.current!==On)throw Error(b(168));we(Et,e),we(Dt,r)}function mg(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(b(108,BC(t)||"Unknown",i));return Pe({},r,n)}function Ls(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||On,ti=Et.current,we(Et,t),we(Dt,Dt.current),!0}function e1(t,e,r){var n=t.stateNode;if(!n)throw Error(b(169));r?(t=mg(t,e,ti),n.__reactInternalMemoizedMergedChildContext=t,Ie(Dt),Ie(Et),we(Et,t)):Ie(Dt),we(Dt,r)}var zr=null,Ec=!1,ml=!1;function yg(t){zr===null?zr=[t]:zr.push(t)}function ew(t){Ec=!0,yg(t)}function bn(){if(!ml&&zr!==null){ml=!0;var t=0,e=ge;try{var r=zr;for(ge=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}zr=null,Ec=!1}catch(i){throw zr!==null&&(zr=zr.slice(t+1)),Gp(Pd,bn),i}finally{ge=e,ml=!1}}return null}var Oi=[],Ni=0,Bs=null,Fs=0,Jt=[],er=0,ri=null,Kr=1,Gr="";function Hn(t,e){Oi[Ni++]=Fs,Oi[Ni++]=Bs,Bs=t,Fs=e}function Cg(t,e,r){Jt[er++]=Kr,Jt[er++]=Gr,Jt[er++]=ri,ri=t;var n=Kr;t=Gr;var i=32-vr(n)-1;n&=~(1<<i),r+=1;var o=32-vr(e)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Kr=1<<32-vr(e)+i|r<<i|n,Gr=o+t}else Kr=1<<o|r<<i|n,Gr=t}function zd(t){t.return!==null&&(Hn(t,1),Cg(t,1,0))}function Kd(t){for(;t===Bs;)Bs=Oi[--Ni],Oi[Ni]=null,Fs=Oi[--Ni],Oi[Ni]=null;for(;t===ri;)ri=Jt[--er],Jt[er]=null,Gr=Jt[--er],Jt[er]=null,Kr=Jt[--er],Jt[er]=null}var $t=null,jt=null,Te=!1,hr=null;function wg(t,e){var r=tr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function t1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,jt=wn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ri!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=tr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$t=t,jt=null,!0):!1;default:return!1}}function Cu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wu(t){if(Te){var e=jt;if(e){var r=e;if(!t1(t,e)){if(Cu(t))throw Error(b(418));e=wn(r.nextSibling);var n=$t;e&&t1(t,e)?wg(n,r):(t.flags=t.flags&-4097|2,Te=!1,$t=t)}}else{if(Cu(t))throw Error(b(418));t.flags=t.flags&-4097|2,Te=!1,$t=t}}}function r1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Ga(t){if(t!==$t)return!1;if(!Te)return r1(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gu(t.type,t.memoizedProps)),e&&(e=jt)){if(Cu(t))throw Eg(),Error(b(418));for(;e;)wg(t,e),e=wn(e.nextSibling)}if(r1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jt=wn(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jt=null}}else jt=$t?wn(t.stateNode.nextSibling):null;return!0}function Eg(){for(var t=jt;t;)t=wn(t.nextSibling)}function Yi(){jt=$t=null,Te=!1}function Gd(t){hr===null?hr=[t]:hr.push(t)}var tw=en.ReactCurrentBatchConfig;function Eo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,t));var i=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function n1(t){var e=t._init;return e(t._payload)}function Ag(t){function e(m,v){if(t){var C=m.deletions;C===null?(m.deletions=[v],m.flags|=16):C.push(v)}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=xn(m,v),m.index=0,m.sibling=null,m}function o(m,v,C){return m.index=C,t?(C=m.alternate,C!==null?(C=C.index,C<v?(m.flags|=2,v):C):(m.flags|=2,v)):(m.flags|=1048576,v)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,v,C,E){return v===null||v.tag!==6?(v=xl(C,m.mode,E),v.return=m,v):(v=i(v,C),v.return=m,v)}function c(m,v,C,E){var A=C.type;return A===_i?u(m,v,C.props.children,E,C.key):v!==null&&(v.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===cn&&n1(A)===v.type)?(E=i(v,C.props),E.ref=Eo(m,v,C),E.return=m,E):(E=Cs(C.type,C.key,C.props,null,m.mode,E),E.ref=Eo(m,v,C),E.return=m,E)}function l(m,v,C,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==C.containerInfo||v.stateNode.implementation!==C.implementation?(v=Sl(C,m.mode,E),v.return=m,v):(v=i(v,C.children||[]),v.return=m,v)}function u(m,v,C,E,A){return v===null||v.tag!==7?(v=Qn(C,m.mode,E,A),v.return=m,v):(v=i(v,C),v.return=m,v)}function d(m,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return v=xl(""+v,m.mode,C),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ba:return C=Cs(v.type,v.key,v.props,null,m.mode,C),C.ref=Eo(m,null,v),C.return=m,C;case Ai:return v=Sl(v,m.mode,C),v.return=m,v;case cn:var E=v._init;return d(m,E(v._payload),C)}if(Oo(v)||vo(v))return v=Qn(v,m.mode,C,null),v.return=m,v;Va(m,v)}return null}function f(m,v,C,E){var A=v!==null?v.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:s(m,v,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ba:return C.key===A?c(m,v,C,E):null;case Ai:return C.key===A?l(m,v,C,E):null;case cn:return A=C._init,f(m,v,A(C._payload),E)}if(Oo(C)||vo(C))return A!==null?null:u(m,v,C,E,null);Va(m,C)}return null}function h(m,v,C,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(C)||null,s(v,m,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ba:return m=m.get(E.key===null?C:E.key)||null,c(v,m,E,A);case Ai:return m=m.get(E.key===null?C:E.key)||null,l(v,m,E,A);case cn:var _=E._init;return h(m,v,C,_(E._payload),A)}if(Oo(E)||vo(E))return m=m.get(C)||null,u(v,m,E,A,null);Va(v,E)}return null}function p(m,v,C,E){for(var A=null,_=null,x=v,O=v=0,F=null;x!==null&&O<C.length;O++){x.index>O?(F=x,x=null):F=x.sibling;var M=f(m,x,C[O],E);if(M===null){x===null&&(x=F);break}t&&x&&M.alternate===null&&e(m,x),v=o(M,v,O),_===null?A=M:_.sibling=M,_=M,x=F}if(O===C.length)return r(m,x),Te&&Hn(m,O),A;if(x===null){for(;O<C.length;O++)x=d(m,C[O],E),x!==null&&(v=o(x,v,O),_===null?A=x:_.sibling=x,_=x);return Te&&Hn(m,O),A}for(x=n(m,x);O<C.length;O++)F=h(x,m,O,C[O],E),F!==null&&(t&&F.alternate!==null&&x.delete(F.key===null?O:F.key),v=o(F,v,O),_===null?A=F:_.sibling=F,_=F);return t&&x.forEach(function(re){return e(m,re)}),Te&&Hn(m,O),A}function g(m,v,C,E){var A=vo(C);if(typeof A!="function")throw Error(b(150));if(C=A.call(C),C==null)throw Error(b(151));for(var _=A=null,x=v,O=v=0,F=null,M=C.next();x!==null&&!M.done;O++,M=C.next()){x.index>O?(F=x,x=null):F=x.sibling;var re=f(m,x,M.value,E);if(re===null){x===null&&(x=F);break}t&&x&&re.alternate===null&&e(m,x),v=o(re,v,O),_===null?A=re:_.sibling=re,_=re,x=F}if(M.done)return r(m,x),Te&&Hn(m,O),A;if(x===null){for(;!M.done;O++,M=C.next())M=d(m,M.value,E),M!==null&&(v=o(M,v,O),_===null?A=M:_.sibling=M,_=M);return Te&&Hn(m,O),A}for(x=n(m,x);!M.done;O++,M=C.next())M=h(x,m,O,M.value,E),M!==null&&(t&&M.alternate!==null&&x.delete(M.key===null?O:M.key),v=o(M,v,O),_===null?A=M:_.sibling=M,_=M);return t&&x.forEach(function(Q){return e(m,Q)}),Te&&Hn(m,O),A}function y(m,v,C,E){if(typeof C=="object"&&C!==null&&C.type===_i&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ba:e:{for(var A=C.key,_=v;_!==null;){if(_.key===A){if(A=C.type,A===_i){if(_.tag===7){r(m,_.sibling),v=i(_,C.props.children),v.return=m,m=v;break e}}else if(_.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===cn&&n1(A)===_.type){r(m,_.sibling),v=i(_,C.props),v.ref=Eo(m,_,C),v.return=m,m=v;break e}r(m,_);break}else e(m,_);_=_.sibling}C.type===_i?(v=Qn(C.props.children,m.mode,E,C.key),v.return=m,m=v):(E=Cs(C.type,C.key,C.props,null,m.mode,E),E.ref=Eo(m,v,C),E.return=m,m=E)}return a(m);case Ai:e:{for(_=C.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===C.containerInfo&&v.stateNode.implementation===C.implementation){r(m,v.sibling),v=i(v,C.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=Sl(C,m.mode,E),v.return=m,m=v}return a(m);case cn:return _=C._init,y(m,v,_(C._payload),E)}if(Oo(C))return p(m,v,C,E);if(vo(C))return g(m,v,C,E);Va(m,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,C),v.return=m,m=v):(r(m,v),v=xl(C,m.mode,E),v.return=m,m=v),a(m)):r(m,v)}return y}var qi=Ag(!0),_g=Ag(!1),Us=Pn(null),Hs=null,ki=null,Vd=null;function jd(){Vd=ki=Hs=null}function Wd(t){var e=Us.current;Ie(Us),t._currentValue=e}function Eu(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Gi(t,e){Hs=t,Vd=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mt=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(Vd!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(Hs===null)throw Error(b(308));ki=t,Hs.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var jn=null;function $d(t){jn===null?jn=[t]:jn.push(t)}function xg(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$d(e)):(r.next=i.next,i.next=r),e.interleaved=r,qr(t,n)}function qr(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ln=!1;function Xd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ae&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,qr(t,r)}return i=n.interleaved,i===null?(e.next=e,$d(n)):(e.next=i.next,i.next=e),n.interleaved=e,qr(t,r)}function hs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bd(t,r)}}function i1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=e:o=o.next=e}else i=o=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function zs(t,e,r,n){var i=t.updateQueue;ln=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,a===null?o=l:a.next=l,a=c;var u=t.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==a&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(o!==null){var d=i.baseState;a=0,u=l=c=null,s=o;do{var f=s.lane,h=s.eventTime;if((n&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,g=s;switch(f=e,h=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=Pe({},d,f);break e;case 2:ln=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=h,c=d):u=u.next=h,a|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ii|=a,t.lanes=a,t.memoizedState=d}}function o1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(b(191,i));i.call(n)}}}var wa={},Mr=Pn(wa),aa=Pn(wa),sa=Pn(wa);function Wn(t){if(t===wa)throw Error(b(174));return t}function Yd(t,e){switch(we(sa,e),we(aa,t),we(Mr,wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tu(e,t)}Ie(Mr),we(Mr,e)}function Qi(){Ie(Mr),Ie(aa),Ie(sa)}function Ig(t){Wn(sa.current);var e=Wn(Mr.current),r=tu(e,t.type);e!==r&&(we(aa,t),we(Mr,r))}function qd(t){aa.current===t&&(Ie(Mr),Ie(aa))}var Oe=Pn(0);function Ks(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yl=[];function Qd(){for(var t=0;t<yl.length;t++)yl[t]._workInProgressVersionPrimary=null;yl.length=0}var ps=en.ReactCurrentDispatcher,Cl=en.ReactCurrentBatchConfig,ni=0,ke=null,je=null,nt=null,Gs=!1,Ko=!1,ca=0,rw=0;function gt(){throw Error(b(321))}function Zd(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wr(t[r],e[r]))return!1;return!0}function Jd(t,e,r,n,i,o){if(ni=o,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ps.current=t===null||t.memoizedState===null?aw:sw,t=r(n,i),Ko){o=0;do{if(Ko=!1,ca=0,25<=o)throw Error(b(301));o+=1,nt=je=null,e.updateQueue=null,ps.current=cw,t=r(n,i)}while(Ko)}if(ps.current=Vs,e=je!==null&&je.next!==null,ni=0,nt=je=ke=null,Gs=!1,e)throw Error(b(300));return t}function ef(){var t=ca!==0;return ca=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ke.memoizedState=nt=t:nt=nt.next=t,nt}function ar(){if(je===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=nt===null?ke.memoizedState:nt.next;if(e!==null)nt=e,je=t;else{if(t===null)throw Error(b(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},nt===null?ke.memoizedState=nt=t:nt=nt.next=t}return nt}function la(t,e){return typeof e=="function"?e(t):e}function wl(t){var e=ar(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=je,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var s=a=null,c=null,l=o;do{var u=l.lane;if((ni&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(s=c=d,a=n):c=c.next=d,ke.lanes|=u,ii|=u}l=l.next}while(l!==null&&l!==o);c===null?a=n:c.next=s,wr(n,e.memoizedState)||(Mt=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do o=i.lane,ke.lanes|=o,ii|=o,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function El(t){var e=ar(),r=e.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,o=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);wr(o,e.memoizedState)||(Mt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Tg(){}function Rg(t,e){var r=ke,n=ar(),i=e(),o=!wr(n.memoizedState,i);if(o&&(n.memoizedState=i,Mt=!0),n=n.queue,tf(kg.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||nt!==null&&nt.memoizedState.tag&1){if(r.flags|=2048,ua(9,Ng.bind(null,r,n,i,e),void 0,null),st===null)throw Error(b(349));ni&30||Og(r,e,i)}return i}function Og(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ng(t,e,r,n){e.value=r,e.getSnapshot=n,Pg(e)&&bg(t)}function kg(t,e,r){return r(function(){Pg(e)&&bg(t)})}function Pg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wr(t,r)}catch{return!0}}function bg(t){var e=qr(t,1);e!==null&&mr(e,t,1,-1)}function a1(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},e.queue=t,t=t.dispatch=ow.bind(null,ke,t),[e.memoizedState,t]}function ua(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Mg(){return ar().memoizedState}function gs(t,e,r,n){var i=Ir();ke.flags|=t,i.memoizedState=ua(1|e,r,void 0,n===void 0?null:n)}function Ac(t,e,r,n){var i=ar();n=n===void 0?null:n;var o=void 0;if(je!==null){var a=je.memoizedState;if(o=a.destroy,n!==null&&Zd(n,a.deps)){i.memoizedState=ua(e,r,o,n);return}}ke.flags|=t,i.memoizedState=ua(1|e,r,o,n)}function s1(t,e){return gs(8390656,8,t,e)}function tf(t,e){return Ac(2048,8,t,e)}function Dg(t,e){return Ac(4,2,t,e)}function Lg(t,e){return Ac(4,4,t,e)}function Bg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fg(t,e,r){return r=r!=null?r.concat([t]):null,Ac(4,4,Bg.bind(null,e,t),r)}function rf(){}function Ug(t,e){var r=ar();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Hg(t,e){var r=ar();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Zd(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function zg(t,e,r){return ni&21?(wr(r,e)||(r=Wp(),ke.lanes|=r,ii|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=r)}function nw(t,e){var r=ge;ge=r!==0&&4>r?r:4,t(!0);var n=Cl.transition;Cl.transition={};try{t(!1),e()}finally{ge=r,Cl.transition=n}}function Kg(){return ar().memoizedState}function iw(t,e,r){var n=_n(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gg(t))Vg(e,r);else if(r=xg(t,e,r,n),r!==null){var i=Rt();mr(r,t,n,i),jg(r,e,n)}}function ow(t,e,r){var n=_n(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gg(t))Vg(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,wr(s,a)){var c=e.interleaved;c===null?(i.next=i,$d(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=xg(t,e,i,n),r!==null&&(i=Rt(),mr(r,t,n,i),jg(r,e,n))}}function Gg(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function Vg(t,e){Ko=Gs=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jg(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bd(t,r)}}var Vs={readContext:or,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},aw={readContext:or,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:s1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,gs(4194308,4,Bg.bind(null,e,t),r)},useLayoutEffect:function(t,e){return gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return gs(4,2,t,e)},useMemo:function(t,e){var r=Ir();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ir();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=iw.bind(null,ke,t),[n.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:a1,useDebugValue:rf,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=a1(!1),e=t[0];return t=nw.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ke,i=Ir();if(Te){if(r===void 0)throw Error(b(407));r=r()}else{if(r=e(),st===null)throw Error(b(349));ni&30||Og(n,e,r)}i.memoizedState=r;var o={value:r,getSnapshot:e};return i.queue=o,s1(kg.bind(null,n,o,t),[t]),n.flags|=2048,ua(9,Ng.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Ir(),e=st.identifierPrefix;if(Te){var r=Gr,n=Kr;r=(n&~(1<<32-vr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ca++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=rw++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sw={readContext:or,useCallback:Ug,useContext:or,useEffect:tf,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Lg,useMemo:Hg,useReducer:wl,useRef:Mg,useState:function(){return wl(la)},useDebugValue:rf,useDeferredValue:function(t){var e=ar();return zg(e,je.memoizedState,t)},useTransition:function(){var t=wl(la)[0],e=ar().memoizedState;return[t,e]},useMutableSource:Tg,useSyncExternalStore:Rg,useId:Kg,unstable_isNewReconciler:!1},cw={readContext:or,useCallback:Ug,useContext:or,useEffect:tf,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Lg,useMemo:Hg,useReducer:El,useRef:Mg,useState:function(){return El(la)},useDebugValue:rf,useDeferredValue:function(t){var e=ar();return je===null?e.memoizedState=t:zg(e,je.memoizedState,t)},useTransition:function(){var t=El(la)[0],e=ar().memoizedState;return[t,e]},useMutableSource:Tg,useSyncExternalStore:Rg,useId:Kg,unstable_isNewReconciler:!1};function ur(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Au(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Pe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var _c={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rt(),i=_n(t),o=Wr(n,i);o.payload=e,r!=null&&(o.callback=r),e=En(t,o,i),e!==null&&(mr(e,t,i,n),hs(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rt(),i=_n(t),o=Wr(n,i);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=En(t,o,i),e!==null&&(mr(e,t,i,n),hs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rt(),n=_n(t),i=Wr(r,n);i.tag=2,e!=null&&(i.callback=e),e=En(t,i,n),e!==null&&(mr(e,t,n,r),hs(e,t,n))}};function c1(t,e,r,n,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,a):e.prototype&&e.prototype.isPureReactComponent?!ra(r,n)||!ra(i,o):!0}function Wg(t,e,r){var n=!1,i=On,o=e.contextType;return typeof o=="object"&&o!==null?o=or(o):(i=Lt(e)?ti:Et.current,n=e.contextTypes,o=(n=n!=null)?Xi(t,i):On),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_c,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function l1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&_c.enqueueReplaceState(e,e.state,null)}function _u(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Xd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=or(o):(o=Lt(e)?ti:Et.current,i.context=Xi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Au(t,e,o,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_c.enqueueReplaceState(i,i.state,null),zs(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zi(t,e){try{var r="",n=e;do r+=LC(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Al(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xu(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function $g(t,e,r){r=Wr(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ws||(Ws=!0,Mu=n),xu(t,e)},r}function Xg(t,e,r){r=Wr(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xu(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){xu(t,e),typeof n!="function"&&(An===null?An=new Set([this]):An.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function u1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new lw;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=_w.bind(null,t,e,r),e.then(t,t))}function d1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Wr(-1,1),e.tag=2,En(r,e,1))),r.lanes|=1),t)}var uw=en.ReactCurrentOwner,Mt=!1;function Tt(t,e,r,n){e.child=t===null?_g(e,null,r,n):qi(e,t.child,r,n)}function h1(t,e,r,n,i){r=r.render;var o=e.ref;return Gi(e,i),n=Jd(t,e,r,n,o,i),r=ef(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Te&&r&&zd(e),e.flags|=1,Tt(t,e,n,i),e.child)}function p1(t,e,r,n,i){if(t===null){var o=r.type;return typeof o=="function"&&!df(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Yg(t,e,o,n,i)):(t=Cs(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ra,r(a,n)&&t.ref===e.ref)return Qr(t,e,i)}return e.flags|=1,t=xn(o,n),t.ref=e.ref,t.return=e,e.child=t}function Yg(t,e,r,n,i){if(t!==null){var o=t.memoizedProps;if(ra(o,n)&&t.ref===e.ref)if(Mt=!1,e.pendingProps=n=o,(t.lanes&i)!==0)t.flags&131072&&(Mt=!0);else return e.lanes=t.lanes,Qr(t,e,i)}return Su(t,e,r,n,i)}function qg(t,e,r){var n=e.pendingProps,i=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},we(bi,Gt),Gt|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,we(bi,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,we(bi,Gt),Gt|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,we(bi,Gt),Gt|=n;return Tt(t,e,i,r),e.child}function Qg(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Su(t,e,r,n,i){var o=Lt(r)?ti:Et.current;return o=Xi(e,o),Gi(e,i),r=Jd(t,e,r,n,o,i),n=ef(),t!==null&&!Mt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Qr(t,e,i)):(Te&&n&&zd(e),e.flags|=1,Tt(t,e,r,i),e.child)}function g1(t,e,r,n,i){if(Lt(r)){var o=!0;Ls(e)}else o=!1;if(Gi(e,i),e.stateNode===null)vs(t,e),Wg(e,r,n),_u(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var c=a.context,l=r.contextType;typeof l=="object"&&l!==null?l=or(l):(l=Lt(r)?ti:Et.current,l=Xi(e,l));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||c!==l)&&l1(e,a,n,l),ln=!1;var f=e.memoizedState;a.state=f,zs(e,n,a,i),c=e.memoizedState,s!==n||f!==c||Dt.current||ln?(typeof u=="function"&&(Au(e,r,u,n),c=e.memoizedState),(s=ln||c1(e,r,s,n,f,c,l))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=l,n=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Sg(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:ur(e.type,s),a.props=l,d=e.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=or(c):(c=Lt(r)?ti:Et.current,c=Xi(e,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==d||f!==c)&&l1(e,a,n,c),ln=!1,f=e.memoizedState,a.state=f,zs(e,n,a,i);var p=e.memoizedState;s!==d||f!==p||Dt.current||ln?(typeof h=="function"&&(Au(e,r,h,n),p=e.memoizedState),(l=ln||c1(e,r,l,n,f,p,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=c,n=l):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Iu(t,e,r,n,o,i)}function Iu(t,e,r,n,i,o){Qg(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&e1(e,r,!1),Qr(t,e,o);n=e.stateNode,uw.current=e;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=qi(e,t.child,null,o),e.child=qi(e,null,s,o)):Tt(t,e,s,o),e.memoizedState=n.state,i&&e1(e,r,!0),e.child}function Zg(t){var e=t.stateNode;e.pendingContext?Jh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jh(t,e.context,!1),Yd(t,e.containerInfo)}function v1(t,e,r,n,i){return Yi(),Gd(i),e.flags|=256,Tt(t,e,r,n),e.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Ru(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jg(t,e,r){var n=e.pendingProps,i=Oe.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),we(Oe,i&1),t===null)return wu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,o?(n=e.mode,o=e.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ic(a,n,0,null),t=Qn(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ru(r),e.memoizedState=Tu,t):nf(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return dw(t,e,a,n,s,i,r);if(o){o=n.fallback,a=e.mode,i=t.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=xn(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=xn(s,o):(o=Qn(o,a,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,a=t.child.memoizedState,a=a===null?Ru(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~r,e.memoizedState=Tu,n}return o=t.child,t=o.sibling,n=xn(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function nf(t,e){return e=Ic({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ja(t,e,r,n){return n!==null&&Gd(n),qi(e,t.child,null,r),t=nf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function dw(t,e,r,n,i,o,a){if(r)return e.flags&256?(e.flags&=-257,n=Al(Error(b(422))),ja(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Ic({mode:"visible",children:n.children},i,0,null),o=Qn(o,i,a,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&qi(e,t.child,null,a),e.child.memoizedState=Ru(a),e.memoizedState=Tu,o);if(!(e.mode&1))return ja(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,o=Error(b(419)),n=Al(o,n,void 0),ja(t,e,a,n)}if(s=(a&t.childLanes)!==0,Mt||s){if(n=st,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,qr(t,i),mr(n,t,i,-1))}return uf(),n=Al(Error(b(421))),ja(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jt=wn(i.nextSibling),$t=e,Te=!0,hr=null,t!==null&&(Jt[er++]=Kr,Jt[er++]=Gr,Jt[er++]=ri,Kr=t.id,Gr=t.overflow,ri=e),e=nf(e,n.children),e.flags|=4096,e)}function m1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Eu(t.return,e,r)}function _l(t,e,r,n,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function ev(t,e,r){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(Tt(t,e,n.children,r),n=Oe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m1(t,r,e);else if(t.tag===19)m1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(we(Oe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ks(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),_l(e,!1,i,r,o);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ks(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}_l(e,!0,r,null,o);break;case"together":_l(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Qr(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ii|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,r=xn(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xn(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function fw(t,e,r){switch(e.tag){case 3:Zg(e),Yi();break;case 5:Ig(e);break;case 1:Lt(e.type)&&Ls(e);break;case 4:Yd(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;we(Us,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(we(Oe,Oe.current&1),e.flags|=128,null):r&e.child.childLanes?Jg(t,e,r):(we(Oe,Oe.current&1),t=Qr(t,e,r),t!==null?t.sibling:null);we(Oe,Oe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ev(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),we(Oe,Oe.current),n)break;return null;case 22:case 23:return e.lanes=0,qg(t,e,r)}return Qr(t,e,r)}var tv,Ou,rv,nv;tv=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ou=function(){};rv=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wn(Mr.current);var o=null;switch(r){case"input":i=Ql(t,i),n=Ql(t,n),o=[];break;case"select":i=Pe({},i,{value:void 0}),n=Pe({},n,{value:void 0}),o=[];break;case"textarea":i=eu(t,i),n=eu(t,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ms)}ru(r,n);var a;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Yo.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var c=n[l];if(s=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==s&&(c!=null||s!=null))if(l==="style")if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(o=o||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Yo.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Ae("scroll",t),o||s===c||(o=[])):(o=o||[]).push(l,c))}r&&(o=o||[]).push("style",r);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};nv=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ao(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hw(t,e,r){var n=e.pendingProps;switch(Kd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Lt(e.type)&&Ds(),vt(e),null;case 3:return n=e.stateNode,Qi(),Ie(Dt),Ie(Et),Qd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ga(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Bu(hr),hr=null))),Ou(t,e),vt(e),null;case 5:qd(e);var i=Wn(sa.current);if(r=e.type,t!==null&&e.stateNode!=null)rv(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(b(166));return vt(e),null}if(t=Wn(Mr.current),Ga(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[Tr]=e,n[oa]=o,t=(e.mode&1)!==0,r){case"dialog":Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":case"embed":Ae("load",n);break;case"video":case"audio":for(i=0;i<ko.length;i++)Ae(ko[i],n);break;case"source":Ae("error",n);break;case"img":case"image":case"link":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"input":Ih(n,o),Ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ae("invalid",n);break;case"textarea":Rh(n,o),Ae("invalid",n)}ru(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?n.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ka(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ka(n.textContent,s,t),i=["children",""+s]):Yo.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Ae("scroll",n)}switch(r){case"input":Ma(n),Th(n,o,!0);break;case"textarea":Ma(n),Oh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ms)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kp(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Tr]=e,t[oa]=n,tv(t,e,!1,!1),e.stateNode=t;e:{switch(a=nu(r,n),r){case"dialog":Ae("cancel",t),Ae("close",t),i=n;break;case"iframe":case"object":case"embed":Ae("load",t),i=n;break;case"video":case"audio":for(i=0;i<ko.length;i++)Ae(ko[i],t);i=n;break;case"source":Ae("error",t),i=n;break;case"img":case"image":case"link":Ae("error",t),Ae("load",t),i=n;break;case"details":Ae("toggle",t),i=n;break;case"input":Ih(t,n),i=Ql(t,n),Ae("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Pe({},n,{value:void 0}),Ae("invalid",t);break;case"textarea":Rh(t,n),i=eu(t,n),Ae("invalid",t);break;default:i=n}ru(r,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="style"?Mp(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Pp(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&qo(t,c):typeof c=="number"&&qo(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ae("scroll",t):c!=null&&Td(t,o,c,a))}switch(r){case"input":Ma(t),Th(t,n,!1);break;case"textarea":Ma(t),Oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Rn(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ui(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ui(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ms)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)nv(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(b(166));if(r=Wn(sa.current),Wn(Mr.current),Ga(e)){if(n=e.stateNode,r=e.memoizedProps,n[Tr]=e,(o=n.nodeValue!==r)&&(t=$t,t!==null))switch(t.tag){case 3:Ka(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ka(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tr]=e,e.stateNode=n}return vt(e),null;case 13:if(Ie(Oe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&jt!==null&&e.mode&1&&!(e.flags&128))Eg(),Yi(),e.flags|=98560,o=!1;else if(o=Ga(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[Tr]=e}else Yi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),o=!1}else hr!==null&&(Bu(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?qe===0&&(qe=3):uf())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Qi(),Ou(t,e),t===null&&na(e.stateNode.containerInfo),vt(e),null;case 10:return Wd(e.type._context),vt(e),null;case 17:return Lt(e.type)&&Ds(),vt(e),null;case 19:if(Ie(Oe),o=e.memoizedState,o===null)return vt(e),null;if(n=(e.flags&128)!==0,a=o.rendering,a===null)if(n)Ao(o,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ks(t),a!==null){for(e.flags|=128,Ao(o,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return we(Oe,Oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&De()>Ji&&(e.flags|=128,n=!0,Ao(o,!1),e.lanes=4194304)}else{if(!n)if(t=Ks(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Te)return vt(e),null}else 2*De()-o.renderingStartTime>Ji&&r!==1073741824&&(e.flags|=128,n=!0,Ao(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(r=o.last,r!==null?r.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=De(),e.sibling=null,r=Oe.current,we(Oe,n?r&1|2:r&1),e):(vt(e),null);case 22:case 23:return lf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Gt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function pw(t,e){switch(Kd(e),e.tag){case 1:return Lt(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),Ie(Dt),Ie(Et),Qd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qd(e),null;case 13:if(Ie(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Yi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Oe),null;case 4:return Qi(),null;case 10:return Wd(e.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var Wa=!1,Ct=!1,gw=typeof WeakSet=="function"?WeakSet:Set,H=null;function Pi(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(t,e,n)}else r.current=null}function Nu(t,e,r){try{r()}catch(n){be(t,e,n)}}var y1=!1;function vw(t,e){if(hu=ks,t=cg(),Hd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,s=-1,c=-1,l=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==r||i!==0&&d.nodeType!==3||(s=a+i),d!==o||n!==0&&d.nodeType!==3||(c=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===r&&++l===i&&(s=a),f===o&&++u===n&&(c=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(pu={focusedElem:t,selectionRange:r},ks=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:ur(e.type,g),y);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){be(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return p=y1,y1=!1,p}function Go(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nu(e,r,o)}i=i.next}while(i!==n)}}function xc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ku(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function iv(t){var e=t.alternate;e!==null&&(t.alternate=null,iv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tr],delete e[oa],delete e[mu],delete e[Z2],delete e[J2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ov(t){return t.tag===5||t.tag===3||t.tag===4}function C1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ov(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ms));else if(n!==4&&(t=t.child,t!==null))for(Pu(t,e,r),t=t.sibling;t!==null;)Pu(t,e,r),t=t.sibling}function bu(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bu(t,e,r),t=t.sibling;t!==null;)bu(t,e,r),t=t.sibling}var dt=null,dr=!1;function tn(t,e,r){for(r=r.child;r!==null;)av(t,e,r),r=r.sibling}function av(t,e,r){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(vc,r)}catch{}switch(r.tag){case 5:Ct||Pi(r,e);case 6:var n=dt,i=dr;dt=null,tn(t,e,r),dt=n,dr=i,dt!==null&&(dr?(t=dt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(dr?(t=dt,r=r.stateNode,t.nodeType===8?vl(t.parentNode,r):t.nodeType===1&&vl(t,r),ea(t)):vl(dt,r.stateNode));break;case 4:n=dt,i=dr,dt=r.stateNode.containerInfo,dr=!0,tn(t,e,r),dt=n,dr=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Nu(r,e,a),i=i.next}while(i!==n)}tn(t,e,r);break;case 1:if(!Ct&&(Pi(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){be(r,e,s)}tn(t,e,r);break;case 21:tn(t,e,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,tn(t,e,r),Ct=n):tn(t,e,r);break;default:tn(t,e,r)}}function w1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gw),e.forEach(function(n){var i=Sw.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function sr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:dt=s.stateNode,dr=!1;break e;case 3:dt=s.stateNode.containerInfo,dr=!0;break e;case 4:dt=s.stateNode.containerInfo,dr=!0;break e}s=s.return}if(dt===null)throw Error(b(160));av(o,a,i),dt=null,dr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){be(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sv(e,t),e=e.sibling}function sv(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sr(e,t),xr(t),n&4){try{Go(3,t,t.return),xc(3,t)}catch(g){be(t,t.return,g)}try{Go(5,t,t.return)}catch(g){be(t,t.return,g)}}break;case 1:sr(e,t),xr(t),n&512&&r!==null&&Pi(r,r.return);break;case 5:if(sr(e,t),xr(t),n&512&&r!==null&&Pi(r,r.return),t.flags&32){var i=t.stateNode;try{qo(i,"")}catch(g){be(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=r!==null?r.memoizedProps:o,s=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Op(i,o),nu(s,a);var l=nu(s,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];u==="style"?Mp(i,d):u==="dangerouslySetInnerHTML"?Pp(i,d):u==="children"?qo(i,d):Td(i,u,d,l)}switch(s){case"input":Zl(i,o);break;case"textarea":Np(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Ui(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ui(i,!!o.multiple,o.defaultValue,!0):Ui(i,!!o.multiple,o.multiple?[]:"",!1))}i[oa]=o}catch(g){be(t,t.return,g)}}break;case 6:if(sr(e,t),xr(t),n&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){be(t,t.return,g)}}break;case 3:if(sr(e,t),xr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ea(e.containerInfo)}catch(g){be(t,t.return,g)}break;case 4:sr(e,t),xr(t);break;case 13:sr(e,t),xr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sf=De())),n&4&&w1(t);break;case 22:if(u=r!==null&&r.memoizedState!==null,t.mode&1?(Ct=(l=Ct)||u,sr(e,t),Ct=l):sr(e,t),xr(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(H=t,u=t.child;u!==null;){for(d=H=u;H!==null;){switch(f=H,h=f.child,f.tag){case 0:case 11:case 14:case 15:Go(4,f,f.return);break;case 1:Pi(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){be(n,r,g)}}break;case 5:Pi(f,f.return);break;case 22:if(f.memoizedState!==null){A1(d);continue}}h!==null?(h.return=f,H=h):A1(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=bp("display",a))}catch(g){be(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){be(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:sr(e,t),xr(t),n&4&&w1(t);break;case 21:break;default:sr(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ov(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qo(i,""),n.flags&=-33);var o=C1(t);bu(t,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,s=C1(t);Pu(t,s,a);break;default:throw Error(b(161))}}catch(c){be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mw(t,e,r){H=t,cv(t)}function cv(t,e,r){for(var n=(t.mode&1)!==0;H!==null;){var i=H,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Wa;if(!a){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Ct;s=Wa;var l=Ct;if(Wa=a,(Ct=c)&&!l)for(H=i;H!==null;)a=H,c=a.child,a.tag===22&&a.memoizedState!==null?_1(i):c!==null?(c.return=a,H=c):_1(i);for(;o!==null;)H=o,cv(o),o=o.sibling;H=i,Wa=s,Ct=l}E1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,H=o):E1(t)}}function E1(t){for(;H!==null;){var e=H;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||xc(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ur(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&o1(e,o,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}o1(e,a,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&ea(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Ct||e.flags&512&&ku(e)}catch(f){be(e,e.return,f)}}if(e===t){H=null;break}if(r=e.sibling,r!==null){r.return=e.return,H=r;break}H=e.return}}function A1(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var r=e.sibling;if(r!==null){r.return=e.return,H=r;break}H=e.return}}function _1(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{xc(4,e)}catch(c){be(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){be(e,i,c)}}var o=e.return;try{ku(e)}catch(c){be(e,o,c)}break;case 5:var a=e.return;try{ku(e)}catch(c){be(e,a,c)}}}catch(c){be(e,e.return,c)}if(e===t){H=null;break}var s=e.sibling;if(s!==null){s.return=e.return,H=s;break}H=e.return}}var yw=Math.ceil,js=en.ReactCurrentDispatcher,of=en.ReactCurrentOwner,nr=en.ReactCurrentBatchConfig,ae=0,st=null,Fe=null,ht=0,Gt=0,bi=Pn(0),qe=0,da=null,ii=0,Sc=0,af=0,Vo=null,Pt=null,sf=0,Ji=1/0,Ur=null,Ws=!1,Mu=null,An=null,$a=!1,gn=null,$s=0,jo=0,Du=null,ms=-1,ys=0;function Rt(){return ae&6?De():ms!==-1?ms:ms=De()}function _n(t){return t.mode&1?ae&2&&ht!==0?ht&-ht:tw.transition!==null?(ys===0&&(ys=Wp()),ys):(t=ge,t!==0||(t=window.event,t=t===void 0?16:Jp(t.type)),t):1}function mr(t,e,r,n){if(50<jo)throw jo=0,Du=null,Error(b(185));ma(t,r,n),(!(ae&2)||t!==st)&&(t===st&&(!(ae&2)&&(Sc|=r),qe===4&&hn(t,ht)),Bt(t,n),r===1&&ae===0&&!(e.mode&1)&&(Ji=De()+500,Ec&&bn()))}function Bt(t,e){var r=t.callbackNode;t2(t,e);var n=Ns(t,t===st?ht:0);if(n===0)r!==null&&Ph(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ph(r),e===1)t.tag===0?ew(x1.bind(null,t)):yg(x1.bind(null,t)),q2(function(){!(ae&6)&&bn()}),r=null;else{switch($p(n)){case 1:r=Pd;break;case 4:r=Vp;break;case 16:r=Os;break;case 536870912:r=jp;break;default:r=Os}r=vv(r,lv.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lv(t,e){if(ms=-1,ys=0,ae&6)throw Error(b(327));var r=t.callbackNode;if(Vi()&&t.callbackNode!==r)return null;var n=Ns(t,t===st?ht:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Xs(t,n);else{e=n;var i=ae;ae|=2;var o=dv();(st!==t||ht!==e)&&(Ur=null,Ji=De()+500,qn(t,e));do try{Ew();break}catch(s){uv(t,s)}while(!0);jd(),js.current=o,ae=i,Fe!==null?e=0:(st=null,ht=0,e=qe)}if(e!==0){if(e===2&&(i=cu(t),i!==0&&(n=i,e=Lu(t,i))),e===1)throw r=da,qn(t,0),hn(t,n),Bt(t,De()),r;if(e===6)hn(t,n);else{if(i=t.current.alternate,!(n&30)&&!Cw(i)&&(e=Xs(t,n),e===2&&(o=cu(t),o!==0&&(n=o,e=Lu(t,o))),e===1))throw r=da,qn(t,0),hn(t,n),Bt(t,De()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(b(345));case 2:zn(t,Pt,Ur);break;case 3:if(hn(t,n),(n&130023424)===n&&(e=sf+500-De(),10<e)){if(Ns(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vu(zn.bind(null,t,Pt,Ur),e);break}zn(t,Pt,Ur);break;case 4:if(hn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-vr(n);o=1<<a,a=e[a],a>i&&(i=a),n&=~o}if(n=i,n=De()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yw(n/1960))-n,10<n){t.timeoutHandle=vu(zn.bind(null,t,Pt,Ur),n);break}zn(t,Pt,Ur);break;case 5:zn(t,Pt,Ur);break;default:throw Error(b(329))}}}return Bt(t,De()),t.callbackNode===r?lv.bind(null,t):null}function Lu(t,e){var r=Vo;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=Xs(t,e),t!==2&&(e=Pt,Pt=r,e!==null&&Bu(e)),t}function Bu(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function Cw(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!wr(o(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(t,e){for(e&=~af,e&=~Sc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vr(e),n=1<<r;t[r]=-1,e&=~n}}function x1(t){if(ae&6)throw Error(b(327));Vi();var e=Ns(t,0);if(!(e&1))return Bt(t,De()),null;var r=Xs(t,e);if(t.tag!==0&&r===2){var n=cu(t);n!==0&&(e=n,r=Lu(t,n))}if(r===1)throw r=da,qn(t,0),hn(t,e),Bt(t,De()),r;if(r===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zn(t,Pt,Ur),Bt(t,De()),null}function cf(t,e){var r=ae;ae|=1;try{return t(e)}finally{ae=r,ae===0&&(Ji=De()+500,Ec&&bn())}}function oi(t){gn!==null&&gn.tag===0&&!(ae&6)&&Vi();var e=ae;ae|=1;var r=nr.transition,n=ge;try{if(nr.transition=null,ge=1,t)return t()}finally{ge=n,nr.transition=r,ae=e,!(ae&6)&&bn()}}function lf(){Gt=bi.current,Ie(bi)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Y2(r)),Fe!==null)for(r=Fe.return;r!==null;){var n=r;switch(Kd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ds();break;case 3:Qi(),Ie(Dt),Ie(Et),Qd();break;case 5:qd(n);break;case 4:Qi();break;case 13:Ie(Oe);break;case 19:Ie(Oe);break;case 10:Wd(n.type._context);break;case 22:case 23:lf()}r=r.return}if(st=t,Fe=t=xn(t.current,null),ht=Gt=e,qe=0,da=null,af=Sc=ii=0,Pt=Vo=null,jn!==null){for(e=0;e<jn.length;e++)if(r=jn[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}jn=null}return t}function uv(t,e){do{var r=Fe;try{if(jd(),ps.current=Vs,Gs){for(var n=ke.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gs=!1}if(ni=0,nt=je=ke=null,Ko=!1,ca=0,of.current=null,r===null||r.return===null){qe=1,da=e,Fe=null;break}e:{var o=t,a=r.return,s=r,c=e;if(e=ht,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=s,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=d1(a);if(h!==null){h.flags&=-257,f1(h,a,s,o,e),h.mode&1&&u1(o,l,e),e=h,c=l;var p=e.updateQueue;if(p===null){var g=new Set;g.add(c),e.updateQueue=g}else p.add(c);break e}else{if(!(e&1)){u1(o,l,e),uf();break e}c=Error(b(426))}}else if(Te&&s.mode&1){var y=d1(a);if(y!==null){!(y.flags&65536)&&(y.flags|=256),f1(y,a,s,o,e),Gd(Zi(c,s));break e}}o=c=Zi(c,s),qe!==4&&(qe=2),Vo===null?Vo=[o]:Vo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=$g(o,c,e);i1(o,m);break e;case 1:s=c;var v=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(An===null||!An.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=Xg(o,s,e);i1(o,E);break e}}o=o.return}while(o!==null)}hv(r)}catch(A){e=A,Fe===r&&r!==null&&(Fe=r=r.return);continue}break}while(!0)}function dv(){var t=js.current;return js.current=Vs,t===null?Vs:t}function uf(){(qe===0||qe===3||qe===2)&&(qe=4),st===null||!(ii&268435455)&&!(Sc&268435455)||hn(st,ht)}function Xs(t,e){var r=ae;ae|=2;var n=dv();(st!==t||ht!==e)&&(Ur=null,qn(t,e));do try{ww();break}catch(i){uv(t,i)}while(!0);if(jd(),ae=r,js.current=n,Fe!==null)throw Error(b(261));return st=null,ht=0,qe}function ww(){for(;Fe!==null;)fv(Fe)}function Ew(){for(;Fe!==null&&!WC();)fv(Fe)}function fv(t){var e=gv(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?hv(t):Fe=e,of.current=null}function hv(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=pw(r,e),r!==null){r.flags&=32767,Fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Fe=null;return}}else if(r=hw(r,e,Gt),r!==null){Fe=r;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);qe===0&&(qe=5)}function zn(t,e,r){var n=ge,i=nr.transition;try{nr.transition=null,ge=1,Aw(t,e,r,n)}finally{nr.transition=i,ge=n}return null}function Aw(t,e,r,n){do Vi();while(gn!==null);if(ae&6)throw Error(b(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(r2(t,o),t===st&&(Fe=st=null,ht=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$a||($a=!0,vv(Os,function(){return Vi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var a=ge;ge=1;var s=ae;ae|=4,of.current=null,vw(t,r),sv(r,t),K2(pu),ks=!!hu,pu=hu=null,t.current=r,mw(r),$C(),ae=s,ge=a,nr.transition=o}else t.current=r;if($a&&($a=!1,gn=t,$s=i),o=t.pendingLanes,o===0&&(An=null),qC(r.stateNode),Bt(t,De()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,t=Mu,Mu=null,t;return $s&1&&t.tag!==0&&Vi(),o=t.pendingLanes,o&1?t===Du?jo++:(jo=0,Du=t):jo=0,bn(),null}function Vi(){if(gn!==null){var t=$p($s),e=nr.transition,r=ge;try{if(nr.transition=null,ge=16>t?16:t,gn===null)var n=!1;else{if(t=gn,gn=null,$s=0,ae&6)throw Error(b(331));var i=ae;for(ae|=4,H=t.current;H!==null;){var o=H,a=o.child;if(H.flags&16){var s=o.deletions;if(s!==null){for(var c=0;c<s.length;c++){var l=s[c];for(H=l;H!==null;){var u=H;switch(u.tag){case 0:case 11:case 15:Go(8,u,o)}var d=u.child;if(d!==null)d.return=u,H=d;else for(;H!==null;){u=H;var f=u.sibling,h=u.return;if(iv(u),u===l){H=null;break}if(f!==null){f.return=h,H=f;break}H=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}H=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,H=a;else e:for(;H!==null;){if(o=H,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Go(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,H=m;break e}H=o.return}}var v=t.current;for(H=v;H!==null;){a=H;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,H=C;else e:for(a=v;H!==null;){if(s=H,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xc(9,s)}}catch(A){be(s,s.return,A)}if(s===a){H=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,H=E;break e}H=s.return}}if(ae=i,bn(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(vc,t)}catch{}n=!0}return n}finally{ge=r,nr.transition=e}}return!1}function S1(t,e,r){e=Zi(r,e),e=$g(t,e,1),t=En(t,e,1),e=Rt(),t!==null&&(ma(t,1,e),Bt(t,e))}function be(t,e,r){if(t.tag===3)S1(t,t,r);else for(;e!==null;){if(e.tag===3){S1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){t=Zi(r,t),t=Xg(e,t,1),e=En(e,t,1),t=Rt(),e!==null&&(ma(e,1,t),Bt(e,t));break}}e=e.return}}function _w(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rt(),t.pingedLanes|=t.suspendedLanes&r,st===t&&(ht&r)===r&&(qe===4||qe===3&&(ht&130023424)===ht&&500>De()-sf?qn(t,0):af|=r),Bt(t,e)}function pv(t,e){e===0&&(t.mode&1?(e=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):e=1);var r=Rt();t=qr(t,e),t!==null&&(ma(t,e,r),Bt(t,r))}function xw(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),pv(t,r)}function Sw(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(e),pv(t,r)}var gv;gv=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Mt=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mt=!1,fw(t,e,r);Mt=!!(t.flags&131072)}else Mt=!1,Te&&e.flags&1048576&&Cg(e,Fs,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;vs(t,e),t=e.pendingProps;var i=Xi(e,Et.current);Gi(e,r),i=Jd(null,e,n,t,i,r);var o=ef();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(n)?(o=!0,Ls(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xd(e),i.updater=_c,e.stateNode=i,i._reactInternals=e,_u(e,n,t,r),e=Iu(null,e,n,!0,o,r)):(e.tag=0,Te&&o&&zd(e),Tt(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(vs(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Tw(n),t=ur(n,t),i){case 0:e=Su(null,e,n,t,r);break e;case 1:e=g1(null,e,n,t,r);break e;case 11:e=h1(null,e,n,t,r);break e;case 14:e=p1(null,e,n,ur(n.type,t),r);break e}throw Error(b(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),Su(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),g1(t,e,n,i,r);case 3:e:{if(Zg(e),t===null)throw Error(b(387));n=e.pendingProps,o=e.memoizedState,i=o.element,Sg(t,e),zs(e,n,null,r);var a=e.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Zi(Error(b(423)),e),e=v1(t,e,n,r,i);break e}else if(n!==i){i=Zi(Error(b(424)),e),e=v1(t,e,n,r,i);break e}else for(jt=wn(e.stateNode.containerInfo.firstChild),$t=e,Te=!0,hr=null,r=_g(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yi(),n===i){e=Qr(t,e,r);break e}Tt(t,e,n,r)}e=e.child}return e;case 5:return Ig(e),t===null&&wu(e),n=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,gu(n,i)?a=null:o!==null&&gu(n,o)&&(e.flags|=32),Qg(t,e),Tt(t,e,a,r),e.child;case 6:return t===null&&wu(e),null;case 13:return Jg(t,e,r);case 4:return Yd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=qi(e,null,n,r):Tt(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),h1(t,e,n,i,r);case 7:return Tt(t,e,e.pendingProps,r),e.child;case 8:return Tt(t,e,e.pendingProps.children,r),e.child;case 12:return Tt(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,we(Us,n._currentValue),n._currentValue=a,o!==null)if(wr(o.value,a)){if(o.children===i.children&&!Dt.current){e=Qr(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Wr(-1,r&-r),c.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Eu(o.return,r,e),s.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(b(341));a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),Eu(a,r,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tt(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Gi(e,r),i=or(i),n=n(i),e.flags|=1,Tt(t,e,n,r),e.child;case 14:return n=e.type,i=ur(n,e.pendingProps),i=ur(n.type,i),p1(t,e,n,i,r);case 15:return Yg(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ur(n,i),vs(t,e),e.tag=1,Lt(n)?(t=!0,Ls(e)):t=!1,Gi(e,r),Wg(e,n,i),_u(e,n,i,r),Iu(null,e,n,!0,t,r);case 19:return ev(t,e,r);case 22:return qg(t,e,r)}throw Error(b(156,e.tag))};function vv(t,e){return Gp(t,e)}function Iw(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,r,n){return new Iw(t,e,r,n)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tw(t){if(typeof t=="function")return df(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Od)return 11;if(t===Nd)return 14}return 2}function xn(t,e){var r=t.alternate;return r===null?(r=tr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cs(t,e,r,n,i,o){var a=2;if(n=t,typeof t=="function")df(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _i:return Qn(r.children,i,o,e);case Rd:a=8,i|=8;break;case $l:return t=tr(12,r,e,i|2),t.elementType=$l,t.lanes=o,t;case Xl:return t=tr(13,r,e,i),t.elementType=Xl,t.lanes=o,t;case Yl:return t=tr(19,r,e,i),t.elementType=Yl,t.lanes=o,t;case Ip:return Ic(r,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xp:a=10;break e;case Sp:a=9;break e;case Od:a=11;break e;case Nd:a=14;break e;case cn:a=16,n=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=tr(a,r,e,i),e.elementType=t,e.type=n,e.lanes=o,e}function Qn(t,e,r,n){return t=tr(7,t,n,e),t.lanes=r,t}function Ic(t,e,r,n){return t=tr(22,t,n,e),t.elementType=Ip,t.lanes=r,t.stateNode={isHidden:!1},t}function xl(t,e,r){return t=tr(6,t,null,e),t.lanes=r,t}function Sl(t,e,r){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Rw(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ol(0),this.expirationTimes=ol(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ol(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ff(t,e,r,n,i,o,a,s,c){return t=new Rw(t,e,r,s,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(o),t}function Ow(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mv(t){if(!t)return On;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var r=t.type;if(Lt(r))return mg(t,r,e)}return e}function yv(t,e,r,n,i,o,a,s,c){return t=ff(r,n,!0,t,i,o,a,s,c),t.context=mv(null),r=t.current,n=Rt(),i=_n(r),o=Wr(n,i),o.callback=e??null,En(r,o,i),t.current.lanes=i,ma(t,i,n),Bt(t,n),t}function Tc(t,e,r,n){var i=e.current,o=Rt(),a=_n(i);return r=mv(r),e.context===null?e.context=r:e.pendingContext=r,e=Wr(o,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=En(i,e,a),t!==null&&(mr(t,i,a,o),hs(t,i,a)),a}function Ys(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function hf(t,e){I1(t,e),(t=t.alternate)&&I1(t,e)}function Nw(){return null}var Cv=typeof reportError=="function"?reportError:function(t){console.error(t)};function pf(t){this._internalRoot=t}Rc.prototype.render=pf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Tc(t,e,null,null)};Rc.prototype.unmount=pf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oi(function(){Tc(null,t,null,null)}),e[Yr]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var e=qp();t={blockedOn:null,target:t,priority:e};for(var r=0;r<fn.length&&e!==0&&e<fn[r].priority;r++);fn.splice(r,0,t),r===0&&Zp(t)}};function gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function T1(){}function kw(t,e,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var l=Ys(a);o.call(l)}}var a=yv(e,n,t,0,null,!1,!1,"",T1);return t._reactRootContainer=a,t[Yr]=a.current,na(t.nodeType===8?t.parentNode:t),oi(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var l=Ys(c);s.call(l)}}var c=ff(t,0,!1,null,null,!1,!1,"",T1);return t._reactRootContainer=c,t[Yr]=c.current,na(t.nodeType===8?t.parentNode:t),oi(function(){Tc(e,c,r,n)}),c}function Nc(t,e,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var c=Ys(a);s.call(c)}}Tc(e,a,t,i)}else a=kw(r,e,t,i,n);return Ys(a)}Xp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=No(e.pendingLanes);r!==0&&(bd(e,r|1),Bt(e,De()),!(ae&6)&&(Ji=De()+500,bn()))}break;case 13:oi(function(){var n=qr(t,1);if(n!==null){var i=Rt();mr(n,t,1,i)}}),hf(t,1)}};Md=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var r=Rt();mr(e,t,134217728,r)}hf(t,134217728)}};Yp=function(t){if(t.tag===13){var e=_n(t),r=qr(t,e);if(r!==null){var n=Rt();mr(r,t,e,n)}hf(t,e)}};qp=function(){return ge};Qp=function(t,e){var r=ge;try{return ge=t,e()}finally{ge=r}};ou=function(t,e,r){switch(e){case"input":if(Zl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=wc(n);if(!i)throw Error(b(90));Rp(n),Zl(n,i)}}}break;case"textarea":Np(t,r);break;case"select":e=r.value,e!=null&&Ui(t,!!r.multiple,e,!1)}};Bp=cf;Fp=oi;var Pw={usingClientEntryPoint:!1,Events:[Ca,Ti,wc,Dp,Lp,cf]},_o={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bw={bundleType:_o.bundleType,version:_o.version,rendererPackageName:_o.rendererPackageName,rendererConfig:_o.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:en.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zp(t),t===null?null:t.stateNode},findFiberByHostInstance:_o.findFiberByHostInstance||Nw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{vc=Xa.inject(bw),br=Xa}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pw;qt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gf(e))throw Error(b(200));return Ow(t,e,null,r)};qt.createRoot=function(t,e){if(!gf(t))throw Error(b(299));var r=!1,n="",i=Cv;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ff(t,1,!1,null,null,r,!1,n,i),t[Yr]=e.current,na(t.nodeType===8?t.parentNode:t),new pf(e)};qt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=zp(e),t=t===null?null:t.stateNode,t};qt.flushSync=function(t){return oi(t)};qt.hydrate=function(t,e,r){if(!Oc(e))throw Error(b(200));return Nc(null,t,e,!0,r)};qt.hydrateRoot=function(t,e,r){if(!gf(t))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=Cv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=yv(e,null,t,1,r??null,i,!1,o,a),t[Yr]=e.current,na(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Rc(e)};qt.render=function(t,e,r){if(!Oc(e))throw Error(b(200));return Nc(null,t,e,!1,r)};qt.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(b(40));return t._reactRootContainer?(oi(function(){Nc(null,null,t,!1,function(){t._reactRootContainer=null,t[Yr]=null})}),!0):!1};qt.unstable_batchedUpdates=cf;qt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Oc(r))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Nc(t,e,r,!1,n)};qt.version="18.3.1-next-f1338f8080-20240426";function wv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wv)}catch(t){console.error(t)}}wv(),wp.exports=qt;var Mw=wp.exports;const Dw=pc(Mw),vf=B.createContext();function Lw({children:t}){const[e,r]=B.useState([]);return k.jsx(vf.Provider,{value:{scannedBarcodes:e,setScannedBarcodes:r},children:t})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fa.apply(this,arguments)}var vn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vn||(vn={}));const R1="popstate";function Bw(t){t===void 0&&(t={});function e(n,i){let{pathname:o,search:a,hash:s}=n.location;return Fu("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Av(i)}return Uw(e,r,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ev(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Fw(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function Fu(t,e,r,n){return r===void 0&&(r=null),fa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lo(e):e,{state:r,key:e&&e.key||n||Fw()})}function Av(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Uw(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,a=i.history,s=vn.Pop,c=null,l=u();l==null&&(l=0,a.replaceState(fa({},a.state,{idx:l}),""));function u(){return(a.state||{idx:null}).idx}function d(){s=vn.Pop;let y=u(),m=y==null?null:y-l;l=y,c&&c({action:s,location:g.location,delta:m})}function f(y,m){s=vn.Push;let v=Fu(g.location,y,m);l=u()+1;let C=O1(v,l),E=g.createHref(v);try{a.pushState(C,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(E)}o&&c&&c({action:s,location:g.location,delta:1})}function h(y,m){s=vn.Replace;let v=Fu(g.location,y,m);l=u();let C=O1(v,l),E=g.createHref(v);a.replaceState(C,"",E),o&&c&&c({action:s,location:g.location,delta:0})}function p(y){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof y=="string"?y:Av(y);return v=v.replace(/ $/,"%20"),Ue(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return s},get location(){return t(i,a)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(R1,d),c=y,()=>{i.removeEventListener(R1,d),c=null}},createHref(y){return e(i,y)},createURL:p,encodeLocation(y){let m=p(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(y){return a.go(y)}};return g}var N1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N1||(N1={}));function Hw(t,e,r){return r===void 0&&(r="/"),zw(t,e,r,!1)}function zw(t,e,r,n){let i=typeof e=="string"?lo(e):e,o=Sv(i.pathname||"/",r);if(o==null)return null;let a=_v(t);Kw(a);let s=null;for(let c=0;s==null&&c<a.length;++c){let l=Jw(o);s=Qw(a[c],l,n)}return s}function _v(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,a,s)=>{let c={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let l=Zn([n,c.relativePath]),u=r.concat(c);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),_v(o.children,e,u,l)),!(o.path==null&&!o.index)&&e.push({path:l,score:Yw(l,o.index),routesMeta:u})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let c of xv(o.path))i(o,a,c)}),e}function xv(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let a=xv(n.join("/")),s=[];return s.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&s.push(...a),s.map(c=>t.startsWith("/")&&c===""?"/":c)}function Kw(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qw(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Gw=/^:[\w-]+$/,Vw=3,jw=2,Ww=1,$w=10,Xw=-2,k1=t=>t==="*";function Yw(t,e){let r=t.split("/"),n=r.length;return r.some(k1)&&(n+=Xw),e&&(n+=jw),r.filter(i=>!k1(i)).reduce((i,o)=>i+(Gw.test(o)?Vw:o===""?Ww:$w),n)}function qw(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Qw(t,e,r){let{routesMeta:n}=t,i={},o="/",a=[];for(let s=0;s<n.length;++s){let c=n[s],l=s===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",d=P1({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),f=c.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=P1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Zn([o,d.pathname]),pathnameBase:nE(Zn([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Zn([o,d.pathnameBase]))}return a}function P1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zw(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((l,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=s[d]||"";a=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const p=s[d];return h&&!p?l[f]=void 0:l[f]=(p||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:a,pattern:t}}function Zw(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ev(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Jw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ev(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function eE(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?lo(t):t;return{pathname:r?r.startsWith("/")?r:tE(r,e):e,search:iE(n),hash:oE(i)}}function tE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Il(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rE(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Iv(t,e){let r=rE(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Tv(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=lo(t):(i=fa({},t),Ue(!i.pathname||!i.pathname.includes("?"),Il("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),Il("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),Il("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=r;else{let d=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}s=d>=0?e[d]:"/"}let c=eE(i,s),l=a&&a!=="/"&&a.endsWith("/"),u=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),nE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rv=["post","put","patch","delete"];new Set(Rv);const sE=["get",...Rv];new Set(sE);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ha(){return ha=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ha.apply(this,arguments)}const mf=B.createContext(null),cE=B.createContext(null),Ea=B.createContext(null),kc=B.createContext(null),fi=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Ov=B.createContext(null);function Aa(){return B.useContext(kc)!=null}function yf(){return Aa()||Ue(!1),B.useContext(kc).location}function Nv(t){B.useContext(Ea).static||B.useLayoutEffect(t)}function hi(){let{isDataRoute:t}=B.useContext(fi);return t?EE():lE()}function lE(){Aa()||Ue(!1);let t=B.useContext(mf),{basename:e,future:r,navigator:n}=B.useContext(Ea),{matches:i}=B.useContext(fi),{pathname:o}=yf(),a=JSON.stringify(Iv(i,r.v7_relativeSplatPath)),s=B.useRef(!1);return Nv(()=>{s.current=!0}),B.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=Tv(l,JSON.parse(a),o,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zn([e,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[e,n,a,o,t])}function uE(t,e){return dE(t,e)}function dE(t,e,r,n){Aa()||Ue(!1);let{navigator:i}=B.useContext(Ea),{matches:o}=B.useContext(fi),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let l=yf(),u;if(e){var d;let y=typeof e=="string"?lo(e):e;c==="/"||(d=y.pathname)!=null&&d.startsWith(c)||Ue(!1),u=y}else u=l;let f=u.pathname||"/",h=f;if(c!=="/"){let y=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Hw(t,{pathname:h}),g=vE(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Zn([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Zn([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,r,n);return e&&g?B.createElement(kc.Provider,{value:{location:ha({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:vn.Pop}},g):g}function fE(){let t=wE(),e=aE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),r?B.createElement("pre",{style:i},r):null,null)}const hE=B.createElement(fE,null);class pE extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?B.createElement(fi.Provider,{value:this.props.routeContext},B.createElement(Ov.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gE(t){let{routeContext:e,match:r,children:n}=t,i=B.useContext(mf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(fi.Provider,{value:e},n)}function vE(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=(i=r)==null?void 0:i.errors;if(s!=null){let u=a.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);u>=0||Ue(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,l=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:h}=r,p=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||p){c=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,p=!1,g=null,y=null;r&&(h=s&&d.route.id?s[d.route.id]:void 0,g=d.route.errorElement||hE,c&&(l<0&&f===0?(p=!0,y=null):l===f&&(p=!0,y=d.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),v=()=>{let C;return h?C=g:p?C=y:d.route.Component?C=B.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,B.createElement(gE,{match:d,routeContext:{outlet:u,matches:m,isDataRoute:r!=null},children:C})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?B.createElement(pE,{location:r.location,revalidation:r.revalidation,component:g,error:h,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var kv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(kv||{}),qs=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qs||{});function mE(t){let e=B.useContext(mf);return e||Ue(!1),e}function yE(t){let e=B.useContext(cE);return e||Ue(!1),e}function CE(t){let e=B.useContext(fi);return e||Ue(!1),e}function Pv(t){let e=CE(),r=e.matches[e.matches.length-1];return r.route.id||Ue(!1),r.route.id}function wE(){var t;let e=B.useContext(Ov),r=yE(qs.UseRouteError),n=Pv(qs.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function EE(){let{router:t}=mE(kv.UseNavigateStable),e=Pv(qs.UseNavigateStable),r=B.useRef(!1);return Nv(()=>{r.current=!0}),B.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ha({fromRouteId:e},o)))},[t,e])}function AE(t){let{to:e,replace:r,state:n,relative:i}=t;Aa()||Ue(!1);let{future:o,static:a}=B.useContext(Ea),{matches:s}=B.useContext(fi),{pathname:c}=yf(),l=hi(),u=Tv(e,Iv(s,o.v7_relativeSplatPath),c,i==="path"),d=JSON.stringify(u);return B.useEffect(()=>l(JSON.parse(d),{replace:r,state:n,relative:i}),[l,d,i,r,n]),null}function Kn(t){Ue(!1)}function _E(t){let{basename:e="/",children:r=null,location:n,navigationType:i=vn.Pop,navigator:o,static:a=!1,future:s}=t;Aa()&&Ue(!1);let c=e.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:c,navigator:o,static:a,future:ha({v7_relativeSplatPath:!1},s)}),[c,s,o,a]);typeof n=="string"&&(n=lo(n));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:p="default"}=n,g=B.useMemo(()=>{let y=Sv(u,c);return y==null?null:{location:{pathname:y,search:d,hash:f,state:h,key:p},navigationType:i}},[c,u,d,f,h,p,i]);return g==null?null:B.createElement(Ea.Provider,{value:l},B.createElement(kc.Provider,{children:r,value:g}))}function xE(t){let{children:e,location:r}=t;return uE(Uu(e),r)}new Promise(()=>{});function Uu(t,e){e===void 0&&(e=[]);let r=[];return B.Children.forEach(t,(n,i)=>{if(!B.isValidElement(n))return;let o=[...e,i];if(n.type===B.Fragment){r.push.apply(r,Uu(n.props.children,o));return}n.type!==Kn&&Ue(!1),!n.props.index||!n.props.children||Ue(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Uu(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const SE="6";try{window.__reactRouterVersion=SE}catch{}const IE="startTransition",b1=_C[IE];function TE(t){let{basename:e,children:r,future:n,window:i}=t,o=B.useRef();o.current==null&&(o.current=Bw({window:i,v5Compat:!0}));let a=o.current,[s,c]=B.useState({action:a.action,location:a.location}),{v7_startTransition:l}=n||{},u=B.useCallback(d=>{l&&b1?b1(()=>c(d)):c(d)},[c,l]);return B.useLayoutEffect(()=>a.listen(u),[a,u]),B.createElement(_E,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:a,future:n})}var M1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(M1||(M1={}));var D1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(D1||(D1={}));/*! @azure/msal-common v14.15.0 2024-09-20 */const R={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Ya={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},uo=[R.OPENID_SCOPE,R.PROFILE_SCOPE,R.OFFLINE_ACCESS_SCOPE],L1=[...uo,R.EMAIL_SCOPE],Nr={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},et={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Sn={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},qa={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},it={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},B1={PLAIN:"plain",S256:"S256"},_a={QUERY:"query",FRAGMENT:"fragment"},RE={..._a,FORM_POST:"form_post"},bv={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},Qa={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},wt={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},$={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Cf="appmetadata",OE="client_info",Wo="1",Qs={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},zt={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},ct={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},ye={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},$o={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},F1={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},U1={username:"username",password:"password"},Za={httpSuccess:200,httpBadRequest:400},mi={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Tl={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},sn={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},NE={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},kE=300;/*! @azure/msal-common v14.15.0 2024-09-20 */const wf="unexpected_error",PE="post_request_failed";/*! @azure/msal-common v14.15.0 2024-09-20 */const H1={[wf]:"Unexpected error in authentication.",[PE]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Ne extends Error{constructor(e,r,n){const i=r?`${e}: ${r}`:e;super(i),Object.setPrototypeOf(this,Ne.prototype),this.errorCode=e||R.EMPTY_STRING,this.errorMessage=r||R.EMPTY_STRING,this.subError=n||R.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Mv(t,e){return new Ne(t,e?`${H1[t]} ${e}`:H1[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */const Ef="client_info_decoding_error",Dv="client_info_empty_error",Af="token_parsing_error",Lv="null_or_empty_token",Hr="endpoints_resolution_error",Bv="network_error",Fv="openid_config_error",Uv="hash_not_deserialized",eo="invalid_state",Hv="state_mismatch",Zs="state_not_found",zv="nonce_mismatch",_f="auth_time_not_found",Kv="max_age_transpired",bE="multiple_matching_tokens",ME="multiple_matching_accounts",Gv="multiple_matching_appMetadata",Vv="request_cannot_be_made",jv="cannot_remove_empty_scope",Wv="cannot_append_scopeset",Hu="empty_input_scopeset",DE="device_code_polling_cancelled",LE="device_code_expired",BE="device_code_unknown_error",xf="no_account_in_silent_request",$v="invalid_cache_record",Sf="invalid_cache_environment",zu="no_account_found",Ku="no_crypto_object",Gu="unexpected_credential_type",FE="invalid_assertion",UE="invalid_client_credential",Vr="token_refresh_required",HE="user_timeout_reached",Xv="token_claims_cnf_required_for_signedjwt",Yv="authorization_code_missing_from_server_response",qv="binding_key_not_removed",Qv="end_session_endpoint_not_supported",If="key_id_missing",zE="no_network_connectivity",KE="user_canceled",GE="missing_tenant_id_error",q="method_not_implemented",VE="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.15.0 2024-09-20 */const z1={[Ef]:"The client info could not be parsed/decoded correctly",[Dv]:"The client info was empty",[Af]:"Token cannot be parsed",[Lv]:"The token is null or empty",[Hr]:"Endpoints cannot be resolved",[Bv]:"Network request failed",[Fv]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Uv]:"The hash parameters could not be deserialized",[eo]:"State was not the expected format",[Hv]:"State mismatch error",[Zs]:"State not found",[zv]:"Nonce mismatch error",[_f]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Kv]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[bE]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ME]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Gv]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Vv]:"Token request cannot be made without authorization code or refresh token.",[jv]:"Cannot remove null or empty scope from ScopeSet",[Wv]:"Cannot append ScopeSet",[Hu]:"Empty input ScopeSet cannot be processed",[DE]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[LE]:"Device code is expired.",[BE]:"Device code stopped polling for unknown reasons.",[xf]:"Please pass an account object, silent flow is not supported without account information",[$v]:"Cache record object was null or undefined.",[Sf]:"Invalid environment when attempting to create cache entry",[zu]:"No account found in cache for given key.",[Ku]:"No crypto object detected.",[Gu]:"Unexpected credential type.",[FE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[UE]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Vr]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[HE]:"User defined timeout for device code polling reached",[Xv]:"Cannot generate a POP jwt if the token_claims are not populated",[Yv]:"Server response does not contain an authorization code to proceed",[qv]:"Could not remove the credential's binding key from storage.",[Qv]:"The provided authority does not support logout",[If]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[zE]:"No network connectivity. Check your internet connection.",[KE]:"User cancelled the flow.",[GE]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[q]:"This method has not been implemented",[VE]:"The nested app auth bridge is disabled"};class Pc extends Ne{constructor(e,r){super(e,r?`${z1[e]}: ${r}`:z1[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Pc.prototype)}}function P(t,e){return new Pc(t,e)}/*! @azure/msal-common v14.15.0 2024-09-20 */const Js={createNewGuid:()=>{throw P(q)},base64Decode:()=>{throw P(q)},base64Encode:()=>{throw P(q)},base64UrlEncode:()=>{throw P(q)},encodeKid:()=>{throw P(q)},async getPublicKeyThumbprint(){throw P(q)},async removeTokenBindingKey(){throw P(q)},async clearKeystore(){throw P(q)},async signJwt(){throw P(q)},async hashString(){throw P(q)}};/*! @azure/msal-common v14.15.0 2024-09-20 */var me;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(me||(me={}));class Zr{constructor(e,r,n){this.level=me.Info;const i=()=>{},o=e||Zr.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:me.Info,this.correlationId=o.correlationId||R.EMPTY_STRING,this.packageName=r||R.EMPTY_STRING,this.packageVersion=n||R.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:me.Info}}clone(e,r,n){return new Zr({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,r)}logMessage(e,r){if(r.logLevel>this.level||!this.piiLoggingEnabled&&r.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${r.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${me[r.logLevel]} - ${e}`;this.executeCallback(r.logLevel,o,r.containsPii||!1)}executeCallback(e,r,n){this.localCallback&&this.localCallback(e,r,n)}error(e,r){this.logMessage(e,{logLevel:me.Error,containsPii:!1,correlationId:r||R.EMPTY_STRING})}errorPii(e,r){this.logMessage(e,{logLevel:me.Error,containsPii:!0,correlationId:r||R.EMPTY_STRING})}warning(e,r){this.logMessage(e,{logLevel:me.Warning,containsPii:!1,correlationId:r||R.EMPTY_STRING})}warningPii(e,r){this.logMessage(e,{logLevel:me.Warning,containsPii:!0,correlationId:r||R.EMPTY_STRING})}info(e,r){this.logMessage(e,{logLevel:me.Info,containsPii:!1,correlationId:r||R.EMPTY_STRING})}infoPii(e,r){this.logMessage(e,{logLevel:me.Info,containsPii:!0,correlationId:r||R.EMPTY_STRING})}verbose(e,r){this.logMessage(e,{logLevel:me.Verbose,containsPii:!1,correlationId:r||R.EMPTY_STRING})}verbosePii(e,r){this.logMessage(e,{logLevel:me.Verbose,containsPii:!0,correlationId:r||R.EMPTY_STRING})}trace(e,r){this.logMessage(e,{logLevel:me.Trace,containsPii:!1,correlationId:r||R.EMPTY_STRING})}tracePii(e,r){this.logMessage(e,{logLevel:me.Trace,containsPii:!0,correlationId:r||R.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.15.0 2024-09-20 */const Zv="@azure/msal-common",Tf="14.15.0";/*! @azure/msal-common v14.15.0 2024-09-20 */const Rf={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v14.15.0 2024-09-20 */function pi(t,e){const r=jE(t);try{const n=e(r);return JSON.parse(n)}catch{throw P(Af)}}function jE(t){if(!t)throw P(Lv);const r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw P(Af);return r[2]}function Jv(t,e){if(e===0||Date.now()-3e5>t+e)throw P(Kv)}/*! @azure/msal-common v14.15.0 2024-09-20 */function Lr(){return Math.round(new Date().getTime()/1e3)}function Vu(t,e){const r=Number(t)||0;return Lr()+e>r}function WE(t){return Number(t)>Lr()}/*! @azure/msal-common v14.15.0 2024-09-20 */function Mi(t){return[$E(t),XE(t),YE(t),qE(t),QE(t)].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}function bc(t,e,r,n,i){return{credentialType:$.ID_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r,realm:i}}function Mc(t,e,r,n,i,o,a,s,c,l,u,d,f,h,p){var y,m;const g={homeAccountId:t,credentialType:$.ACCESS_TOKEN,secret:r,cachedAt:Lr().toString(),expiresOn:a.toString(),extendedExpiresOn:s.toString(),environment:e,clientId:n,realm:i,target:o,tokenType:u||ye.BEARER};if(d&&(g.userAssertionHash=d),l&&(g.refreshOn=l.toString()),h&&(g.requestedClaims=h,g.requestedClaimsHash=p),((y=g.tokenType)==null?void 0:y.toLowerCase())!==ye.BEARER.toLowerCase())switch(g.credentialType=$.ACCESS_TOKEN_WITH_AUTH_SCHEME,g.tokenType){case ye.POP:const v=pi(r,c);if(!((m=v==null?void 0:v.cnf)!=null&&m.kid))throw P(Xv);g.keyId=v.cnf.kid;break;case ye.SSH:g.keyId=f}return g}function em(t,e,r,n,i,o,a){const s={credentialType:$.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:n,secret:r};return o&&(s.userAssertionHash=o),i&&(s.familyId=i),a&&(s.expiresOn=a.toString()),s}function Of(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function K1(t){return t?Of(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===$.ACCESS_TOKEN||t.credentialType===$.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function G1(t){return t?Of(t)&&t.hasOwnProperty("realm")&&t.credentialType===$.ID_TOKEN:!1}function V1(t){return t?Of(t)&&t.credentialType===$.REFRESH_TOKEN:!1}function $E(t){return[t.homeAccountId,t.environment].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}function XE(t){const e=t.credentialType===$.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}function YE(t){return(t.target||"").toLowerCase()}function qE(t){return(t.requestedClaimsHash||"").toLowerCase()}function QE(t){return t.tokenType&&t.tokenType.toLowerCase()!==ye.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function ZE(t,e){const r=t.indexOf(ct.CACHE_KEY)===0;let n=!0;return e&&(n=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),r&&n}function JE(t,e){let r=!1;t&&(r=t.indexOf($o.THROTTLING_PREFIX)===0);let n=!0;return e&&(n=e.hasOwnProperty("throttleTime")),r&&n}function eA({environment:t,clientId:e}){return[Cf,t,e].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}function tA(t,e){return e?t.indexOf(Cf)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function rA(t,e){return e?t.indexOf(Qs.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function j1(){return Lr()+Qs.REFRESH_TIME_SECONDS}function Ja(t,e,r){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=r,t.jwks_uri=e.jwks_uri}function Rl(t,e,r){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=r}function W1(t){return t.expiresAt<=Lr()}/*! @azure/msal-common v14.15.0 2024-09-20 */const tm="redirect_uri_empty",nA="claims_request_parsing_error",rm="authority_uri_insecure",Po="url_parse_error",nm="empty_url_error",im="empty_input_scopes_error",om="invalid_prompt_value",Nf="invalid_claims",am="token_request_empty",sm="logout_request_empty",cm="invalid_code_challenge_method",kf="pkce_params_missing",Pf="invalid_cloud_discovery_metadata",lm="invalid_authority_metadata",um="untrusted_authority",Dc="missing_ssh_jwk",dm="missing_ssh_kid",iA="missing_nonce_authentication_header",oA="invalid_authentication_header",fm="cannot_set_OIDCOptions",hm="cannot_allow_native_broker",pm="authority_mismatch";/*! @azure/msal-common v14.15.0 2024-09-20 */const aA={[tm]:"A redirect URI is required for all calls, and none has been set.",[nA]:"Could not parse the given claims request object.",[rm]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Po]:"URL could not be parsed into appropriate segments.",[nm]:"URL was empty or null.",[im]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[om]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[Nf]:"Given claims parameter must be a stringified JSON object.",[am]:"Token request was empty and not found in cache.",[sm]:"The logout request was null or undefined.",[cm]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[kf]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Pf]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[lm]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[um]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Dc]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[dm]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[iA]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[oA]:"Invalid authentication header provided",[fm]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[hm]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[pm]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class bf extends Ne{constructor(e){super(e,aA[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,bf.prototype)}}function Ce(t){return new bf(t)}/*! @azure/msal-common v14.15.0 2024-09-20 */let yr=class{static isEmptyObj(e){if(e)try{const r=JSON.parse(e);return Object.keys(r).length===0}catch{}return!0}static startsWith(e,r){return e.indexOf(r)===0}static endsWith(e,r){return e.length>=r.length&&e.lastIndexOf(r)===e.length-r.length}static queryStringToObject(e){const r={},n=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return n.forEach(o=>{if(o.trim()){const[a,s]=o.split(/=(.+)/g,2);a&&s&&(r[i(a)]=i(s))}}),r}static trimArrayEntries(e){return e.map(r=>r.trim())}static removeEmptyStringsFromArray(e){return e.filter(r=>!!r)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,r){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(r)}};/*! @azure/msal-common v14.15.0 2024-09-20 */class Le{constructor(e){const r=e?yr.trimArrayEntries([...e]):[],n=r?yr.removeEmptyStringsFromArray(r):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach(i=>this.scopes.add(i))}static fromString(e){const n=(e||R.EMPTY_STRING).split(" ");return new Le(n)}static createSearchScopes(e){const r=new Le(e);return r.containsOnlyOIDCScopes()?r.removeScope(R.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}validateInputScopes(e){if(!e||e.length<1)throw Ce(im)}containsScope(e){const r=this.printScopesLowerCase().split(" "),n=new Le(r);return e?n.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(r=>this.containsScope(r))}containsOnlyOIDCScopes(){let e=0;return L1.forEach(r=>{this.containsScope(r)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(r=>this.appendScope(r))}catch{throw P(Wv)}}removeScope(e){if(!e)throw P(jv);this.scopes.delete(e.trim())}removeOIDCScopes(){L1.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw P(Hu);const r=new Set;return e.scopes.forEach(n=>r.add(n.toLowerCase())),this.scopes.forEach(n=>r.add(n.toLowerCase())),r}intersectingScopeSets(e){if(!e)throw P(Hu);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const r=this.unionScopeSets(e),n=e.getScopeCount(),i=this.getScopeCount();return r.size<i+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(r=>e.push(r)),e}printScopes(){return this.scopes?this.asArray().join(" "):R.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.15.0 2024-09-20 */function ec(t,e){if(!t)throw P(Dv);try{const r=e(t);return JSON.parse(r)}catch{throw P(Ef)}}function Di(t){if(!t)throw P(Ef);const e=t.split(wt.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?R.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.15.0 2024-09-20 */function tc(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Mf(t,e,r,n){if(n){const{oid:i,sub:o,tid:a,name:s,tfp:c,acr:l}=n,u=a||c||l||"";return{tenantId:u,localAccountId:i||o||"",name:s,isHomeTenant:tc(u,t)}}else return{tenantId:r,localAccountId:e,isHomeTenant:tc(r,t)}}function Df(t,e,r,n){let i=t;if(e){const{isHomeTenant:o,...a}=e;i={...t,...a}}if(r){const{isHomeTenant:o,...a}=Mf(t.homeAccountId,t.localAccountId,t.tenantId,r);return i={...i,...a,idTokenClaims:r,idToken:n},i}return i}/*! @azure/msal-common v14.15.0 2024-09-20 */const fr={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.15.0 2024-09-20 */function gm(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v14.15.0 2024-09-20 */const $r={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.15.0 2024-09-20 */class Ze{generateAccountId(){return[this.homeAccountId,this.environment].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Ze.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const r=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",r||e.tenantId||""].join(wt.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,r,n){var l,u,d,f,h,p;const i=new Ze;r.authorityType===fr.Adfs?i.authorityType=Qa.ADFS_ACCOUNT_TYPE:r.protocolMode===$r.AAD?i.authorityType=Qa.MSSTS_ACCOUNT_TYPE:i.authorityType=Qa.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&n&&(o=ec(e.clientInfo,n)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const a=e.environment||r&&r.getPreferredCache();if(!a)throw P(Sf);i.environment=a,i.realm=(o==null?void 0:o.utid)||gm(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((l=e.idTokenClaims)==null?void 0:l.oid)||((u=e.idTokenClaims)==null?void 0:u.sub)||"";const s=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((f=e.idTokenClaims)==null?void 0:f.upn),c=(h=e.idTokenClaims)!=null&&h.emails?e.idTokenClaims.emails[0]:null;if(i.username=s||c||"",i.name=((p=e.idTokenClaims)==null?void 0:p.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const g=Mf(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[g]}return i}static createFromAccountInfo(e,r,n){var o;const i=new Ze;return i.authorityType=e.authorityType||Qa.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=r,i.msGraphHost=n,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,r,n,i,o){if(!(r===fr.Adfs||r===fr.Dsts)){if(e)try{const a=ec(e,i.base64Decode);if(a.uid&&a.utid)return`${a.uid}.${a.utid}`}catch{}n.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,r,n){if(!e||!r)return!1;let i=!0;if(n){const o=e.idTokenClaims||{},a=r.idTokenClaims||{};i=o.iat===a.iat&&o.nonce===a.nonce}return e.homeAccountId===r.homeAccountId&&e.localAccountId===r.localAccountId&&e.username===r.username&&e.tenantId===r.tenantId&&e.environment===r.environment&&e.nativeAccountId===r.nativeAccountId&&i}}/*! @azure/msal-common v14.15.0 2024-09-20 */function vm(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function rc(t){if(!t||t.indexOf("=")<0)return null;try{const e=vm(t),r=Object.fromEntries(new URLSearchParams(e));if(r.code||r.error||r.error_description||r.state)return r}catch{throw P(Uv)}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */class ie{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Ce(nm);e.includes("#")||(this._urlString=ie.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let r=e.toLowerCase();return yr.endsWith(r,"?")?r=r.slice(0,-1):yr.endsWith(r,"?/")&&(r=r.slice(0,-2)),yr.endsWith(r,"/")||(r+="/"),r}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Ce(Po)}if(!e.HostNameAndPort||!e.PathSegments)throw Ce(Po);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Ce(rm)}static appendQueryString(e,r){return r?e.indexOf("?")<0?`${e}?${r}`:`${e}&${r}`:e}static removeHashFromUrl(e){return ie.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const r=this.getUrlComponents(),n=r.PathSegments;return e&&n.length!==0&&(n[0]===Sn.COMMON||n[0]===Sn.ORGANIZATIONS)&&(n[0]=e),ie.constructAuthorityUriFromObject(r)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),r=this.urlString.match(e);if(!r)throw Ce(Po);const n={Protocol:r[1],HostNameAndPort:r[4],AbsolutePath:r[5],QueryString:r[7]};let i=n.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),n.PathSegments=i,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const r=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(r);if(!n)throw Ce(Po);return n[2]}static getAbsoluteUrl(e,r){if(e[0]===R.FORWARD_SLASH){const i=new ie(r).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new ie(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!rc(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const mm={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},$1=mm.endpointMetadata,Lf=mm.instanceDiscoveryMetadata,ym=new Set;Lf.metadata.forEach(t=>{t.aliases.forEach(e=>{ym.add(e)})});function sA(t,e){var i;let r;const n=t.canonicalAuthority;if(n){const o=new ie(n).getUrlComponents().HostNameAndPort;r=X1(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,zt.CONFIG,e)||X1(o,Lf.metadata,zt.HARDCODED_VALUES,e)||t.knownAuthorities}return r||[]}function X1(t,e,r,n){if(n==null||n.trace(`getAliasesFromMetadata called with source: ${r}`),t&&e){const i=nc(e,t);if(i)return n==null||n.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n==null||n.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function cA(t){return nc(Lf.metadata,t)}function nc(t,e){for(let r=0;r<t.length;r++){const n=t[r];if(n.aliases.includes(e))return n}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */const Cm="cache_quota_exceeded",Bf="cache_error_unknown";/*! @azure/msal-common v14.15.0 2024-09-20 */const Ol={[Cm]:"Exceeded cache storage capacity.",[Bf]:"Unexpected error occurred when using cache storage."};class ji extends Error{constructor(e,r){const n=r||(Ol[e]?Ol[e]:Ol[Bf]);super(`${e}: ${n}`),Object.setPrototypeOf(this,ji.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}/*! @azure/msal-common v14.15.0 2024-09-20 */class to{constructor(e,r,n,i){this.clientId=e,this.cryptoImpl=r,this.commonLogger=n.clone(Zv,Tf),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const r=this.getAllAccounts(e);return r.length>1?r.sort(i=>i.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e){const r=this.getAccountsFilteredBy(e);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,r){return e.flatMap(n=>this.getTenantProfilesFromAccountEntity(n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,r,n,i){let o=null,a;if(i&&!this.tenantProfileMatchesFilter(n,i))return null;const s=this.getIdToken(e,r,n.tenantId);return s&&(a=pi(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,i))?null:(o=Df(e,n,a,s==null?void 0:s.secret),o)}getTenantProfilesFromAccountEntity(e,r,n){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const a=this.getTokenKeys();if(r){const c=o.get(r);if(c)o=new Map([[r,c]]);else return[]}const s=[];return o.forEach(c=>{const l=this.getTenantedAccountInfoByFilter(i,a,c,n);l&&s.push(l)}),s}tenantProfileMatchesFilter(e,r){return!(r.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,r.localAccountId)||r.name&&e.name!==r.name||r.isHomeTenant!==void 0&&e.isHomeTenant!==r.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,r){return!(r&&(r.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,r.localAccountId)||r.loginHint&&!this.matchLoginHintFromTokenClaims(e,r.loginHint)||r.username&&!this.matchUsername(e.preferred_username,r.username)||r.name&&!this.matchName(e,r.name)||r.sid&&!this.matchSid(e,r.sid)))}async saveCacheRecord(e,r,n){var i,o,a,s;if(!e)throw P($v);try{e.account&&this.setAccount(e.account),e.idToken&&(r==null?void 0:r.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(c){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),c instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${c.message}`,n),c.name==="QuotaExceededError"||c.name==="NS_ERROR_DOM_QUOTA_REACHED"||c.message.includes("exceeded the quota")?((a=this.commonLogger)==null||a.error("CacheManager.saveCacheRecord: exceeded storage quota",n),new ji(Cm)):new ji(c.name,c.message)):((s=this.commonLogger)==null||s.errorPii(`CacheManager.saveCacheRecord: ${c}`,n),new ji(Bf))}}async saveAccessToken(e){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=Le.fromString(e.target),o=[];n.accessToken.forEach(a=>{if(!this.accessTokenKeyMatchesFilter(a,r,!1))return;const s=this.getAccessTokenCredential(a);s&&this.credentialMatchesFilter(s,r)&&Le.fromString(s.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(a))}),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const r=this.getAccountKeys(),n=[];return r.forEach(i=>{var c;if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},s=(c=o.tenantProfiles)==null?void 0:c.filter(l=>this.tenantProfileMatchesFilter(l,a));s&&s.length===0||n.push(o)}),n}isAccountKey(e,r,n){return!(e.split(wt.CACHE_KEY_SEPARATOR).length<3||r&&!e.toLowerCase().includes(r.toLowerCase())||n&&!e.toLowerCase().includes(n.toLowerCase()))}isCredentialKey(e){if(e.split(wt.CACHE_KEY_SEPARATOR).length<6)return!1;const r=e.toLowerCase();if(r.indexOf($.ID_TOKEN.toLowerCase())===-1&&r.indexOf($.ACCESS_TOKEN.toLowerCase())===-1&&r.indexOf($.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&r.indexOf($.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(r.indexOf($.REFRESH_TOKEN.toLowerCase())>-1){const n=`${$.REFRESH_TOKEN}${wt.CACHE_KEY_SEPARATOR}${this.clientId}${wt.CACHE_KEY_SEPARATOR}`,i=`${$.REFRESH_TOKEN}${wt.CACHE_KEY_SEPARATOR}${Wo}${wt.CACHE_KEY_SEPARATOR}`;if(r.indexOf(n.toLowerCase())===-1&&r.indexOf(i.toLowerCase())===-1)return!1}else if(r.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,r){return!(r.clientId&&!this.matchClientId(e,r.clientId)||r.userAssertionHash&&!this.matchUserAssertionHash(e,r.userAssertionHash)||typeof r.homeAccountId=="string"&&!this.matchHomeAccountId(e,r.homeAccountId)||r.environment&&!this.matchEnvironment(e,r.environment)||r.realm&&!this.matchRealm(e,r.realm)||r.credentialType&&!this.matchCredentialType(e,r.credentialType)||r.familyId&&!this.matchFamilyId(e,r.familyId)||r.target&&!this.matchTarget(e,r.target)||(r.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==r.requestedClaimsHash||e.credentialType===$.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(r.tokenType&&!this.matchTokenType(e,r.tokenType)||r.tokenType===ye.SSH&&r.keyId&&!this.matchKeyId(e,r.keyId)))}getAppMetadataFilteredBy(e){const r=this.getKeys(),n={};return r.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(n[i]=o))}),n}getAuthorityMetadataByAlias(e){const r=this.getAuthorityMetadataKeys();let n=null;return r.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(n=o)}),n}async removeAllAccounts(){const e=this.getAccountKeys(),r=[];e.forEach(n=>{r.push(this.removeAccount(n))}),await Promise.all(r)}async removeAccount(e){const r=this.getAccount(e,this.commonLogger);r&&(await this.removeAccountContext(r),this.removeItem(e))}async removeAccountContext(e){const r=this.getTokenKeys(),n=e.generateAccountId(),i=[];r.idToken.forEach(o=>{o.indexOf(n)===0&&this.removeIdToken(o)}),r.accessToken.forEach(o=>{o.indexOf(n)===0&&i.push(this.removeAccessToken(o))}),r.refreshToken.forEach(o=>{o.indexOf(n)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}updateOutdatedCachedAccount(e,r,n){var i;if(r&&r.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const o=this.getAccountKeys().filter(u=>u.startsWith(r.homeAccountId)),a=[];o.forEach(u=>{const d=this.getCachedAccountEntity(u);d&&a.push(d)});const s=a.find(u=>tc(u.realm,u.homeAccountId))||a[0];s.tenantProfiles=a.map(u=>({tenantId:u.realm,localAccountId:u.localAccountId,name:u.name,isHomeTenant:tc(u.realm,u.homeAccountId)}));const c=to.toObject(new Ze,{...s}),l=c.generateAccountKey();return o.forEach(u=>{u!==l&&this.removeOutdatedAccount(e)}),this.setAccount(c),n==null||n.verbose("Updated an outdated account entity in the cache"),c}return r}async removeAccessToken(e){const r=this.getAccessTokenCredential(e);if(r){if(r.credentialType.toLowerCase()===$.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&r.tokenType===ye.POP){const i=r.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw P(qv)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r)}),!0}readAccountFromCache(e){const r=Ze.generateAccountCacheKey(e);return this.getAccount(r,this.commonLogger)}getIdToken(e,r,n,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:$.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(a,r),c=s.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=s;if(!n){const u=new Map;s.forEach((f,h)=>{f.realm===e.tenantId&&u.set(h,f)});const d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d)}),i&&o&&i.addFields({multiMatchedID:s.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,r){const n=r&&r.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(o);a&&this.credentialMatchesFilter(a,e)&&i.set(o,a)}),i}idTokenKeyMatchesFilter(e,r){const n=e.toLowerCase();return!(r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,r,n,i,o,a){this.commonLogger.trace("CacheManager - getAccessToken called");const s=Le.createSearchScopes(r.scopes),c=r.authenticationScheme||ye.BEARER,l=c&&c.toLowerCase()!==ye.BEARER.toLowerCase()?$.ACCESS_TOKEN_WITH_AUTH_SCHEME:$.ACCESS_TOKEN,u={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:s,tokenType:c,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},d=n&&n.accessToken||this.getTokenKeys().accessToken,f=[];d.forEach(p=>{if(this.accessTokenKeyMatchesFilter(p,u,!0)){const g=this.getAccessTokenCredential(p);g&&this.credentialMatchesFilter(g,u)&&f.push(g)}});const h=f.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),f.forEach(p=>{this.removeAccessToken(Mi(p))}),o&&a&&o.addFields({multiMatchedAT:f.length},a),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),f[0])}accessTokenKeyMatchesFilter(e,r,n){const i=e.toLowerCase();if(r.clientId&&i.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&i.indexOf(r.homeAccountId.toLowerCase())===-1||r.realm&&i.indexOf(r.realm.toLowerCase())===-1||r.requestedClaimsHash&&i.indexOf(r.requestedClaimsHash.toLowerCase())===-1)return!1;if(r.target){const o=r.target.asArray();for(let a=0;a<o.length;a++){if(n&&!i.includes(o[a].toLowerCase()))return!1;if(!n&&i.includes(o[a].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const r=this.getTokenKeys(),n=[];return r.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&n.push(o)}),n}getRefreshToken(e,r,n,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const a=r?Wo:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:$.REFRESH_TOKEN,clientId:this.clientId,familyId:a},c=n&&n.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,s)){const f=this.getRefreshTokenCredential(d);f&&this.credentialMatchesFilter(f,s)&&l.push(f)}});const u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&o&&i.addFields({multiMatchedRT:u},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,r){const n=e.toLowerCase();return!(r.familyId&&n.indexOf(r.familyId.toLowerCase())===-1||!r.familyId&&r.clientId&&n.indexOf(r.clientId.toLowerCase())===-1||r.homeAccountId&&n.indexOf(r.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const r={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(r),i=Object.keys(n).map(a=>n[a]),o=i.length;if(o<1)return null;if(o>1)throw P(Gv);return i[0]}isAppMetadataFOCI(e){const r=this.readAppMetadataFromCache(e);return!!(r&&r.familyId===Wo)}matchHomeAccountId(e,r){return typeof e.homeAccountId=="string"&&r===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,r){const n=e.oid||e.sub;return r===n}matchLocalAccountIdFromTenantProfile(e,r){return e.localAccountId===r}matchName(e,r){var n;return r.toLowerCase()===((n=e.name)==null?void 0:n.toLowerCase())}matchUsername(e,r){return!!(e&&typeof e=="string"&&(r==null?void 0:r.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,r){return!!(e.userAssertionHash&&r===e.userAssertionHash)}matchEnvironment(e,r){if(this.staticAuthorityOptions){const i=sA(this.staticAuthorityOptions,this.commonLogger);if(i.includes(r)&&i.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(r);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,r){return e.credentialType&&r.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,r){return!!(e.clientId&&r===e.clientId)}matchFamilyId(e,r){return!!(e.familyId&&r===e.familyId)}matchRealm(e,r){var n;return((n=e.realm)==null?void 0:n.toLowerCase())===r.toLowerCase()}matchNativeAccountId(e,r){return!!(e.nativeAccountId&&r===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,r){return e.login_hint===r||e.preferred_username===r||e.upn===r}matchSid(e,r){return e.sid===r}matchAuthorityType(e,r){return!!(e.authorityType&&r.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,r){return e.credentialType!==$.ACCESS_TOKEN&&e.credentialType!==$.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Le.fromString(e.target).containsScopeSet(r)}matchTokenType(e,r){return!!(e.tokenType&&e.tokenType===r)}matchKeyId(e,r){return!!(e.keyId&&e.keyId===r)}isAppMetadata(e){return e.indexOf(Cf)!==-1}isAuthorityMetadata(e){return e.indexOf(Qs.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Qs.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,r){for(const n in r)e[n]=r[n];return e}}class lA extends to{setAccount(){throw P(q)}getAccount(){throw P(q)}getCachedAccountEntity(){throw P(q)}setIdTokenCredential(){throw P(q)}getIdTokenCredential(){throw P(q)}setAccessTokenCredential(){throw P(q)}getAccessTokenCredential(){throw P(q)}setRefreshTokenCredential(){throw P(q)}getRefreshTokenCredential(){throw P(q)}setAppMetadata(){throw P(q)}getAppMetadata(){throw P(q)}setServerTelemetry(){throw P(q)}getServerTelemetry(){throw P(q)}setAuthorityMetadata(){throw P(q)}getAuthorityMetadata(){throw P(q)}getAuthorityMetadataKeys(){throw P(q)}setThrottlingCache(){throw P(q)}getThrottlingCache(){throw P(q)}removeItem(){throw P(q)}getKeys(){throw P(q)}getAccountKeys(){throw P(q)}getTokenKeys(){throw P(q)}async clear(){throw P(q)}updateCredentialCacheKey(){throw P(q)}removeOutdatedAccount(){throw P(q)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const wm={tokenRenewalOffsetSeconds:kE,preventCorsPreflight:!1},uA={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:me.Info,correlationId:R.EMPTY_STRING},dA={claimsBasedCachingEnabled:!1},fA={async sendGetRequestAsync(){throw P(q)},async sendPostRequestAsync(){throw P(q)}},hA={sku:R.SKU,version:Tf,cpu:R.EMPTY_STRING,os:R.EMPTY_STRING},pA={clientSecret:R.EMPTY_STRING,clientAssertion:void 0},gA={azureCloudInstance:Rf.None,tenant:`${R.DEFAULT_COMMON_TENANT}`},vA={application:{appName:"",appVersion:""}};function mA({authOptions:t,systemOptions:e,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:a,clientCredentials:s,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:f}){const h={...uA,...r};return{authOptions:yA(t),systemOptions:{...wm,...e},loggerOptions:h,cacheOptions:{...dA,...n},storageInterface:i||new lA(t.clientId,Js,new Zr(h)),networkInterface:o||fA,cryptoInterface:a||Js,clientCredentials:s||pA,libraryInfo:{...hA,...c},telemetry:{...vA,...l},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:f||null}}function yA(t){return{clientCapabilities:[],azureCloudOptions:gA,skipAuthorityMetadataCache:!1,instanceAware:!1,...t}}function ju(t){return t.authOptions.authority.options.protocolMode===$r.OIDC}/*! @azure/msal-common v14.15.0 2024-09-20 */class Nn extends Ne{constructor(e,r,n,i,o){super(e,r,n),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,Nn.prototype)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Rr{static generateThrottlingStorageKey(e){return`${$o.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,r){var o;const n=Rr.generateThrottlingStorageKey(r),i=e.getThrottlingCache(n);if(i){if(i.throttleTime<Date.now()){e.removeItem(n);return}throw new Nn(((o=i.errorCodes)==null?void 0:o.join(" "))||R.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,r,n){if(Rr.checkResponseStatus(n)||Rr.checkResponseForRetryAfter(n)){const i={throttleTime:Rr.calculateThrottleTime(parseInt(n.headers[Nr.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(Rr.generateThrottlingStorageKey(r),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Nr.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const r=e<=0?0:e,n=Date.now()/1e3;return Math.floor(Math.min(n+(r||$o.DEFAULT_THROTTLE_TIME_SECONDS),n+$o.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,r,n,i){const o={clientId:r,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:i,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class CA{constructor(e,r){this.networkClient=e,this.cacheManager=r}async sendPostRequest(e,r,n){Rr.preProcess(this.cacheManager,e);let i;try{i=await this.networkClient.sendPostRequestAsync(r,n)}catch(o){throw o instanceof Ne?o:P(Bv)}return Rr.postProcess(this.cacheManager,e,i),i}}/*! @azure/msal-common v14.15.0 2024-09-20 */const Wt={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.15.0 2024-09-20 */const ro="client_id",wA="redirect_uri",Y1="response_type",EA="response_mode",AA="grant_type",_A="claims",xA="scope",SA="refresh_token",IA="state",TA="nonce",RA="prompt",OA="code",NA="code_challenge",kA="code_challenge_method",PA="code_verifier",bA="client-request-id",MA="x-client-SKU",DA="x-client-VER",LA="x-client-OS",BA="x-client-CPU",FA="x-client-current-telemetry",UA="x-client-last-telemetry",HA="x-ms-lib-capability",zA="x-app-name",KA="x-app-ver",GA="post_logout_redirect_uri",VA="id_token_hint",jA="device_code",WA="client_secret",$A="client_assertion",XA="client_assertion_type",q1="token_type",Q1="req_cnf",YA="assertion",qA="requested_token_use",Z1="return_spa_code",QA="nativebroker",ZA="logout_hint",JA="sid",e_="login_hint",t_="domain_hint",r_="x-client-xtra-sku";/*! @azure/msal-common v14.15.0 2024-09-20 */class Ci{static validateRedirectUri(e){if(!e)throw Ce(tm)}static validatePrompt(e){const r=[];for(const n in it)r.push(it[n]);if(r.indexOf(e)<0)throw Ce(om)}static validateClaims(e){try{JSON.parse(e)}catch{throw Ce(Nf)}}static validateCodeChallengeParams(e,r){if(!e||!r)throw Ce(kf);this.validateCodeChallengeMethod(r)}static validateCodeChallengeMethod(e){if([B1.PLAIN,B1.S256].indexOf(e)<0)throw Ce(cm)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Xo{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(Y1,encodeURIComponent(R.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Y1,encodeURIComponent(`${R.TOKEN_RESPONSE_TYPE} ${R.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(EA,encodeURIComponent(e||RE.QUERY))}addNativeBroker(){this.parameters.set(QA,encodeURIComponent("1"))}addScopes(e,r=!0,n=uo){r&&!n.includes("openid")&&!e.includes("openid")&&n.push("openid");const i=r?[...e||[],...n]:e||[],o=new Le(i);this.parameters.set(xA,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(ro,encodeURIComponent(e))}addRedirectUri(e){Ci.validateRedirectUri(e),this.parameters.set(wA,encodeURIComponent(e))}addPostLogoutRedirectUri(e){Ci.validateRedirectUri(e),this.parameters.set(GA,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(VA,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(t_,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(e_,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(Nr.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(Nr.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(JA,encodeURIComponent(e))}addClaims(e,r){const n=this.addClientCapabilitiesToClaims(e,r);Ci.validateClaims(n),this.parameters.set(_A,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(bA,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(MA,e.sku),this.parameters.set(DA,e.version),e.os&&this.parameters.set(LA,e.os),e.cpu&&this.parameters.set(BA,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(zA,e.appName),e!=null&&e.appVersion&&this.parameters.set(KA,e.appVersion)}addPrompt(e){Ci.validatePrompt(e),this.parameters.set(`${RA}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(IA,encodeURIComponent(e))}addNonce(e){this.parameters.set(TA,encodeURIComponent(e))}addCodeChallengeParams(e,r){if(Ci.validateCodeChallengeParams(e,r),e&&r)this.parameters.set(NA,encodeURIComponent(e)),this.parameters.set(kA,encodeURIComponent(r));else throw Ce(kf)}addAuthorizationCode(e){this.parameters.set(OA,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(jA,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(SA,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(PA,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(WA,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set($A,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(XA,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(YA,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(qA,encodeURIComponent(e))}addGrantType(e){this.parameters.set(AA,encodeURIComponent(e))}addClientInfo(){this.parameters.set(OE,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([r,n])=>{!this.parameters.has(r)&&n&&this.parameters.set(r,n)})}addClientCapabilitiesToClaims(e,r){let n;if(!e)n={};else try{n=JSON.parse(e)}catch{throw Ce(Nf)}return r&&r.length>0&&(n.hasOwnProperty(qa.ACCESS_TOKEN)||(n[qa.ACCESS_TOKEN]={}),n[qa.ACCESS_TOKEN][qa.XMS_CC]={values:r}),JSON.stringify(n)}addUsername(e){this.parameters.set(U1.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(U1.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(q1,ye.POP),this.parameters.set(Q1,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(q1,ye.SSH),this.parameters.set(Q1,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(FA,e.generateCurrentRequestHeaderValue()),this.parameters.set(UA,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(HA,$o.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(ZA,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach((r,n)=>{e.push(`${n}=${r}`)}),e.join("&")}}/*! @azure/msal-common v14.15.0 2024-09-20 */function n_(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.15.0 2024-09-20 */function i_(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v14.15.0 2024-09-20 */function o_(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v14.15.0 2024-09-20 */const I={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},a_={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v14.15.0 2024-09-20 */const gi=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);const a=n==null?void 0:n.startMeasurement(e,i);if(i){const s=e+"CallCount";n==null||n.incrementFields({[s]:1},i)}try{const s=t(...o);return a==null||a.end({success:!0}),r.trace(`Returning result from ${e}`),s}catch(s){r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(s))}catch{r.trace("Unable to print error message.")}throw a==null||a.end({success:!1},s),s}},D=(t,e,r,n,i)=>(...o)=>{r.trace(`Executing function ${e}`);const a=n==null?void 0:n.startMeasurement(e,i);if(i){const s=e+"CallCount";n==null||n.incrementFields({[s]:1},i)}return n==null||n.setPreQueueTime(e,i),t(...o).then(s=>(r.trace(`Returning result from ${e}`),a==null||a.end({success:!0}),s)).catch(s=>{r.trace(`Error occurred in ${e}`);try{r.trace(JSON.stringify(s))}catch{r.trace("Unable to print error message.")}throw a==null||a.end({success:!1},s),s})};/*! @azure/msal-common v14.15.0 2024-09-20 */class Lc{constructor(e,r,n,i){this.networkInterface=e,this.logger=r,this.performanceClient=n,this.correlationId=i}async detectRegion(e,r){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(I.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)r.region_source=mi.ENVIRONMENT_VARIABLE;else{const o=Lc.IMDS_OPTIONS;try{const a=await D(this.getRegionFromIMDS.bind(this),I.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(R.IMDS_VERSION,o);if(a.status===Za.httpSuccess&&(n=a.body,r.region_source=mi.IMDS),a.status===Za.httpBadRequest){const s=await D(this.getCurrentVersion.bind(this),I.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!s)return r.region_source=mi.FAILED_AUTO_DETECTION,null;const c=await D(this.getRegionFromIMDS.bind(this),I.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(s,o);c.status===Za.httpSuccess&&(n=c.body,r.region_source=mi.IMDS)}}catch{return r.region_source=mi.FAILED_AUTO_DETECTION,null}}return n||(r.region_source=mi.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,r){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(I.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${R.IMDS_ENDPOINT}?api-version=${e}&format=text`,r,R.IMDS_TIMEOUT)}async getCurrentVersion(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(I.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const n=await this.networkInterface.sendGetRequestAsync(`${R.IMDS_ENDPOINT}?format=json`,e);return n.status===Za.httpBadRequest&&n.body&&n.body["newest-versions"]&&n.body["newest-versions"].length>0?n.body["newest-versions"][0]:null}catch{return null}}}Lc.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.15.0 2024-09-20 */class yt{constructor(e,r,n,i,o,a,s,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=r,this.cacheManager=n,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=s,this.correlationId=a,this.managedIdentity=c||!1,this.regionDiscovery=new Lc(r,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(R.CIAM_AUTH_URL))return fr.Ciam;const r=e.PathSegments;if(r.length)switch(r[0].toLowerCase()){case R.ADFS:return fr.Adfs;case R.DSTS:return fr.Dsts}return fr.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new ie(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw P(Hr)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw P(Hr)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw P(Hr)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw P(Qv);return this.replacePath(this.metadata.end_session_endpoint)}else throw P(Hr)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw P(Hr)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw P(Hr)}canReplaceTenant(e){return e.PathSegments.length===1&&!yt.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===fr.Default&&this.protocolMode===$r.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let r=e;const i=new ie(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((s,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(i)){const u=new ie(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}s!==l&&(r=r.replace(`/${l}/`,`/${s}/`))}),this.replaceTenant(r)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===fr.Adfs||this.protocolMode!==$r.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(I.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),r=await D(this.updateCloudDiscoveryMetadata.bind(this),I.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await D(this.updateEndpointMetadata.bind(this),I.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,r,{source:n}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:r,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:j1(),jwks_uri:""}),e}updateCachedMetadata(e,r,n){r!==zt.CACHE&&(n==null?void 0:n.source)!==zt.CACHE&&(e.expiresAt=j1(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,a;(i=this.performanceClient)==null||i.addQueueMeasurement(I.AuthorityUpdateEndpointMetadata,this.correlationId);const r=this.updateEndpointMetadataFromLocalSources(e);if(r){if(r.source===zt.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&r.metadata){const s=await D(this.updateMetadataWithRegionalInformation.bind(this),I.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r.metadata);Ja(e,s,!1),e.canonical_authority=this.canonicalAuthority}return r.source}let n=await D(this.getEndpointMetadataFromNetwork.bind(this),I.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(a=this.authorityOptions.azureRegionConfiguration)!=null&&a.azureRegion&&(n=await D(this.updateMetadataWithRegionalInformation.bind(this),I.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),Ja(e,n,!0),zt.NETWORK;throw P(Fv,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const r=this.getEndpointMetadataFromConfig();if(r)return this.logger.verbose("Found endpoint metadata in authority configuration"),Ja(e,r,!1),{source:zt.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Ja(e,i,!1),{source:zt.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=W1(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:zt.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new ie(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Ce(lm)}return null}async getEndpointMetadataFromNetwork(){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(I.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},r=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${r}`);try{const i=await this.networkInterface.sendGetRequestAsync(r,e);return n_(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in $1?$1[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var n,i,o;(n=this.performanceClient)==null||n.addQueueMeasurement(I.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const r=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(r){if(r!==R.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Tl.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=r,yt.replaceWithRegionalInformation(e,r);const a=await D(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),I.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(a)return this.regionDiscoveryMetadata.region_outcome=Tl.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=a,yt.replaceWithRegionalInformation(e,a);this.regionDiscoveryMetadata.region_outcome=Tl.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(I.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const r=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(r)return r;const n=await D(this.getCloudDiscoveryMetadataFromNetwork.bind(this),I.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return Rl(e,n,!0),zt.NETWORK;throw Ce(um)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||R.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||R.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||R.NOT_APPLICABLE}`);const r=this.getCloudDiscoveryMetadataFromConfig();if(r)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Rl(e,r,!1),zt.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=cA(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Rl(e,i,!1),zt.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=W1(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),zt.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===fr.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),yt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=nc(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),r)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),r;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Ce(Pf)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),yt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(I.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${R.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,r={};let n=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,r);let a,s;if(i_(o.body))a=o.body,s=a.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${a.tenant_discovery_endpoint}`);else if(o_(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),a=o.body,a.error===R.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${a.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${a.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),s=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=nc(s,this.hostnameAndPort)}catch(o){if(o instanceof Ne)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const a=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${a.name}
Error Description: ${a.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=yt.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(r=>r&&ie.getDomainFromUrl(r).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,r){let n;if(r&&r.azureCloudInstance!==Rf.None){const i=r.tenant?r.tenant:R.DEFAULT_COMMON_TENANT;n=`${r.azureCloudInstance}/${i}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return R.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw P(Hr)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return ym.has(e)}static isPublicCloudAuthority(e){return R.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,r,n){const i=new ie(e);i.validateAsUri();const o=i.getUrlComponents();let a=`${r}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${r}.${R.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=ie.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,r){const n={...e};return n.authorization_endpoint=yt.buildRegionalAuthorityString(n.authorization_endpoint,r),n.token_endpoint=yt.buildRegionalAuthorityString(n.token_endpoint,r),n.end_session_endpoint&&(n.end_session_endpoint=yt.buildRegionalAuthorityString(n.end_session_endpoint,r)),n}static transformCIAMAuthority(e){let r=e;const i=new ie(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(R.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];r=`${r}${o}${R.AAD_TENANT_DOMAIN_SUFFIX}`}return r}}yt.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Sn.COMMON,Sn.CONSUMERS,Sn.ORGANIZATIONS]);function s_(t){var i;const n=(i=new ie(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(n){case Sn.COMMON:case Sn.ORGANIZATIONS:case Sn.CONSUMERS:return;default:return n}}function Em(t){return t.endsWith(R.FORWARD_SLASH)?t:`${t}${R.FORWARD_SLASH}`}function c_(t){const e=t.cloudDiscoveryMetadata;let r;if(e)try{r=JSON.parse(e)}catch{throw Ce(Pf)}return{canonicalAuthority:t.authority?Em(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:r}}/*! @azure/msal-common v14.15.0 2024-09-20 */async function Am(t,e,r,n,i,o,a){a==null||a.addQueueMeasurement(I.AuthorityFactoryCreateDiscoveredInstance,o);const s=yt.transformCIAMAuthority(Em(t)),c=new yt(s,e,r,n,i,o,a);try{return await D(c.resolveEndpointsAsync.bind(c),I.AuthorityResolveEndpointsAsync,i,a,o)(),c}catch{throw P(Hr)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Ff{constructor(e,r){this.config=mA(e),this.logger=new Zr(this.config.loggerOptions,Zv,Tf),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new CA(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=r}createTokenRequestHeaders(e){const r={};if(r[Nr.CONTENT_TYPE]=R.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Wt.HOME_ACCOUNT_ID:try{const n=Di(e.credential);r[Nr.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case Wt.UPN:r[Nr.CCS_HEADER]=`UPN: ${e.credential}`;break}return r}async executePostToTokenEndpoint(e,r,n,i,o,a){var c,l,u,d;a&&((c=this.performanceClient)==null||c.addQueueMeasurement(a,o));const s=await this.networkManager.sendPostRequest(i,e,{body:r,headers:n});return(d=this.performanceClient)==null||d.addFields({refreshTokenSize:((l=s.body.refresh_token)==null?void 0:l.length)||0,httpVerToken:((u=s.headers)==null?void 0:u[Nr.X_MS_HTTP_VERSION])||""},o),this.config.serverTelemetryManager&&s.status<500&&s.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async updateAuthority(e,r){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(I.UpdateTokenEndpointAuthority,r);const n=`https://${e}/${this.authority.tenant}/`,i=await Am(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,r,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const r=new Xo;return e.tokenQueryParameters&&r.addExtraQueryParameters(e.tokenQueryParameters),r.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */const ic="no_tokens_found",_m="native_account_unavailable",Uf="refresh_token_expired",l_="interaction_required",u_="consent_required",d_="login_required",Bc="bad_token";/*! @azure/msal-common v14.15.0 2024-09-20 */const J1=[l_,u_,d_,Bc],f_=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],h_={[ic]:"No refresh token found in the cache. Please sign-in.",[_m]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Uf]:"Refresh token has expired.",[Bc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Er extends Ne{constructor(e,r,n,i,o,a,s,c){super(e,r,n),Object.setPrototypeOf(this,Er.prototype),this.timestamp=i||R.EMPTY_STRING,this.traceId=o||R.EMPTY_STRING,this.correlationId=a||R.EMPTY_STRING,this.claims=s||R.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function e0(t,e,r){const n=!!t&&J1.indexOf(t)>-1,i=!!r&&f_.indexOf(r)>-1,o=!!e&&J1.some(a=>e.indexOf(a)>-1);return n||o||i}function Wu(t){return new Er(t,h_[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */class Cr{static setRequestState(e,r,n){const i=Cr.generateLibraryState(e,n);return r?`${i}${R.RESOURCE_DELIM}${r}`:i}static generateLibraryState(e,r){if(!e)throw P(Ku);const n={id:e.createNewGuid()};r&&(n.meta=r);const i=JSON.stringify(n);return e.base64Encode(i)}static parseRequestState(e,r){if(!e)throw P(Ku);if(!r)throw P(eo);try{const n=r.split(R.RESOURCE_DELIM),i=n[0],o=n.length>1?n.slice(1).join(R.RESOURCE_DELIM):R.EMPTY_STRING,a=e.base64Decode(i),s=JSON.parse(a);return{userRequestState:o||R.EMPTY_STRING,libraryState:s}}catch{throw P(eo)}}}/*! @azure/msal-common v14.15.0 2024-09-20 */const p_={SW:"sw",UHW:"uhw"};class no{constructor(e,r){this.cryptoUtils=e,this.performanceClient=r}async generateCnf(e,r){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(I.PopTokenGenerateCnf,e.correlationId);const n=await D(this.generateKid.bind(this),I.PopTokenGenerateCnf,r,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:i}}async generateKid(e){var n;return(n=this.performanceClient)==null||n.addQueueMeasurement(I.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:p_.SW}}async signPopToken(e,r,n){return this.signPayload(e,r,n)}async signPayload(e,r,n,i){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:s,shrNonce:c,shrOptions:l}=n,u=a?new ie(a):void 0,d=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Lr(),m:o==null?void 0:o.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:s||void 0,...i},r,l,n.correlationId)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class g_{constructor(e,r){this.cache=e,this.hasChanged=r}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.15.0 2024-09-20 */function v_(t){var n,i;const e="code=",r=(n=t.error_uri)==null?void 0:n.lastIndexOf(e);return r&&r>=0?(i=t.error_uri)==null?void 0:i.substring(r+e.length):void 0}class ai{constructor(e,r,n,i,o,a,s){this.clientId=e,this.cacheStorage=r,this.cryptoObj=n,this.logger=i,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=s}validateServerAuthorizationCodeResponse(e,r){if(!e.state||!r)throw e.state?P(Zs,"Cached State"):P(Zs,"Server State");let n,i;try{n=decodeURIComponent(e.state)}catch{throw P(eo,e.state)}try{i=decodeURIComponent(r)}catch{throw P(eo,e.state)}if(n!==i)throw P(Hv);if(e.error||e.error_description||e.suberror){const o=v_(e);throw e0(e.error,e.error_description,e.suberror)?new Er(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Nn(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,r){var n;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||R.NOT_AVAILABLE} - Timestamp: ${e.timestamp||R.NOT_AVAILABLE} - Description: ${e.error_description||R.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||R.NOT_AVAILABLE} - Trace ID: ${e.trace_id||R.NOT_AVAILABLE}`,o=(n=e.error_codes)!=null&&n.length?e.error_codes[0]:void 0,a=new Nn(e.error,i,e.suberror,o,e.status);if(r&&e.status&&e.status>=Ya.SERVER_ERROR_RANGE_START&&e.status<=Ya.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${a}`);return}else if(r&&e.status&&e.status>=Ya.CLIENT_ERROR_RANGE_START&&e.status<=Ya.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${a}`);return}throw e0(e.error,e.error_description,e.suberror)?new Er(e.error,e.error_description,e.suberror,e.timestamp||R.EMPTY_STRING,e.trace_id||R.EMPTY_STRING,e.correlation_id||R.EMPTY_STRING,e.claims||R.EMPTY_STRING,o):a}}async handleServerTokenResponse(e,r,n,i,o,a,s,c,l){var p;(p=this.performanceClient)==null||p.addQueueMeasurement(I.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=pi(e.id_token||R.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&u.nonce!==o.nonce)throw P(zv);if(i.maxAge||i.maxAge===0){const g=u.auth_time;if(!g)throw P(_f);Jv(g,i.maxAge)}}this.homeAccountIdentifier=Ze.generateHomeAccountId(e.client_info||R.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,u);let d;o&&o.state&&(d=Cr.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const f=this.generateCacheRecord(e,r,n,i,u,a,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new g_(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),s&&!c&&f.account){const g=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(g,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ai.generateAuthenticationResult(this.cryptoObj,r,f,!1,i,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(f,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return ai.generateAuthenticationResult(this.cryptoObj,r,f,!1,i,u,d,e,l)}generateCacheRecord(e,r,n,i,o,a,s){const c=r.getPreferredCache();if(!c)throw P(Sf);const l=gm(o);let u,d;e.id_token&&o&&(u=bc(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=Hf(this.cacheStorage,r,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,s,void 0,this.logger));let f=null;if(e.access_token){const g=e.scope?Le.fromString(e.scope):new Le(i.scopes||[]),y=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,m=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,v=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,C=n+y,E=C+m,A=v&&v>0?n+v:void 0;f=Mc(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||r.tenant||"",g.printScopes(),C,E,this.cryptoObj.base64Decode,A,e.token_type,a,e.key_id,i.claims,i.requestedClaimsHash)}let h=null;if(e.refresh_token){let g;if(e.refresh_token_expires_in){const y=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;g=n+y}h=em(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,a,g)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:f,refreshToken:h,appMetadata:p}}static async generateAuthenticationResult(e,r,n,i,o,a,s,c,l){var C,E,A,_,x;let u=R.EMPTY_STRING,d=[],f=null,h,p,g=R.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===ye.POP&&!o.popKid){const O=new no(e),{secret:F,keyId:M}=n.accessToken;if(!M)throw P(If);u=await O.signPopToken(F,M,o)}else u=n.accessToken.secret;d=Le.fromString(n.accessToken.target).asArray(),f=new Date(Number(n.accessToken.expiresOn)*1e3),h=new Date(Number(n.accessToken.extendedExpiresOn)*1e3),n.accessToken.refreshOn&&(p=new Date(Number(n.accessToken.refreshOn)*1e3))}n.appMetadata&&(g=n.appMetadata.familyId===Wo?Wo:"");const y=(a==null?void 0:a.oid)||(a==null?void 0:a.sub)||"",m=(a==null?void 0:a.tid)||"";c!=null&&c.spa_accountid&&n.account&&(n.account.nativeAccountId=c==null?void 0:c.spa_accountid);const v=n.account?Df(n.account.getAccountInfo(),void 0,a,(C=n.idToken)==null?void 0:C.secret):null;return{authority:r.canonicalAuthority,uniqueId:y,tenantId:m,scopes:d,account:v,idToken:((E=n==null?void 0:n.idToken)==null?void 0:E.secret)||"",idTokenClaims:a||{},accessToken:u,fromCache:i,expiresOn:f,extExpiresOn:h,refreshOn:p,correlationId:o.correlationId,requestId:l||R.EMPTY_STRING,familyId:g,tokenType:((A=n.accessToken)==null?void 0:A.tokenType)||R.EMPTY_STRING,state:s?s.userRequestState:R.EMPTY_STRING,cloudGraphHostName:((_=n.account)==null?void 0:_.cloudGraphHostName)||R.EMPTY_STRING,msGraphHost:((x=n.account)==null?void 0:x.msGraphHost)||R.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function Hf(t,e,r,n,i,o,a,s,c,l,u){u==null||u.verbose("setCachedAccount called");const f=t.getAccountKeys().find(m=>m.startsWith(r));let h=null;f&&(h=t.getAccount(f,u));const p=h||Ze.createAccount({homeAccountId:r,idTokenClaims:i,clientInfo:o,environment:a,cloudGraphHostName:c==null?void 0:c.cloud_graph_host_name,msGraphHost:c==null?void 0:c.msgraph_host,nativeAccountId:l},e,n),g=p.tenantProfiles||[],y=s||p.realm;if(y&&!g.find(m=>m.tenantId===y)){const m=Mf(r,p.localAccountId,y,i);g.push(m)}return p.tenantProfiles=g,p}/*! @azure/msal-common v14.15.0 2024-09-20 */async function xm(t,e,r){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:r})}/*! @azure/msal-common v14.15.0 2024-09-20 */class Sm extends Ff{constructor(e,r){var n;super(e,r),this.includeRedirectUri=!0,this.oidcDefaultScopes=(n=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:n.defaultScopes}async getAuthCodeUrl(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(I.GetAuthCodeUrl,e.correlationId);const r=await D(this.createAuthCodeUrlQueryString.bind(this),I.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return ie.appendQueryString(this.authority.authorizationEndpoint,r)}async acquireToken(e,r){var s,c;if((s=this.performanceClient)==null||s.addQueueMeasurement(I.AuthClientAcquireToken,e.correlationId),!e.code)throw P(Vv);const n=Lr(),i=await D(this.executeTokenRequest.bind(this),I.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(c=i.headers)==null?void 0:c[Nr.X_MS_REQUEST_ID],a=new ai(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(i.body),D(a.handleServerTokenResponse.bind(a),I.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,n,e,r,void 0,void 0,void 0,o)}handleFragmentResponse(e,r){if(new ai(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,r),!e.code)throw P(Yv);return e}getLogoutUri(e){if(!e)throw Ce(sm);const r=this.createLogoutUrlQueryString(e);return ie.appendQueryString(this.authority.endSessionEndpoint,r)}async executeTokenRequest(e,r){var l,u;(l=this.performanceClient)==null||l.addQueueMeasurement(I.AuthClientExecuteTokenRequest,r.correlationId);const n=this.createTokenQueryParameters(r),i=ie.appendQueryString(e.tokenEndpoint,n),o=await D(this.createTokenRequestBody.bind(this),I.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,r.correlationId)(r);let a;if(r.clientInfo)try{const d=ec(r.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${d.uid}${wt.CLIENT_INFO_SEPARATOR}${d.utid}`,type:Wt.HOME_ACCOUNT_ID}}catch(d){this.logger.verbose("Could not parse client info for CCS Header: "+d)}const s=this.createTokenRequestHeaders(a||r.ccsCredential),c={clientId:((u=r.tokenBodyParameters)==null?void 0:u.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:r.scopes,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid};return D(this.executePostToTokenEndpoint.bind(this),I.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,r.correlationId)(i,o,s,c,r.correlationId,I.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,a;(o=this.performanceClient)==null||o.addQueueMeasurement(I.AuthClientCreateTokenRequestBody,e.correlationId);const r=new Xo;if(r.addClientId(((a=e.tokenBodyParameters)==null?void 0:a[ro])||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):Ci.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!ju(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await xm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(s.assertionType)}if(r.addGrantType(bv.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===ye.POP){const s=new no(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await D(s.generateCnf.bind(s),I.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(c)}else if(e.authenticationScheme===ye.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw Ce(Dc);const n=e.correlationId||this.config.cryptoInterface.createNewGuid();r.addCorrelationId(n),(!yr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{const s=ec(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${s.uid}${wt.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Wt.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case Wt.HOME_ACCOUNT_ID:try{const s=Di(i.credential);r.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Wt.UPN:r.addCcsUpn(i.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Z1])&&r.addExtraQueryParameters({[Z1]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){var o,a;(o=this.performanceClient)==null||o.addQueueMeasurement(I.AuthClientCreateQueryString,e.correlationId);const r=new Xo;r.addClientId(((a=e.extraQueryParameters)==null?void 0:a[ro])||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri);const i=e.correlationId||this.config.cryptoInterface.createNewGuid();if(r.addCorrelationId(i),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),ju(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==it.SELECT_ACCOUNT)if(e.sid&&e.prompt===it.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){const s=this.extractAccountSid(e.account);let c=this.extractLoginHint(e.account);if(c&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(c);try{const l=Di(e.account.homeAccountId);r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(s&&e.prompt===it.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(s);try{const l=Di(e.account.homeAccountId);r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{const l=Di(e.account.homeAccountId);r.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.addExtraQueryParams(e,r),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===ye.POP)){const s=new no(this.cryptoUtils);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await D(s.generateCnf.bind(s),I.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(c)}return r.createQueryString()}createLogoutUrlQueryString(e){const r=new Xo;return e.postLogoutRedirectUri&&r.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&r.addCorrelationId(e.correlationId),e.idTokenHint&&r.addIdTokenHint(e.idTokenHint),e.state&&r.addState(e.state),e.logoutHint&&r.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,r),r.createQueryString()}addExtraQueryParams(e,r){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&r.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var r;return((r=e.idTokenClaims)==null?void 0:r.sid)||null}extractLoginHint(e){var r;return((r=e.idTokenClaims)==null?void 0:r.login_hint)||null}}/*! @azure/msal-common v14.15.0 2024-09-20 */const m_=300;class $u extends Ff{constructor(e,r){super(e,r)}async acquireToken(e){var a,s;(a=this.performanceClient)==null||a.addQueueMeasurement(I.RefreshTokenClientAcquireToken,e.correlationId);const r=Lr(),n=await D(this.executeTokenRequest.bind(this),I.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(s=n.headers)==null?void 0:s[Nr.X_MS_REQUEST_ID],o=new ai(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),D(o.handleServerTokenResponse.bind(o),I.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var n;if(!e)throw Ce(am);if((n=this.performanceClient)==null||n.addQueueMeasurement(I.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw P(xf);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await D(this.acquireTokenWithCachedRefreshToken.bind(this),I.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof Er&&i.errorCode===ic,a=i instanceof Nn&&i.errorCode===F1.INVALID_GRANT_ERROR&&i.subError===F1.CLIENT_MISMATCH_ERROR;if(o||a)return D(this.acquireTokenWithCachedRefreshToken.bind(this),I.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return D(this.acquireTokenWithCachedRefreshToken.bind(this),I.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,r){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(I.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=gi(this.cacheManager.getRefreshToken.bind(this.cacheManager),I.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,r,void 0,this.performanceClient,e.correlationId);if(!n)throw Wu(ic);if(n.expiresOn&&Vu(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||m_))throw Wu(Uf);const i={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||ye.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Wt.HOME_ACCOUNT_ID}};try{return await D(this.acquireToken.bind(this),I.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(a){if(a instanceof Er&&a.subError===Bc){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const s=Mi(n);this.cacheManager.removeRefreshToken(s)}throw a}}async executeTokenRequest(e,r){var c,l;(c=this.performanceClient)==null||c.addQueueMeasurement(I.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),i=ie.appendQueryString(r.tokenEndpoint,n),o=await D(this.createTokenRequestBody.bind(this),I.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:((l=e.tokenBodyParameters)==null?void 0:l.clientId)||this.config.authOptions.clientId,authority:r.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return D(this.executePostToTokenEndpoint.bind(this),I.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,a,s,e.correlationId,I.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o,a;(i=this.performanceClient)==null||i.addQueueMeasurement(I.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const r=e.correlationId,n=new Xo;if(n.addClientId(((o=e.tokenBodyParameters)==null?void 0:o[ro])||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,(a=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:a.defaultScopes),n.addGrantType(bv.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!ju(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(r),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await xm(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(s.assertionType)}if(e.authenticationScheme===ye.POP){const s=new no(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await D(s.generateCnf.bind(s),I.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(c)}else if(e.authenticationScheme===ye.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw Ce(Dc);if((!yr.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Wt.HOME_ACCOUNT_ID:try{const s=Di(e.ccsCredential.credential);n.addCcsOid(s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Wt.UPN:n.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */class y_ extends Ff{constructor(e,r){super(e,r)}async acquireToken(e){var r;try{const[n,i]=await this.acquireCachedToken({...e,scopes:(r=e.scopes)!=null&&r.length?e.scopes:[...uo]});return i===sn.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new $u(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),n}catch(n){if(n instanceof Pc&&n.errorCode===Vr)return new $u(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw n}}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(I.SilentFlowClientAcquireCachedToken,e.correlationId);let r=sn.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!yr.isEmptyObj(e.claims))throw this.setCacheOutcome(sn.FORCE_REFRESH_OR_CLAIMS,e.correlationId),P(Vr);if(!e.account)throw P(xf);const n=e.account.tenantId||s_(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,n,this.performanceClient,e.correlationId);if(o){if(WE(o.cachedAt)||Vu(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(sn.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),P(Vr);o.refreshOn&&Vu(o.refreshOn,0)&&(r=sn.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(sn.NO_CACHED_ACCESS_TOKEN,e.correlationId),P(Vr);const a=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(r,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await D(this.generateResultFromCacheRecord.bind(this),I.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(s,e),r]}setCacheOutcome(e,r){var n,i;(n=this.serverTelemetryManager)==null||n.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},r),e!==sn.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,r){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(I.SilentFlowClientGenerateResultFromCacheRecord,r.correlationId);let n;if(e.idToken&&(n=pi(e.idToken.secret,this.config.cryptoInterface.base64Decode)),r.maxAge||r.maxAge===0){const o=n==null?void 0:n.auth_time;if(!o)throw P(_f);Jv(o,r.maxAge)}return ai.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,r,n)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const C_={sendGetRequestAsync:()=>Promise.reject(P(q)),sendPostRequestAsync:()=>Promise.reject(P(q))};/*! @azure/msal-common v14.15.0 2024-09-20 */const t0=",",Im="|";function w_(t){const{skus:e,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:o}=t,a=new Map([[0,[r,n]],[2,[i,o]]]);let s=[];if(e!=null&&e.length){if(s=e.split(t0),s.length<4)return e}else s=Array.from({length:4},()=>Im);return a.forEach((c,l)=>{var u,d;c.length===2&&((u=c[0])!=null&&u.length)&&((d=c[1])!=null&&d.length)&&E_({skuArr:s,index:l,skuName:c[0],skuVersion:c[1]})}),s.join(t0)}function E_(t){const{skuArr:e,index:r,skuName:n,skuVersion:i}=t;r>=e.length||(e[r]=[n,i].join(Im))}class pa{constructor(e,r){this.cacheOutcome=sn.NOT_APPLICABLE,this.cacheManager=r,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||R.EMPTY_STRING,this.wrapperVer=e.wrapperVer||R.EMPTY_STRING,this.telemetryCacheKey=ct.CACHE_KEY+wt.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${ct.VALUE_SEPARATOR}${this.cacheOutcome}`,r=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n!=null&&n.length&&r.push(`broker_error=${n}`);const i=r.join(ct.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),a=[e,o].join(ct.VALUE_SEPARATOR);return[ct.SCHEMA_VERSION,a,i].join(ct.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),r=pa.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*r).join(ct.VALUE_SEPARATOR),i=e.errors.slice(0,r).join(ct.VALUE_SEPARATOR),o=e.errors.length,a=r<o?ct.OVERFLOW_TRUE:ct.OVERFLOW_FALSE,s=[o,a].join(ct.VALUE_SEPARATOR);return[ct.SCHEMA_VERSION,e.cacheHits,n,i,s].join(ct.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const r=this.getLastRequests();r.errors.length>=ct.MAX_CACHED_ERRORS&&(r.failedRequests.shift(),r.failedRequests.shift(),r.errors.shift()),r.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Ne?e.subError?r.errors.push(e.subError):e.errorCode?r.errors.push(e.errorCode):r.errors.push(e.toString()):r.errors.push(e.toString()):r.errors.push(ct.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),r=pa.maxErrorsToSend(e),n=e.errors.length;if(r===n)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(r*2),errors:e.errors.slice(r),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let r,n=0,i=0;const o=e.errors.length;for(r=0;r<o;r++){const a=e.failedRequests[2*r]||R.EMPTY_STRING,s=e.failedRequests[2*r+1]||R.EMPTY_STRING,c=e.errors[r]||R.EMPTY_STRING;if(i+=a.toString().length+s.toString().length+c.length+3,i<ct.MAX_LAST_HEADER_BYTES)n+=1;else break}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||R.EMPTY_STRING),e.push(this.regionSource||R.EMPTY_STRING),e.push(this.regionOutcome||R.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const r=this.getLastRequests();r.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return w_(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const Tm="missing_kid_error",Rm="missing_alg_error";/*! @azure/msal-common v14.15.0 2024-09-20 */const A_={[Tm]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Rm]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class zf extends Ne{constructor(e,r){super(e,r),this.name="JoseHeaderError",Object.setPrototypeOf(this,zf.prototype)}}function r0(t){return new zf(t,A_[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */class Kf{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw r0(Tm);if(!e.alg)throw r0(Rm);const r=new Kf({typ:e.typ||NE.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(r)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class n0{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class __{generateId(){return"callback-id"}startMeasurement(e,r){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:a_.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:r||""},measurement:new n0}}startPerformanceMeasurement(){return new n0}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Gf="pkce_not_created",Om="crypto_nonexistent",Fc="empty_navigate_uri",Nm="hash_empty_error",Vf="no_state_in_hash",km="hash_does_not_contain_known_properties",Pm="unable_to_parse_state",bm="state_interaction_type_mismatch",Mm="interaction_in_progress",Dm="popup_window_error",Lm="empty_window_error",si="user_cancelled",x_="monitor_popup_timeout",Bm="monitor_window_timeout",Fm="redirect_in_iframe",Um="block_iframe_reload",Hm="block_nested_popups",S_="iframe_closed_prematurely",Uc="silent_logout_unsupported",zm="no_account_error",I_="silent_prompt_value_error",Km="no_token_request_cache_error",Gm="unable_to_parse_token_request_cache_error",jf="no_cached_authority_error",T_="auth_request_not_set_error",R_="invalid_cache_type",Wf="non_browser_environment",wi="database_not_open",oc="no_network_connectivity",Vm="post_request_failed",jm="get_request_failed",Xu="failed_to_parse_response",Wm="unable_to_load_token",$f="crypto_key_not_found",$m="auth_code_required",Xm="auth_code_or_nativeAccountId_required",Ym="spa_code_and_nativeAccountId_present",Xf="database_unavailable",qm="unable_to_acquire_token_from_native_platform",Qm="native_handshake_timeout",Zm="native_extension_not_installed",xa="native_connection_not_established",Jm="uninitialized_public_client_application",ey="native_prompt_not_supported",ty="invalid_base64_string",ry="invalid_pop_token_request";/*! @azure/msal-browser v3.26.1 2024-10-08 */const Fr="For more visit: aka.ms/msaljs/browser-errors",O_={[Gf]:"The PKCE code challenge and verifier could not be generated.",[Om]:"The crypto object or function is not available.",[Fc]:"Navigation URI is empty. Please check stack trace for more info.",[Nm]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Fr}`,[Vf]:"Hash does not contain state. Please verify that the request originated from msal.",[km]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Fr}`,[Pm]:"Unable to parse state. Please verify that the request originated from msal.",[bm]:"Hash contains state but the interaction type does not match the caller.",[Mm]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Fr}`,[Dm]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[Lm]:"window.open returned null or undefined window object.",[si]:"User cancelled the flow.",[x_]:`Token acquisition in popup failed due to timeout.  ${Fr}`,[Bm]:`Token acquisition in iframe failed due to timeout.  ${Fr}`,[Fm]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Um]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Fr}`,[Hm]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[S_]:"The iframe being monitored was closed prematurely.",[Uc]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[zm]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[I_]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[Km]:"No token request found in cache.",[Gm]:"The cached token request could not be parsed.",[jf]:"No cached authority found.",[T_]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[R_]:"Invalid cache type",[Wf]:"Login and token requests are not supported in non-browser environments.",[wi]:"Database is not open!",[oc]:"No network connectivity. Check your internet connection.",[Vm]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[jm]:"Network request failed. Please check the network trace to determine root cause.",[Xu]:"Failed to parse network response. Check network trace.",[Wm]:"Error loading token to cache.",[$f]:"Cryptographic Key or Keypair not found in browser storage.",[$m]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[Xm]:"An authorization code or nativeAccountId must be provided to this flow.",[Ym]:"Request cannot contain both spa code and native account id.",[Xf]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[qm]:`Unable to acquire token from native platform.  ${Fr}`,[Qm]:"Timed out while attempting to establish connection to browser extension",[Zm]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[xa]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Fr}`,[Jm]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Fr}`,[ey]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[ty]:"Invalid base64 encoded string.",[ry]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class Sa extends Ne{constructor(e){super(e,O_[e]),Object.setPrototypeOf(this,Sa.prototype),this.name="BrowserAuthError"}}function G(t){return new Sa(t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Vt={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Li={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},$n={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},We={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},i0={GET:"GET",POST:"POST"},pe={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},rn={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},es={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Se={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var V;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(V||(V={}));const Ve={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},o0={scopes:uo},ny="jwk",N_={React:"@azure/msal-react",Angular:"@azure/msal-angular"},Yu="msal.db",k_=1,P_=`${Yu}.keys`,Kt={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},b_=[Kt.Default,Kt.Skip,Kt.RefreshTokenAndNetwork],M_="msal.browser.log.level",D_="msal.browser.log.pii";/*! @azure/msal-browser v3.26.1 2024-10-08 */function ts(t){return encodeURIComponent(Yf(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Hc(t){return iy(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yf(t){return iy(new TextEncoder().encode(t))}function iy(t){const e=Array.from(t,r=>String.fromCodePoint(r)).join("");return btoa(e)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const L_="RSASSA-PKCS1-v1_5",oy="SHA-256",B_=2048,F_=new Uint8Array([1,0,1]),a0="0123456789abcdef",s0=new Uint32Array(1),qf={name:L_,hash:oy,modulusLength:B_,publicExponent:F_};function U_(t){if("crypto"in window)t.verbose("BrowserCrypto: modern crypto interface available");else throw t.error("BrowserCrypto: crypto interface is unavailable"),G(Om)}async function ay(t,e,r){e==null||e.addQueueMeasurement(I.Sha256Digest,r);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(oy,i)}function H_(t){return window.crypto.getRandomValues(t)}function Nl(){return window.crypto.getRandomValues(s0),s0[0]}function Jr(){const t=Date.now(),e=Nl()*1024+(Nl()&1023),r=new Uint8Array(16),n=Math.trunc(e/2**30),i=e&2**30-1,o=Nl();r[0]=t/2**40,r[1]=t/2**32,r[2]=t/2**24,r[3]=t/2**16,r[4]=t/2**8,r[5]=t,r[6]=112|n>>>8,r[7]=n,r[8]=128|i>>>24,r[9]=i>>>16,r[10]=i>>>8,r[11]=i,r[12]=o>>>24,r[13]=o>>>16,r[14]=o>>>8,r[15]=o;let a="";for(let s=0;s<r.length;s++)a+=a0.charAt(r[s]>>>4),a+=a0.charAt(r[s]&15),(s===3||s===5||s===7||s===9)&&(a+="-");return a}async function z_(t,e){return window.crypto.subtle.generateKey(qf,t,e)}async function kl(t){return window.crypto.subtle.exportKey(ny,t)}async function K_(t,e,r){return window.crypto.subtle.importKey(ny,t,qf,e,r)}async function G_(t,e){return window.crypto.subtle.sign(qf,t,e)}async function sy(t){const e=await ay(t),r=new Uint8Array(e);return Hc(r)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const ac="storage_not_supported",Be="stubbed_public_client_application_called",sc="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.26.1 2024-10-08 */const ws={[ac]:"Given storage configuration option was not supported.",[Be]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[sc]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};ws[ac],ws[Be],ws[sc];class Qf extends Ne{constructor(e,r){super(e,r),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Qf.prototype)}}function ze(t){return new Qf(t,ws[t])}/*! @azure/msal-browser v3.26.1 2024-10-08 */function V_(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function j_(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Zf(){return window.parent!==window}function W_(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Vt.POPUP_NAME_PREFIX}.`)===0}function jr(){return window.location.href.split("?")[0].split("#")[0]}function $_(){const e=new ie(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function X_(){if(ie.hashContainsKnownProperties(window.location.hash)&&Zf())throw G(Um)}function Y_(t){if(Zf()&&!t)throw G(Fm)}function q_(){if(W_())throw G(Hm)}function cy(){if(typeof window>"u")throw G(Wf)}function ly(t){if(!t)throw G(Jm)}function Jf(t){cy(),X_(),q_(),ly(t)}function c0(t,e){if(Jf(t),Y_(e.system.allowRedirectInIframe),e.cache.cacheLocation===We.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw ze(sc)}function uy(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function Q_(){return Jr()}/*! @azure/msal-browser v3.26.1 2024-10-08 */class cc{navigateInternal(e,r){return cc.defaultNavigateWindow(e,r)}navigateExternal(e,r){return cc.defaultNavigateWindow(e,r)}static defaultNavigateWindow(e,r){return r.noHistory?window.location.replace(e):window.location.assign(e),new Promise(n=>{setTimeout(()=>{n(!0)},r.timeout)})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Z_{async sendGetRequestAsync(e,r){let n;try{n=await fetch(e,{method:i0.GET,headers:this.getFetchHeaders(r)})}catch{throw window.navigator.onLine?G(jm):G(oc)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch{throw G(Xu)}}async sendPostRequestAsync(e,r){const n=r&&r.body||R.EMPTY_STRING;let i;try{i=await fetch(e,{method:i0.POST,headers:this.getFetchHeaders(r),body:n})}catch{throw window.navigator.onLine?G(Vm):G(oc)}try{return{headers:this.getHeaderDict(i.headers),body:await i.json(),status:i.status}}catch{throw G(Xu)}}getFetchHeaders(e){const r=new Headers;if(!(e&&e.headers))return r;const n=e.headers;return Object.keys(n).forEach(i=>{r.append(i,n[i])}),r}getHeaderDict(e){const r={};return e.forEach((n,i)=>{r[i]=n}),r}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const J_=6e4,qu=1e4,ex=3e4,tx=2e3;function rx({auth:t,cache:e,system:r,telemetry:n},i){const o={clientId:R.EMPTY_STRING,authority:`${R.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:R.EMPTY_STRING,authorityMetadata:R.EMPTY_STRING,redirectUri:R.EMPTY_STRING,postLogoutRedirectUri:R.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:$r.AAD,OIDCOptions:{serverResponseType:_a.FRAGMENT,defaultScopes:[R.OPENID_SCOPE,R.PROFILE_SCOPE,R.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Rf.None,tenant:R.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},a={cacheLocation:We.SessionStorage,temporaryCacheLocation:We.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===We.LocalStorage),claimsBasedCachingEnabled:!1},s={loggerCallback:()=>{},logLevel:me.Info,piiLoggingEnabled:!1},l={...{...wm,loggerOptions:s,networkClient:i?new Z_:C_,navigationClient:new cc,loadFrameTimeout:0,windowHashTimeout:(r==null?void 0:r.loadFrameTimeout)||J_,iframeHashTimeout:(r==null?void 0:r.loadFrameTimeout)||qu,navigateFrameWait:0,redirectNavigationTimeout:ex,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(r==null?void 0:r.nativeBrokerHandshakeTimeout)||tx,pollIntervalMilliseconds:Vt.DEFAULT_POLL_INTERVAL_MS},...r,loggerOptions:(r==null?void 0:r.loggerOptions)||s},u={application:{appName:R.EMPTY_STRING,appVersion:R.EMPTY_STRING},client:new __};if((t==null?void 0:t.protocolMode)!==$r.OIDC&&(t!=null&&t.OIDCOptions)&&new Zr(l.loggerOptions).warning(JSON.stringify(Ce(fm))),t!=null&&t.protocolMode&&t.protocolMode!==$r.AAD&&(l!=null&&l.allowNativeBroker))throw Ce(hm);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...a,...e},system:l,telemetry:{...u,...n}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const nx="@azure/msal-browser",zc="3.26.1";/*! @azure/msal-browser v3.26.1 2024-10-08 */class eh{static loggerCallback(e,r){switch(e){case me.Error:console.error(r);return;case me.Info:console.info(r);return;case me.Verbose:console.debug(r);return;case me.Warning:console.warn(r);return;default:console.log(r);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=rx(e,this.browserEnvironment);let r;try{r=window[We.SessionStorage]}catch{}const n=r==null?void 0:r.getItem(M_),i=(c=r==null?void 0:r.getItem(D_))==null?void 0:c.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,a={...this.config.system.loggerOptions},s=n&&Object.keys(me).includes(n)?me[n]:void 0;s&&(a.loggerCallback=eh.loggerCallback,a.logLevel=s),o!==void 0&&(a.piiLoggingEnabled=o),this.logger=new Zr(a,nx,zc),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class ci extends eh{getModuleName(){return ci.MODULE_NAME}getId(){return ci.ID}async initialize(){return this.available=typeof window<"u",this.available}}ci.MODULE_NAME="";ci.ID="StandardOperatingContext";/*! @azure/msal-browser v3.26.1 2024-10-08 */function Dr(t){return new TextDecoder().decode(ix(t))}function ix(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw G(ty)}const r=atob(e);return Uint8Array.from(r,n=>n.codePointAt(0)||0)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class ox{constructor(){this.dbName=Yu,this.version=k_,this.tableName=P_,this.dbOpen=!1}async open(){return new Promise((e,r)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),n.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),n.addEventListener("error",()=>r(G(Xf)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(wi));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);a.addEventListener("success",s=>{const c=s;this.closeConnection(),r(c.target.result)}),a.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async setItem(e,r){return await this.validateDbIsOpen(),new Promise((n,i)=>{if(!this.db)return i(G(wi));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(r,e);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",c=>{this.closeConnection(),i(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(wi));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,r)=>{if(!this.db)return r(G(wi));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",a=>{const s=a;this.closeConnection(),e(s.target.result)}),o.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((r,n)=>{if(!this.db)return n(G(wi));const a=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);a.addEventListener("success",s=>{const c=s;this.closeConnection(),r(c.target.result===1)}),a.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,r)=>{const n=window.indexedDB.deleteDatabase(Yu),i=setTimeout(()=>r(!1),200);n.addEventListener("success",()=>(clearTimeout(i),e(!0))),n.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),n.addEventListener("error",()=>(clearTimeout(i),r(!1)))})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Qu{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,r){this.cache.set(e,r)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((r,n)=>{e.push(n)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class ax{constructor(e){this.inMemoryCache=new Qu,this.indexedDBCache=new ox,this.logger=e}handleDatabaseAccessError(e){if(e instanceof Sa&&e.errorCode===Xf)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const r=this.inMemoryCache.getItem(e);if(!r)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return r}async setItem(e,r){this.inMemoryCache.setItem(e,r);try{await this.indexedDBCache.setItem(e,r)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(r){this.handleDatabaseAccessError(r)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(r){this.handleDatabaseAccessError(r)}return e}async containsKey(e){const r=this.inMemoryCache.containsKey(e);if(!r)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return r}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class io{constructor(e,r){this.logger=e,U_(e),this.cache=new ax(this.logger),this.performanceClient=r}createNewGuid(){return Jr()}base64Encode(e){return Yf(e)}base64Decode(e){return Dr(e)}base64UrlEncode(e){return ts(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var u;const r=(u=this.performanceClient)==null?void 0:u.startMeasurement(I.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await z_(io.EXTRACTABLE,io.POP_KEY_USAGES),i=await kl(n.publicKey),o={e:i.e,kty:i.kty,n:i.n},a=l0(o),s=await this.hashString(a),c=await kl(n.privateKey),l=await K_(c,!1,["sign"]);return await this.cache.setItem(s,{privateKey:l,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),r&&r.end({success:!0}),s}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,r,n,i){var C;const o=(C=this.performanceClient)==null?void 0:C.startMeasurement(I.CryptoOptsSignJwt,i),a=await this.cache.getItem(r);if(!a)throw G($f);const s=await kl(a.publicKey),c=l0(s),l=ts(JSON.stringify({kid:r})),u=Kf.getShrHeaderString({...n==null?void 0:n.header,alg:s.alg,kid:l}),d=ts(u);e.cnf={jwk:JSON.parse(c)};const f=ts(JSON.stringify(e)),h=`${d}.${f}`,g=new TextEncoder().encode(h),y=await G_(a.privateKey,g),m=Hc(new Uint8Array(y)),v=`${h}.${m}`;return o&&o.end({success:!0}),v}async hashString(e){return sy(e)}}io.POP_KEY_USAGES=["sign","verify"];io.EXTRACTABLE=!0;function l0(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v3.26.1 2024-10-08 */class u0{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==We.LocalStorage&&e!==We.SessionStorage||!window[e])throw ze(ac)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,r){this.windowStorage.setItem(e,r)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function dy(t,e){if(!e)return null;try{return Cr.parseRequestState(t,e).libraryState.meta}catch{throw P(eo)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Zu extends to{constructor(e,r,n,i,o,a){super(e,n,i,o),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=r,this.logger=i,this.internalStorage=new Qu,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),r.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=a}setupBrowserStorage(e){switch(e){case We.LocalStorage:case We.SessionStorage:try{return new u0(e)}catch(r){this.logger.verbose(r);break}}return this.cacheConfig.cacheLocation=We.MemoryStorage,new Qu}setupTemporaryCacheStorage(e,r){switch(r){case We.LocalStorage:case We.SessionStorage:try{return new u0(e||We.SessionStorage)}catch(n){return this.logger.verbose(n),this.internalStorage}case We.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${R.CACHE_PREFIX}.${et.ID_TOKEN}`,r=`${R.CACHE_PREFIX}.${et.CLIENT_INFO}`,n=`${R.CACHE_PREFIX}.${et.ERROR}`,i=`${R.CACHE_PREFIX}.${et.ERROR_DESC}`,o=this.browserStorage.getItem(e),a=this.browserStorage.getItem(r),s=this.browserStorage.getItem(n),c=this.browserStorage.getItem(i),l=[o,a,s,c];[et.ID_TOKEN,et.CLIENT_INFO,et.ERROR,et.ERROR_DESC].forEach((d,f)=>{const h=l[f];h&&this.setTemporaryCache(d,h,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(rn.ACCOUNT_KEYS),r=this.getItem(`${rn.TOKEN_KEYS}.${this.clientId}`);if(e&&r){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const o=this.getItem(i);if(o){const a=this.validateAndParseJson(o);if(a&&a.hasOwnProperty("credentialType"))switch(a.credentialType){case $.ID_TOKEN:if(G1(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const s=a,c=this.updateCredentialCacheKey(i,s);this.addTokenKey(c,$.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case $.ACCESS_TOKEN:case $.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(K1(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const s=a,c=this.updateCredentialCacheKey(i,s);this.addTokenKey(c,$.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case $.REFRESH_TOKEN:if(V1(a)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const s=a,c=this.updateCredentialCacheKey(i,s);this.addTokenKey(c,$.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const o=this.getItem(i);if(o){const a=this.validateAndParseJson(o);a&&Ze.isAccountEntity(a)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{const r=JSON.parse(e);return r&&typeof r=="object"?r:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,r){this.browserStorage.setItem(e,r)}getAccount(e,r){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,r)}getCachedAccountEntity(e){const r=this.getItem(e);if(!r)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(r);return!n||!Ze.isAccountEntity(n)?(this.removeAccountKeyFromMap(e),null):to.toObject(new Ze,n)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const r=e.generateAccountKey();this.setItem(r,JSON.stringify(e)),this.addAccountKeyToMap(r)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(rn.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();r.indexOf(e)===-1?(r.push(e),this.setItem(rn.ACCOUNT_KEYS,JSON.stringify(r)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),n=r.indexOf(e);n>-1?(r.splice(n,1),this.setItem(rn.ACCOUNT_KEYS,JSON.stringify(r)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,$.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,$.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,$.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${rn.TOKEN_KEYS}.${this.clientId}`);if(e){const r=this.validateAndParseJson(e);if(r&&r.hasOwnProperty("idToken")&&r.hasOwnProperty("accessToken")&&r.hasOwnProperty("refreshToken"))return r;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,r){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(r){case $.ID_TOKEN:n.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case $.ACCESS_TOKEN:n.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case $.REFRESH_TOKEN:n.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${r}`),P(Gu)}this.setItem(`${rn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,r){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(r){case $.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=n.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case $.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case $.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=n.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${r}`),P(Gu)}this.setItem(`${rn.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ID_TOKEN),null;const n=this.validateAndParseJson(r);return!n||!G1(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=Mi(e);this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.ID_TOKEN)}getAccessTokenCredential(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ACCESS_TOKEN),null;const n=this.validateAndParseJson(r);return!n||!K1(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=Mi(e);this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.ACCESS_TOKEN)}getRefreshTokenCredential(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.REFRESH_TOKEN),null;const n=this.validateAndParseJson(r);return!n||!V1(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,$.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=Mi(e);this.setItem(r,JSON.stringify(e)),this.addTokenKey(r,$.REFRESH_TOKEN)}getAppMetadata(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!tA(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=eA(e);this.setItem(r,JSON.stringify(e))}getServerTelemetry(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!ZE(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n)}setServerTelemetry(e,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(r))}getAuthorityMetadata(e){const r=this.internalStorage.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(r);return n&&rA(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(r=>this.isAuthorityMetadata(r))}setWrapperMetadata(e,r){this.internalStorage.setItem(es.WRAPPER_SKU,e),this.internalStorage.setItem(es.WRAPPER_VER,r)}getWrapperMetadata(){const e=this.internalStorage.getItem(es.WRAPPER_SKU)||R.EMPTY_STRING,r=this.internalStorage.getItem(es.WRAPPER_VER)||R.EMPTY_STRING;return[e,r]}setAuthorityMetadata(e,r){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(r))}getActiveAccount(){const e=this.generateCacheKey(et.ACTIVE_ACCOUNT_FILTERS),r=this.getItem(e);if(!r){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(et.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const a=this.getAccountInfoFilteredBy({localAccountId:o});return a?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(a),a):null}const n=this.validateAndParseJson(r);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const r=this.generateCacheKey(et.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(et.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(r,JSON.stringify(i)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r),this.browserStorage.removeItem(n)}getThrottlingCache(e){const r=this.getItem(e);if(!r)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(r);return!n||!JE(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n)}setThrottlingCache(e,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(r))}getTemporaryCache(e,r){const n=r?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.getItemCookie(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(n);if(!i){if(this.cacheConfig.cacheLocation===We.LocalStorage){const o=this.browserStorage.getItem(n);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,r,n){const i=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,r),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,r))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(R.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(R.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,r){e.addQueueMeasurement(I.ClearTokensAndKeysWithClaims,r);const n=this.getTokenKeys(),i=[];n.accessToken.forEach(o=>{const a=this.getAccessTokenCredential(o);a!=null&&a.requestedClaimsHash&&o.includes(a.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,r,n){let i=`${encodeURIComponent(e)}=${encodeURIComponent(r)};path=/;SameSite=Lax;`;if(n){const o=this.getCookieExpirationTime(n);i+=`expires=${o};`}this.cacheConfig.secureCookies&&(i+="Secure;"),document.cookie=i}getItemCookie(e){const r=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let o=n[i];for(;o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(r)===0)return decodeURIComponent(o.substring(r.length,o.length))}return R.EMPTY_STRING}clearMsalCookies(){const e=`${R.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(n=>{for(;n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(e)===0){const i=n.split("=")[0];this.clearItemCookie(i)}})}clearItemCookie(e){this.setItemCookie(e,R.EMPTY_STRING,-1)}getCookieExpirationTime(e){const r=new Date;return new Date(r.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):yr.startsWith(e,R.CACHE_PREFIX)||yr.startsWith(e,et.ADAL_ID_TOKEN)?e:`${R.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:r}}=Cr.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.AUTHORITY}.${r}`)}generateNonceKey(e){const{libraryState:{id:r}}=Cr.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.NONCE_IDTOKEN}.${r}`)}generateStateKey(e){const{libraryState:{id:r}}=Cr.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${pe.REQUEST_STATE}.${r}`)}getCachedAuthority(e){const r=this.generateStateKey(e),n=this.getTemporaryCache(r);if(!n)return null;const i=this.generateAuthorityKey(n);return this.getTemporaryCache(i)}updateCacheEntries(e,r,n,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const s=this.generateNonceKey(e);this.setTemporaryCache(s,r,!1);const c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,n,!1),o){const l={credential:o.homeAccountId,type:Wt.HOME_ACCOUNT_ID};this.setTemporaryCache(pe.CCS_CREDENTIAL,JSON.stringify(l),!0)}else if(i){const l={credential:i,type:Wt.UPN};this.setTemporaryCache(pe.CCS_CREDENTIAL,JSON.stringify(l),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(r=>{r.indexOf(e)!==-1&&this.removeTemporaryItem(r)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(pe.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(pe.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(pe.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(pe.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(pe.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(pe.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const r=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(r);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||R.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(r=>{if(r.indexOf(pe.REQUEST_STATE)===-1)return;const n=this.temporaryCacheStorage.getItem(r);if(!n)return;const i=dy(this.cryptoImpl,n);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const r=Yf(JSON.stringify(e));this.setTemporaryCache(pe.REQUEST_PARAMS,r,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const r=this.getTemporaryCache(pe.REQUEST_PARAMS,!0);if(!r)throw G(Km);let n;try{n=JSON.parse(Dr(r))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${r}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),G(Gm)}if(this.removeTemporaryItem(this.generateCacheKey(pe.REQUEST_PARAMS)),!n.authority){const i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw G(jf);n.authority=o}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(pe.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const r=this.validateAndParseJson(e);return r||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const r=this.getInteractionInProgress();return e?r===this.clientId:!!r}getInteractionInProgress(){const e=`${R.CACHE_PREFIX}.${pe.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const r=`${R.CACHE_PREFIX}.${pe.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw G(Mm);this.setTemporaryCache(r,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(r)}getLegacyLoginHint(){const e=this.getTemporaryCache(et.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(et.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const r=this.getTemporaryCache(et.ID_TOKEN,!0);r&&(this.browserStorage.removeItem(this.generateCacheKey(et.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=r||e;if(n){const i=pi(n,Dr);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,r){const n=Mi(r);if(e!==n){const i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(n,i),this.logger.verbose(`Updated an outdated ${r.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${r.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,r){var s,c,l;const n=bc((s=e.account)==null?void 0:s.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let i;r.claims&&(i=await this.cryptoImpl.hashString(r.claims));const o=Mc((l=e.account)==null?void 0:l.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,Dr,void 0,e.tokenType,void 0,r.sshKid,r.claims,i),a={idToken:n,accessToken:o};return this.saveCacheRecord(a)}async saveCacheRecord(e,r,n){try{await super.saveCacheRecord(e,r,n)}catch(i){if(i instanceof ji&&this.performanceClient&&n)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},n)}catch{}throw i}}}const sx=(t,e)=>{const r={cacheLocation:We.MemoryStorage,temporaryCacheLocation:We.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new Zu(t,r,Js,e)};/*! @azure/msal-browser v3.26.1 2024-10-08 */function cx(t,e,r,n){return t.verbose("getAllAccounts called"),r?e.getAllAccounts(n):[]}function lx(t,e,r){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const n=r.getAccountInfoFilteredBy(t);return n?(e.verbose("getAccount: Account matching provided filter found, returning"),n):(e.verbose("getAccount: No matching account found, returning null"),null)}function ux(t,e,r){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const n=r.getAccountInfoFilteredBy({username:t});return n?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),n):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function dx(t,e,r){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const n=r.getAccountInfoFilteredBy({homeAccountId:t});return n?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),n):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function fx(t,e,r){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const n=r.getAccountInfoFilteredBy({localAccountId:t});return n?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),n):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function hx(t,e){e.setActiveAccount(t)}function px(t){return t.getActiveAccount()}/*! @azure/msal-browser v3.26.1 2024-10-08 */const z={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.26.1 2024-10-08 */class gx{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Zr({})}addEventCallback(e,r,n){if(typeof window<"u"){const i=n||Q_();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,r||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,r,n,i){if(typeof window<"u"){const o={eventType:e,interactionType:r||null,payload:n||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([a,s],c)=>{(s.length===0||s.includes(e))&&(this.logger.verbose(`Emitting event to callback ${c}: ${e}`),a.apply(null,[o]))})}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class fy{constructor(e,r,n,i,o,a,s,c,l){this.config=e,this.browserStorage=r,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=c,this.correlationId=l||Jr(),this.logger=i.clone(Vt.MSAL_SKU,zc,this.correlationId),this.performanceClient=s}async clearCacheOnLogout(e){if(e){Ze.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Ze.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const r=e||this.config.auth.redirectUri||jr();return ie.getAbsoluteUrl(r,jr())}initializeServerTelemetryManager(e,r){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:r||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new pa(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:r}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(I.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,a=n!=null&&n.length?n==="true":this.config.auth.instanceAware,s=r&&a?this.config.auth.authority.replace(ie.getDomainFromUrl(o),r.environment):o,c=yt.generateAuthority(s,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await D(Am,I.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(r&&!l.isAlias(r.environment))throw Ce(pm);return l}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const vx=32;async function mx(t,e,r){t.addQueueMeasurement(I.GeneratePkceCodes,r);const n=gi(yx,I.GenerateCodeVerifier,e,t,r)(t,e,r),i=await D(Cx,I.GenerateCodeChallengeFromVerifier,e,t,r)(n,t,e,r);return{verifier:n,challenge:i}}function yx(t,e,r){try{const n=new Uint8Array(vx);return gi(H_,I.GetRandomValues,e,t,r)(n),Hc(n)}catch{throw G(Gf)}}async function Cx(t,e,r,n){e.addQueueMeasurement(I.GenerateCodeChallengeFromVerifier,n);try{const i=await D(ay,I.Sha256Digest,r,e,n)(t,e,n);return Hc(new Uint8Array(i))}catch{throw G(Gf)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function th(t,e,r,n){r.addQueueMeasurement(I.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],a={...t,correlationId:t.correlationId,authority:i,scopes:o};if(!a.authenticationScheme)a.authenticationScheme=ye.BEARER,n.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(a.authenticationScheme===ye.SSH){if(!t.sshJwk)throw Ce(Dc);if(!t.sshKid)throw Ce(dm)}n.verbose(`Authentication Scheme set to "${a.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!yr.isEmptyObj(t.claims)&&(a.requestedClaimsHash=await sy(t.claims)),a}async function wx(t,e,r,n,i){n.addQueueMeasurement(I.InitializeSilentRequest,t.correlationId);const o=await D(th,I.InitializeBaseRequest,i,n,t.correlationId)(t,r,n,i);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class fo extends fy{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(I.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const r=await D(mx,I.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:R.EMPTY_STRING,codeVerifier:r.verifier};return e.codeChallenge=r.challenge,e.codeChallengeMethod=R.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const r={correlationId:this.correlationId||Jr(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),r.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",r.correlationId),r.postLogoutRedirectUri=ie.getAbsoluteUrl(e.postLogoutRedirectUri,jr())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",r.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",r.correlationId),r.postLogoutRedirectUri=ie.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,jr())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",r.correlationId),r.postLogoutRedirectUri=ie.getAbsoluteUrl(jr(),jr())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",r.correlationId),r}getLogoutHintFromIdTokenClaims(e){const r=e.idTokenClaims;if(r){if(r.login_hint)return r.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(I.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const r=await D(this.getClientConfiguration.bind(this),I.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Sm(r,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:r,requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:a}=e;this.performanceClient.addQueueMeasurement(I.StandardInteractionClientGetClientConfiguration,this.correlationId);const s=await D(this.getDiscoveredAuthority.bind(this),I.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:a}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:r,libraryInfo:{sku:Vt.MSAL_SKU,version:zc,cpu:R.EMPTY_STRING,os:R.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,r){this.performanceClient.addQueueMeasurement(I.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),i={interactionType:r},o=Cr.setRequestState(this.browserCrypto,e&&e.state||R.EMPTY_STRING,i),s={...await D(th,I.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||Jr(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c=e.account||this.browserStorage.getActiveAccount();if(c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),s.account=c),!s.loginHint&&!c){const l=this.browserStorage.getLegacyLoginHint();l&&(s.loginHint=l)}return s}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Ex="ContentError",hy="user_switch";/*! @azure/msal-browser v3.26.1 2024-10-08 */const Ax="USER_INTERACTION_REQUIRED",_x="USER_CANCEL",xx="NO_NETWORK",Sx="PERSISTENT_ERROR",Ix="DISABLED",Tx="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.26.1 2024-10-08 */const Rx=-2147186943,Ox={[hy]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Or extends Ne{constructor(e,r,n){super(e,r),Object.setPrototypeOf(this,Or.prototype),this.name="NativeAuthError",this.ext=n}}function Ei(t){if(t.ext&&t.ext.status&&(t.ext.status===Sx||t.ext.status===Ix)||t.ext&&t.ext.error&&t.ext.error===Rx)return!0;switch(t.errorCode){case Ex:return!0;default:return!1}}function Ju(t,e,r){if(r&&r.status)switch(r.status){case Tx:return Wu(_m);case Ax:return new Er(t,e);case _x:return G(si);case xx:return G(oc)}return new Or(t,Ox[t]||e,r)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class py extends fo{async acquireToken(e){this.performanceClient.addQueueMeasurement(I.SilentCacheClientAcquireToken,e.correlationId);const r=this.initializeServerTelemetryManager(Se.acquireTokenSilent_silentFlow),n=await D(this.getClientConfiguration.bind(this),I.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new y_(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const a=(await D(i.acquireCachedToken.bind(i),I.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),a}catch(o){throw o instanceof Sa&&o.errorCode===$f&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const r=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(r==null?void 0:r.account)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Pl={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"};class Wi extends fy{constructor(e,r,n,i,o,a,s,c,l,u,d,f){var p;super(e,r,n,i,o,a,c,l,f),this.apiId=s,this.accountId=u,this.nativeMessageHandler=l,this.nativeStorageManager=d,this.silentCacheClient=new py(e,this.nativeStorageManager,n,i,o,a,c,l,f),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const h=this.nativeMessageHandler.getExtensionId()===Li.PREFERRED_EXTENSION_ID?"chrome":(p=this.nativeMessageHandler.getExtensionId())!=null&&p.length?"unknown":void 0;this.skus=pa.makeExtraSkuString({libraryName:Vt.MSAL_SKU,libraryVersion:zc,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[r_]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(I.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(I.NativeInteractionClientAcquireToken,e.correlationId),n=Lr();try{const i=await this.initializeNativeRequest(e);try{const l=await this.acquireTokensFromCache(this.accountId,i);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=i,a={method:$n.GetToken,request:o},s=await this.nativeMessageHandler.sendMessage(a),c=this.validateNativeResponse(s);return await this.handleNativeResponse(c,i,n).then(l=>(r.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),l)).catch(l=>{throw r.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(i){throw i instanceof Or&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,r){return{authority:e.authority,correlationId:this.correlationId,scopes:Le.fromString(e.scope).asArray(),account:r,forceRefresh:!1}}async acquireTokensFromCache(e,r){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),P(zu);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw P(zu);try{const i=this.createSilentCacheRequest(r,n),o=await this.silentCacheClient.acquireToken(i),a={...n,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:a}}catch(i){throw i}}async acquireTokenRedirect(e,r){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const i=await this.initializeNativeRequest(n),o={method:$n.GetToken,request:i};try{const c=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(c)}catch(c){if(c instanceof Or&&(this.serverTelemetryManager.setNativeBrokerErrorCode(c.errorCode),Ei(c)))throw c}this.browserStorage.setTemporaryCache(pe.NATIVE_REQUEST,JSON.stringify(i),!0);const a={apiId:Se.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);r.end({success:!0}),await this.navigationClient.navigateExternal(s,a)}async handleRedirectPromise(e,r){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&r&&(e==null||e.addFields({errorCode:"no_cached_request"},r)),null;const{prompt:i,...o}=n;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pe.NATIVE_REQUEST));const a={method:$n.GetToken,request:o},s=Lr();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const c=await this.nativeMessageHandler.sendMessage(a);this.validateNativeResponse(c);const l=this.handleNativeResponse(c,o,s);this.browserStorage.setInteractionInProgress(!1);const u=await l;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),u}catch(c){throw this.browserStorage.setInteractionInProgress(!1),c}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,r,n){var u;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=pi(e.id_token,Dr),o=this.createHomeAccountIdentifier(e,i),a=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:r.accountId}))==null?void 0:u.homeAccountId;if(o!==a&&e.account.id!==r.accountId)throw Ju(hy);const s=await this.getDiscoveredAuthority({requestAuthority:r.authority}),c=Hf(this.browserStorage,s,o,Dr,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,r,i,c,s.canonicalAuthority,n);return this.cacheAccount(c),this.cacheNativeTokens(e,r,o,i,e.access_token,l.tenantId,n),l}createHomeAccountIdentifier(e,r){return Ze.generateHomeAccountId(e.client_info||R.EMPTY_STRING,fr.Default,this.logger,this.browserCrypto,r)}generateScopes(e,r){return e.scope?Le.fromString(e.scope):Le.fromString(r.scope)}async generatePopAccessToken(e,r){if(r.tokenType===ye.POP&&r.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new no(this.browserCrypto),i={resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,shrNonce:r.shrNonce};if(!r.keyId)throw P(If);return n.signPopToken(e.access_token,r.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,r,n,i,o,a){const s=this.addTelemetryFromNativeResponse(e),c=e.scope?Le.fromString(e.scope):Le.fromString(r.scope),l=e.account.properties||{},u=l.UID||n.oid||n.sub||R.EMPTY_STRING,d=l.TenantId||n.tid||R.EMPTY_STRING,f=Df(i.getAccountInfo(),void 0,n,e.id_token);f.nativeAccountId!==e.account.id&&(f.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,r),p=r.tokenType===ye.POP?ye.POP:ye.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:c.asArray(),account:f,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:s?this.isResponseFromCache(s):!1,expiresOn:new Date(Number(a+e.expires_in)*1e3),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(r=>{this.logger.error(`Error occurred while removing account context from browser storage. ${r}`)})}cacheNativeTokens(e,r,n,i,o,a,s){const c=bc(n,r.authority,e.id_token||"",r.clientId,i.tid||""),l=r.tokenType===ye.POP?R.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=s+l,d=this.generateScopes(e,r),f=Mc(n,r.authority,o,r.clientId,i.tid||a,d.printScopes(),u,0,Dr,void 0,r.tokenType,void 0,r.keyId),h={idToken:c,accessToken:f};this.nativeStorageManager.saveCacheRecord(h,r.storeInCache)}addTelemetryFromNativeResponse(e){const r=this.getMATSFromResponse(e);return r?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:r.broker_version,matsAccountJoinOnStart:r.account_join_on_start,matsAccountJoinOnEnd:r.account_join_on_end,matsDeviceJoin:r.device_join,matsPromptBehavior:r.prompt_behavior,matsApiErrorCode:r.api_error_code,matsUiVisible:r.ui_visible,matsSilentCode:r.silent_code,matsSilentBiSubCode:r.silent_bi_sub_code,matsSilentMessage:r.silent_message,matsSilentStatus:r.silent_status,matsHttpStatus:r.http_status,matsHttpEventCount:r.http_event_count},this.correlationId),r):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Mv(wf,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const r=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:r,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new ie(r);n.validateAsUri();const{scopes:i,...o}=e,a=new Le(i||[]);a.appendScopes(uo);const s=()=>{switch(this.apiId){case Se.ssoSilent:case Se.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),it.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case it.NONE:case it.CONSENT:case it.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),G(ey)}},c={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:s(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(c.signPopToken&&e.popKid)throw G(ry);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=Li.MATS_TELEMETRY,e.authenticationScheme===ye.POP){const l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},u=new no(this.browserCrypto);let d;if(c.keyId)d=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{const f=await D(u.generateCnf.bind(u),I.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(l,this.logger);d=f.reqCnfString,c.keyId=f.kid,c.signPopToken=!0}c.reqCnf=d}return this.addRequestSKUs(c),c}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(Pl.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(Pl.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(ro)){const r=e.extraParameters[ro],n=e.redirectUri,i=e.extraParameters[Pl.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:r,child_redirect_uri:n},e.redirectUri=i}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class kr{constructor(e,r,n,i){this.logger=e,this.handshakeTimeoutMs=r,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(I.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const r={channel:Li.CHANNEL_ID,extensionId:this.extensionId,responseId:Jr(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r),new Promise((n,i)=>{this.resolvers.set(r.responseId,{resolve:n,reject:i})})}static async createProvider(e,r,n){e.trace("NativeMessageHandler - createProvider called.");try{const i=new kr(e,r,n,Li.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new kr(e,r,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Li.CHANNEL_ID,extensionId:this.extensionId,responseId:Jr(),body:{method:$n.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=r=>{this.onChannelMessage(r)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((r,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:r,reject:n}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(G(Qm)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const r=e.data;if(!(!r.channel||r.channel!==Li.CHANNEL_ID)&&!(r.extensionId&&r.extensionId!==this.extensionId)&&r.body.method===$n.HandshakeRequest){const n=this.handshakeResolvers.get(r.responseId);if(!n){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${r.responseId}`);return}this.logger.verbose(r.extensionId?`Extension with id: ${r.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),n.reject(G(Zm))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const r=e.data,n=this.resolvers.get(r.responseId),i=this.handshakeResolvers.get(r.responseId);try{const o=r.body.method;if(o===$n.Response){if(!n)return;const a=r.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(a)}`),a.status!=="Success")n.reject(Ju(a.code,a.description,a.ext));else if(a.result)a.result.code&&a.result.description?n.reject(Ju(a.result.code,a.result.description,a.result.ext)):n.resolve(a.result);else throw Mv(wf,"Event does not contain result.");this.resolvers.delete(r.responseId)}else if(o===$n.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${r.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=r.extensionId,this.extensionVersion=r.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(r.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,r,n,i){if(r.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return r.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return r.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case ye.BEARER:case ye.POP:return r.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return r.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class rh{constructor(e,r,n,i,o){this.authModule=e,this.browserStorage=r,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,r){this.performanceClient.addQueueMeasurement(I.HandleCodeResponse,r.correlationId);let n;try{n=this.authModule.handleFragmentResponse(e,r.state)}catch(i){throw i instanceof Nn&&i.subError===si?G(si):i}return D(this.handleCodeResponseFromServer.bind(this),I.HandleCodeResponseFromServer,this.logger,this.performanceClient,r.correlationId)(n,r)}async handleCodeResponseFromServer(e,r,n=!0){if(this.performanceClient.addQueueMeasurement(I.HandleCodeResponseFromServer,r.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await D(this.authModule.updateAuthority.bind(this.authModule),I.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,r.correlationId)(e.cloud_instance_host_name,r.correlationId),n&&(e.nonce=r.nonce||void 0),e.state=r.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(r);o&&(this.authCodeRequest.ccsCredential=o)}return await D(this.authModule.acquireToken.bind(this.authModule),I.AuthClientAcquireToken,this.logger,this.performanceClient,r.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Wt.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Wt.UPN}:null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function gy(t,e,r){const n=rc(t);if(!n)throw vm(t)?(r.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),r.errorPii(`The ${e} detected is: ${t}`),G(km)):(r.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),G(Nm));return n}function Nx(t,e,r){if(!t.state)throw G(Vf);const n=dy(e,t.state);if(!n)throw G(Pm);if(n.interactionType!==r)throw G(bm)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class kx extends fo{constructor(e,r,n,i,o,a,s,c,l,u){super(e,r,n,i,o,a,s,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e){try{const n={popupName:this.generatePopupName(e.scopes||uo,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n))}catch(r){return Promise.reject(r)}}logout(e){try{this.logger.verbose("logoutPopup called");const r=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(r),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(r,n,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(r,n,i,o))}catch(r){return Promise.reject(r)}}async acquireTokenPopupAsync(e,r){var o;this.logger.verbose("acquireTokenPopupAsync called");const n=this.initializeServerTelemetryManager(Se.acquireTokenPopup),i=await D(this.initializeAuthorizationRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,V.Popup);uy(i.authority);try{const a=await D(this.initializeAuthorizationCodeRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),s=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),c=kr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let l;c&&(l=this.performanceClient.startMeasurement(I.FetchAccountIdWithNativeBroker,e.correlationId));const u=await s.getAuthCodeUrl({...i,nativeBroker:c}),d=new rh(s,this.browserStorage,a,this.logger,this.performanceClient),f=this.initiateAuthRequest(u,r);this.eventHandler.emitEvent(z.POPUP_OPENED,V.Popup,{popupWindow:f},null);const h=await this.monitorPopupForHash(f,r.popupWindowParent),p=gi(gy,I.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(Rr.removeThrottle(this.browserStorage,this.config.auth.clientId,a),p.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw G(xa);const y=new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,p.accountId,this.nativeStorage,i.correlationId),{userRequestState:m}=Cr.parseRequestState(this.browserCrypto,i.state);return await y.acquireToken({...i,state:m,prompt:void 0})}return await d.handleCodeResponse(p,i)}catch(a){throw(o=r.popup)==null||o.close(),a instanceof Ne&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),a}}async logoutPopupAsync(e,r,n,i){var a,s,c,l;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(z.LOGOUT_START,V.Popup,e);const o=this.initializeServerTelemetryManager(Se.logoutPopup);try{await this.clearCacheOnLogout(e.account);const u=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{u.authority.endSessionEndpoint}catch{if((a=e.account)!=null&&a.homeAccountId&&e.postLogoutRedirectUri&&u.authority.protocolMode===$r.OIDC){if(this.browserStorage.removeAccount((s=e.account)==null?void 0:s.homeAccountId),this.eventHandler.emitEvent(z.LOGOUT_SUCCESS,V.Popup,e),i){const h={apiId:Se.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=ie.getAbsoluteUrl(i,jr());await this.navigationClient.navigateInternal(p,h)}(c=r.popup)==null||c.close();return}}const d=u.getLogoutUri(e);this.eventHandler.emitEvent(z.LOGOUT_SUCCESS,V.Popup,e);const f=this.openPopup(d,r);if(this.eventHandler.emitEvent(z.POPUP_OPENED,V.Popup,{popupWindow:f},null),await this.monitorPopupForHash(f,r.popupWindowParent).catch(()=>{}),i){const h={apiId:Se.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=ie.getAbsoluteUrl(i,jr());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${p}`),await this.navigationClient.navigateInternal(p,h)}else this.logger.verbose("No main window navigation requested")}catch(u){throw(l=r.popup)==null||l.close(),u instanceof Ne&&(u.setCorrelationId(this.correlationId),o.cacheFailedRequest(u)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(z.LOGOUT_FAILURE,V.Popup,null,u),this.eventHandler.emitEvent(z.LOGOUT_END,V.Popup),u}this.eventHandler.emitEvent(z.LOGOUT_END,V.Popup)}initiateAuthRequest(e,r){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,r);throw this.logger.error("Navigate url is empty"),G(Fc)}monitorPopupForHash(e,r){return new Promise((n,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(G(si));return}let a="";try{a=e.location.href}catch{}if(!a||a==="about:blank")return;clearInterval(o);let s="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===_a.QUERY?s=e.location.search:s=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),n(s)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,r)})}openPopup(e,r){try{let n;if(r.popup?(n=r.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):typeof r.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,r)),!n)throw G(Lm);return n.focus&&n.focus(),this.currentWindow=n,r.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),G(Dm)}}openSizedPopup(e,{popupName:r,popupWindowAttributes:n,popupWindowParent:i}){var h,p,g,y;const o=i.screenLeft?i.screenLeft:i.screenX,a=i.screenTop?i.screenTop:i.screenY,s=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=(h=n.popupSize)==null?void 0:h.width,u=(p=n.popupSize)==null?void 0:p.height,d=(g=n.popupPosition)==null?void 0:g.top,f=(y=n.popupPosition)==null?void 0:y.left;return(!l||l<0||l>s)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Vt.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=Vt.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-Vt.POPUP_HEIGHT/2+a)),(!f||f<0||f>s)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),f=Math.max(0,s/2-Vt.POPUP_WIDTH/2+o)),i.open(e,r,`width=${l}, height=${u}, top=${d}, left=${f}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(V.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,r){e.close(),r.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,r){return`${Vt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${r}.${this.correlationId}`}generateLogoutPopupName(e){const r=e.account&&e.account.homeAccountId;return`${Vt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${r}.${this.correlationId}`}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class d0{constructor(e,r,n,i,o){this.authModule=e,this.browserStorage=r,this.authCodeRequest=n,this.logger=i,this.performanceClient=o}async initiateAuthRequest(e,r){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){r.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(pe.ORIGIN_URI,r.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(pe.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:Se.acquireTokenRedirect,timeout:r.redirectTimeout,noHistory:!1};if(typeof r.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),r.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await r.navigationClient.navigateExternal(e,n);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await r.navigationClient.navigateExternal(e,n);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),G(Fc)}async handleCodeResponse(e,r){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(r),i=this.browserStorage.getTemporaryCache(n);if(!i)throw P(Zs,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Nn&&l.subError===si?G(si):l}const a=this.browserStorage.generateNonceKey(i),s=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await D(this.authModule.updateAuthority.bind(this.authModule),I.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=s||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const l=this.checkCcsCredentials();l&&(this.authCodeRequest.ccsCredential=l)}const c=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(r),c}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(pe.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function Px(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class bx extends fo{constructor(e,r,n,i,o,a,s,c,l,u){super(e,r,n,i,o,a,s,l,u),this.nativeStorage=c}async acquireToken(e){const r=await D(this.initializeAuthorizationRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,V.Redirect);this.browserStorage.updateCacheEntries(r.state,r.nonce,r.authority,r.loginHint||"",r.account||null);const n=this.initializeServerTelemetryManager(Se.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(r.state),this.eventHandler.emitEvent(z.RESTORE_FROM_BFCACHE,V.Redirect))};try{const o=await D(this.initializeAuthorizationCodeRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(r),a=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),s=new d0(a,this.browserStorage,o,this.logger,this.performanceClient),c=await a.getAuthCodeUrl({...r,nativeBroker:kr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),await s.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Ne&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(r.state),o}}async handleRedirectPromise(e="",r){const n=this.initializeServerTelemetryManager(Se.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(V.Redirect),Px()!=="back_forward"?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(pe.ORIGIN_URI,!0)||R.EMPTY_STRING,s=ie.removeHashFromUrl(a),c=ie.removeHashFromUrl(window.location.href);if(s===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&j_(a),await this.handleResponse(i,n);if(this.config.auth.navigateToLoginRequestUrl){if(!Zf()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(pe.URL_HASH,o,!0);const l={apiId:Se.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let u=!0;if(!a||a==="null"){const d=$_();this.browserStorage.setTemporaryCache(pe.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),u=await this.navigationClient.navigateInternal(d,l)}else this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),u=await this.navigationClient.navigateInternal(a,l);if(!u)return await this.handleResponse(i,n)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,n);return null}catch(i){throw i instanceof Ne&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(V.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let r=e;r||(this.config.auth.OIDCOptions.serverResponseType===_a.QUERY?r=window.location.search:r=window.location.hash);let n=rc(r);if(n){try{Nx(n,this.browserCrypto,V.Redirect)}catch(o){return o instanceof Ne&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return V_(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,r]}const i=this.browserStorage.getTemporaryCache(pe.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(pe.URL_HASH)),i&&(n=rc(i),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,i]):[null,""]}async handleResponse(e,r){const n=e.state;if(!n)throw G(Vf);const i=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw G(xa);const c=new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:l}=Cr.parseRequestState(this.browserCrypto,n);return c.acquireToken({...i,state:l,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(n)})}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw G(jf);const a=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:o});return Rr.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new d0(a,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const r=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(Se.logout);try{this.eventHandler.emitEvent(z.LOGOUT_START,V.Redirect,e),await this.clearCacheOnLogout(r.account);const a={apiId:Se.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(s.authority.protocolMode===$r.OIDC)try{s.authority.endSessionEndpoint}catch{if((i=r.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=r.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(z.LOGOUT_SUCCESS,V.Redirect,r);return}}const c=s.getLogoutUri(r);if(this.eventHandler.emitEvent(z.LOGOUT_SUCCESS,V.Redirect,r),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,a);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,a);return}}catch(a){throw a instanceof Ne&&(a.setCorrelationId(this.correlationId),n.cacheFailedRequest(a)),this.eventHandler.emitEvent(z.LOGOUT_FAILURE,V.Redirect,null,a),this.eventHandler.emitEvent(z.LOGOUT_END,V.Redirect),a}this.eventHandler.emitEvent(z.LOGOUT_END,V.Redirect)}getRedirectStartPage(e){const r=e||window.location.href;return ie.getAbsoluteUrl(r,jr())}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function Mx(t,e,r,n,i){if(e.addQueueMeasurement(I.SilentHandlerInitiateAuthRequest,n),!t)throw r.info("Navigate url is empty"),G(Fc);return i?D(Lx,I.SilentHandlerLoadFrame,r,e,n)(t,i,e,n):gi(Bx,I.SilentHandlerLoadFrameSync,r,e,n)(t)}async function Dx(t,e,r,n,i,o,a){return n.addQueueMeasurement(I.SilentHandlerMonitorIframeForHash,o),new Promise((s,c)=>{e<qu&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${qu}ms). This may result in timeouts.`);const l=window.setTimeout(()=>{window.clearInterval(u),c(G(Bm))},e),u=window.setInterval(()=>{let d="";const f=t.contentWindow;try{d=f?f.location.href:""}catch{}if(!d||d==="about:blank")return;let h="";f&&(a===_a.QUERY?h=f.location.search:h=f.location.hash),window.clearTimeout(l),window.clearInterval(u),s(h)},r)}).finally(()=>{gi(Fx,I.RemoveHiddenIframe,i,n,o)(t)})}function Lx(t,e,r,n){return r.addQueueMeasurement(I.SilentHandlerLoadFrame,n),new Promise((i,o)=>{const a=vy();window.setTimeout(()=>{if(!a){o("Unable to load iframe");return}a.src=t,i(a)},e)})}function Bx(t){const e=vy();return e.src=t,e}function vy(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function Fx(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Ux extends fo{constructor(e,r,n,i,o,a,s,c,l,u,d){super(e,r,n,i,o,a,c,u,d),this.apiId=s,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(I.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const r={...e};r.prompt?r.prompt!==it.NONE&&r.prompt!==it.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${r.prompt} with ${it.NONE}`),r.prompt=it.NONE):r.prompt=it.NONE;const n=await D(this.initializeAuthorizationRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(r,V.Silent);uy(n.authority);const i=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await D(this.createAuthCodeClient.bind(this),I.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),await D(this.silentTokenHelper.bind(this),I.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,n)}catch(a){if(a instanceof Ne&&(a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a)),!o||!(a instanceof Ne)||a.errorCode!==Vt.INVALID_GRANT_ERROR)throw a;this.performanceClient.addFields({retryError:a.errorCode},this.correlationId);const s=await D(this.initializeAuthorizationRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(r,V.Silent);return await D(this.silentTokenHelper.bind(this),I.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,s)}}logout(){return Promise.reject(G(Uc))}async silentTokenHelper(e,r){const n=r.correlationId;this.performanceClient.addQueueMeasurement(I.SilentIframeClientTokenHelper,n);const i=await D(this.initializeAuthorizationCodeRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(r),o=await D(e.getAuthCodeUrl.bind(e),I.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...r,nativeBroker:kr.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,r.authenticationScheme)}),a=new rh(e,this.browserStorage,i,this.logger,this.performanceClient),s=await D(Mx,I.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=await D(Dx,I.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,c),u=gi(gy,I.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw G(xa);const d=new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:f}=Cr.parseRequestState(this.browserCrypto,r.state);return D(d.acquireToken.bind(d),I.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...r,state:f,prompt:r.prompt||it.NONE})}return D(a.handleCodeResponse.bind(a),I.HandleCodeResponse,this.logger,this.performanceClient,n)(u,r)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Hx extends fo{async acquireToken(e){this.performanceClient.addQueueMeasurement(I.SilentRefreshClientAcquireToken,e.correlationId);const r=await D(th,I.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...r};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(Se.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return D(o.acquireTokenByRefreshToken.bind(o),I.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch(a=>{throw a.setCorrelationId(this.correlationId),i.cacheFailedRequest(a),a})}logout(){return Promise.reject(G(Uc))}async createRefreshTokenClient(e){const r=await D(this.getClientConfiguration.bind(this),I.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new $u(r,this.performanceClient)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class zx{constructor(e,r,n,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=r,this.logger=n,this.cryptoObj=i}loadExternalTokens(e,r,n){if(!this.isBrowserEnvironment)throw G(Wf);const i=r.id_token?pi(r.id_token,Dr):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new yt(yt.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||Jr()):void 0,s=this.loadAccount(e,n.clientInfo||r.client_info||"",i,a),c=this.loadIdToken(r,s.homeAccountId,s.environment,s.realm),l=this.loadAccessToken(e,r,s.homeAccountId,s.environment,s.realm,n),u=this.loadRefreshToken(r,s.homeAccountId,s.environment);return this.generateAuthenticationResult(e,{account:s,idToken:c,accessToken:l,refreshToken:u},i,a)}loadAccount(e,r,n,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const c=Ze.createFromAccountInfo(e.account);return this.storage.setAccount(c),c}else if(!i||!r&&!n)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),G(Wm);const o=Ze.generateHomeAccountId(r,i.authorityType,this.logger,this.cryptoObj,n),a=n==null?void 0:n.tid,s=Hf(this.storage,i,o,Dr,n,r,i.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(s),s}loadIdToken(e,r,n,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=bc(r,n,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,r,n,i,o,a){if(r.access_token)if(r.expires_in){if(!r.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const s=r.scope?Le.fromString(r.scope):new Le(e.scopes),c=a.expiresOn||r.expires_in+new Date().getTime()/1e3,l=a.extendedExpiresOn||(r.ext_expires_in||r.expires_in)+new Date().getTime()/1e3,u=Mc(n,i,r.access_token,this.config.auth.clientId,o,s.printScopes(),c,l,Dr);return this.storage.setAccessTokenCredential(u),u}loadRefreshToken(e,r,n){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=em(r,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,r,n,i){var u,d,f;let o="",a=[],s=null,c;r!=null&&r.accessToken&&(o=r.accessToken.secret,a=Le.fromString(r.accessToken.target).asArray(),s=new Date(Number(r.accessToken.expiresOn)*1e3),c=new Date(Number(r.accessToken.extendedExpiresOn)*1e3));const l=r.account;return{authority:i?i.canonicalAuthority:"",uniqueId:r.account.localAccountId,tenantId:r.account.realm,scopes:a,account:l.getAccountInfo(),idToken:((u=r.idToken)==null?void 0:u.secret)||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:s,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((d=r.refreshToken)==null?void 0:d.familyId)||"",tokenType:((f=r==null?void 0:r.accessToken)==null?void 0:f.tokenType)||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Kx extends Sm{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Gx extends fo{constructor(e,r,n,i,o,a,s,c,l,u){super(e,r,n,i,o,a,c,l,u),this.apiId=s}async acquireToken(e){if(!e.code)throw G($m);const r=await D(this.initializeAuthorizationRequest.bind(this),I.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,V.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const i={...r,code:e.code},o=await D(this.getClientConfiguration.bind(this),I.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),a=new Kx(o);this.logger.verbose("Auth code client created");const s=new rh(a,this.browserStorage,i,this.logger,this.performanceClient);return await D(s.handleCodeResponseFromServer.bind(s),I.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},r,!1)}catch(i){throw i instanceof Ne&&(i.setCorrelationId(this.correlationId),n.cacheFailedRequest(i)),i}}logout(){return Promise.reject(G(Uc))}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function Sr(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function rs(t,e){try{Jf(t)}catch(r){throw e.end({success:!1},r),r}}class Kc{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new io(this.logger,this.performanceClient):Js,this.eventHandler=new gx(this.logger),this.browserStorage=this.isBrowserEnvironment?new Zu(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,c_(this.config.auth),this.performanceClient):sx(this.config.auth.clientId,this.logger);const r={cacheLocation:We.MemoryStorage,temporaryCacheLocation:We.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new Zu(this.config.auth.clientId,r,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new zx(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,r){const n=new Kc(e);return await n.initialize(r),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(z.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),n=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(I.InitializeClientApplication,r);if(this.eventHandler.emitEvent(z.INITIALIZE_START),n)try{this.nativeExtensionProvider=await kr.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await D(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),I.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(this.performanceClient,r)),this.initialized=!0,this.eventHandler.emitEvent(z.INITIALIZE_END),i.end({allowNativeBroker:n,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),ly(this.initialized),this.isBrowserEnvironment){const r=e||"";let n=this.redirectResponse.get(r);return typeof n>"u"?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(r,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const r=this.getAllAccounts(),n=this.browserStorage.getCachedNativeRequest(),i=n&&kr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?n==null?void 0:n.correlationId:this.browserStorage.getTemporaryCache(pe.CORRELATION_ID,!0)||"",a=this.performanceClient.startMeasurement(I.AcquireTokenRedirect,o);this.eventHandler.emitEvent(z.HANDLE_REDIRECT_START,V.Redirect);let s;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const c=new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,n.accountId,this.nativeInternalStorage,n.correlationId);s=D(c.handleRedirectPromise.bind(c),I.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(this.performanceClient,a.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const c=this.createRedirectClient(o);s=D(c.handleRedirectPromise.bind(c),I.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,a.event.correlationId)(e,a)}return s.then(c=>(c?(r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(z.LOGIN_SUCCESS,V.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_SUCCESS,V.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),a.end({success:!0,accountType:Sr(c.account)})):a.event.errorCode?a.end({success:!1}):a.discard(),this.eventHandler.emitEvent(z.HANDLE_REDIRECT_END,V.Redirect),c)).catch(c=>{const l=c;throw r.length>0?this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_FAILURE,V.Redirect,null,l):this.eventHandler.emitEvent(z.LOGIN_FAILURE,V.Redirect,null,l),this.eventHandler.emitEvent(z.HANDLE_REDIRECT_END,V.Redirect),a.end({success:!1},l),c})}async acquireTokenRedirect(e){const r=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",r);const n=this.performanceClient.startMeasurement(I.AcquireTokenPreRedirect,r);n.add({accountType:Sr(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=a=>{const s=typeof i=="function"?i(a):void 0;return s!==!1?n.end({success:!0}):n.discard(),s};else{const a=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=s=>{const c=typeof a=="function"?a(s):void 0;return c!==!1?n.end({success:!0}):n.discard(),c}}const o=this.getAllAccounts().length>0;try{c0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_START,V.Redirect,e):this.eventHandler.emitEvent(z.LOGIN_START,V.Redirect,e);let a;return this.nativeExtensionProvider&&this.canUseNative(e)?a=new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,r).acquireTokenRedirect(e,n).catch(c=>{if(c instanceof Or&&Ei(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(r).acquireToken(e);if(c instanceof Er)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(r).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):a=this.createRedirectClient(r).acquireToken(e),await a}catch(a){throw n.end({success:!1},a),o?this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_FAILURE,V.Redirect,null,a):this.eventHandler.emitEvent(z.LOGIN_FAILURE,V.Redirect,null,a),a}}acquireTokenPopup(e){const r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(I.AcquireTokenPopup,r);n.add({scenarioId:e.scenarioId,accountType:Sr(e.account)});try{this.logger.verbose("acquireTokenPopup called",r),rs(this.initialized,n),this.browserStorage.setInteractionInProgress(!0)}catch(a){return Promise.reject(a)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_START,V.Popup,e):this.eventHandler.emitEvent(z.LOGIN_START,V.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative({...e,correlationId:r},Se.acquireTokenPopup).then(a=>(this.browserStorage.setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:a.requestId,accountType:Sr(a.account)}),a)).catch(a=>{if(a instanceof Or&&Ei(a))return this.nativeExtensionProvider=void 0,this.createPopupClient(r).acquireToken(e);if(a instanceof Er)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(r).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),a}):o=this.createPopupClient(r).acquireToken(e),o.then(a=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(z.LOGIN_SUCCESS,V.Popup,a):this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_SUCCESS,V.Popup,a),n.end({success:!0,requestId:a.requestId,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Sr(a.account)}),a)).catch(a=>(i.length>0?this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_FAILURE,V.Popup,null,a):this.eventHandler.emitEvent(z.LOGIN_FAILURE,V.Popup,null,a),n.end({success:!1},a),Promise.reject(a)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,a;const r=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:r};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(I.SsoSilent,r),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:Sr(e.account)}),rs(this.initialized,this.ssoSilentMeasurement),(a=this.ssoSilentMeasurement)==null||a.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",r),this.eventHandler.emitEvent(z.SSO_SILENT_START,V.Silent,n);let i;return this.canUseNative(n)?i=this.acquireTokenNative(n,Se.ssoSilent).catch(s=>{if(s instanceof Or&&Ei(s))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(n.correlationId).acquireToken(n);throw s}):i=this.createSilentIframeClient(n.correlationId).acquireToken(n),i.then(s=>{var c;return this.eventHandler.emitEvent(z.SSO_SILENT_SUCCESS,V.Silent,s),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:s.fromNativeBroker,requestId:s.requestId,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Sr(s.account)}),s}).catch(s=>{var c;throw this.eventHandler.emitEvent(z.SSO_SILENT_FAILURE,V.Silent,null,s),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},s),s}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const r=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",r);const n=this.performanceClient.startMeasurement(I.AcquireTokenByCode,r);rs(this.initialized,n),this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_BY_CODE_START,V.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw G(Ym);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",r),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",r),o=this.acquireTokenByCodeAsync({...e,correlationId:r}).then(a=>(this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_BY_CODE_SUCCESS,V.Silent,a),this.hybridAuthCodeResponses.delete(i),n.end({success:!0,isNativeBroker:a.fromNativeBroker,requestId:a.requestId,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Sr(a.account)}),a)).catch(a=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_BY_CODE_FAILURE,V.Silent,null,a),n.end({success:!1},a),a}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:r},Se.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof Or&&Ei(o)&&(this.nativeExtensionProvider=void 0),o});return n.end({accountType:Sr(i.account),success:!0}),i}else throw G(qm);else throw G(Xm)}catch(i){throw this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_BY_CODE_FAILURE,V.Silent,null,i),n.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(I.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var a;return(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,requestId:o.requestId}),o}).catch(o=>{var a;throw(a=this.acquireTokenByCodeAsyncMeasurement)==null||a.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,r){switch(this.performanceClient.addQueueMeasurement(I.AcquireTokenFromCache,e.correlationId),r){case Kt.Default:case Kt.AccessToken:case Kt.AccessTokenAndRefreshToken:const n=this.createSilentCacheClient(e.correlationId);return D(n.acquireToken.bind(n),I.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw P(Vr)}}async acquireTokenByRefreshToken(e,r){switch(this.performanceClient.addQueueMeasurement(I.AcquireTokenByRefreshToken,e.correlationId),r){case Kt.Default:case Kt.AccessTokenAndRefreshToken:case Kt.RefreshToken:case Kt.RefreshTokenAndNetwork:const n=this.createSilentRefreshClient(e.correlationId);return D(n.acquireToken.bind(n),I.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw P(Vr)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(I.AcquireTokenBySilentIframe,e.correlationId);const r=this.createSilentIframeClient(e.correlationId);return D(r.acquireToken.bind(r),I.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const r=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",r),this.logoutRedirect({correlationId:r,...e})}async logoutRedirect(e){const r=this.getRequestCorrelationId(e);return c0(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(r).logout(e)}logoutPopup(e){try{const r=this.getRequestCorrelationId(e);return Jf(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(r).logout(e)}catch(r){return Promise.reject(r)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const r=this.getRequestCorrelationId(e);return this.createSilentCacheClient(r).logout(e)}getAllAccounts(e){return cx(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return lx(e,this.logger,this.browserStorage)}getAccountByUsername(e){return ux(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return dx(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return fx(e,this.logger,this.browserStorage)}setActiveAccount(e){hx(e,this.browserStorage)}getActiveAccount(){return px(this.browserStorage)}async hydrateCache(e,r){this.logger.verbose("hydrateCache called");const n=Ze.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,r)):this.browserStorage.hydrateCache(e,r)}async acquireTokenNative(e,r,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw G(xa);return new Wi(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,r,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,r){if(this.logger.trace("canUseNative called"),!kr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case it.NONE:case it.CONSENT:case it.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!r&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const r=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return r&&r.nativeAccountId||""}createPopupClient(e){return new kx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new bx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new Ux(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new py(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Hx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Gx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Se.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,r){return this.eventHandler.addEventCallback(e,r)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return cy(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var r;try{(r=e.key)!=null&&r.includes(et.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(z.ACTIVE_ACCOUNT_CHANGED);const n=e.newValue||e.oldValue;if(!n)return;const i=JSON.parse(n);if(typeof i!="object"||!Ze.isAccountEntity(i))return;const a=to.toObject(new Ze,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(z.ACCOUNT_ADDED,void 0,a)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(z.ACCOUNT_REMOVED,void 0,a))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,r){this.browserStorage.setWrapperMetadata(e,r)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Jr():R.EMPTY_STRING}async loginRedirect(e){const r=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",r),this.acquireTokenRedirect({correlationId:r,...e||o0})}loginPopup(e){const r=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",r),this.acquireTokenPopup({correlationId:r,...e||o0})}async acquireTokenSilent(e){const r=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(I.AcquireTokenSilent,r);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),rs(this.initialized,n),this.logger.verbose("acquireTokenSilent called",r);const i=e.account||this.getActiveAccount();if(!i)throw G(zm);n.add({accountType:Sr(i)});const o={clientId:this.config.auth.clientId,authority:e.authority||R.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},a=JSON.stringify(o),s=this.activeSilentTokenRequests.get(a);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r);const c=D(this.acquireTokenSilentAsync.bind(this),I.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},i).then(l=>(this.activeSilentTokenRequests.delete(a),n.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:l.requestId,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),l)).catch(l=>{throw this.activeSilentTokenRequests.delete(a),n.end({success:!1},l),l});return this.activeSilentTokenRequests.set(a,c),{...await c,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),n.discard(),{...await s,state:e.state}}async acquireTokenSilentAsync(e,r){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(I.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_START,V.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const i=await D(wx,I.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,r,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Kt.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async s=>{if(Vx(s,o))if(this.activeIframeRequest)if(o!==Kt.Skip){const[l,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,i.correlationId);const d=this.performanceClient.startMeasurement(I.AwaitConcurrentIframe,i.correlationId);d.add({awaitIframeCorrelationId:u});const f=await l;if(d.end({success:f}),f)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),s}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),D(this.acquireTokenBySilentIframe.bind(this),I.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let l;return this.activeIframeRequest=[new Promise(u=>{l=u}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),D(this.acquireTokenBySilentIframe.bind(this),I.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(u=>(l(!0),u)).catch(u=>{throw l(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw s}).then(s=>(this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_SUCCESS,V.Silent,s),e.correlationId&&this.performanceClient.addFields({fromCache:s.fromCache,isNativeBroker:s.fromNativeBroker,requestId:s.requestId},e.correlationId),s)).catch(s=>{throw this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_FAILURE,V.Silent,null,s),s}).finally(()=>{document.removeEventListener("visibilitychange",n)})}async acquireTokenSilentNoIframe(e,r){return kr.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Se.acquireTokenSilent_silentFlow).catch(async n=>{throw n instanceof Or&&Ei(n)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,P(Vr)):n})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),D(this.acquireTokenFromCache.bind(this),I.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,r).catch(n=>{if(r===Kt.AccessToken)throw n;return this.eventHandler.emitEvent(z.ACQUIRE_TOKEN_NETWORK_START,V.Silent,e),D(this.acquireTokenByRefreshToken.bind(this),I.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,r)}))}}function Vx(t,e){const r=!(t instanceof Er&&t.subError!==Bc),n=t.errorCode===Vt.INVALID_GRANT_ERROR||t.errorCode===Vr,i=r&&n||t.errorCode===ic||t.errorCode===Uf,o=b_.includes(e);return i&&o}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function jx(t,e){const r=new ci(t);return await r.initialize(),Kc.createController(r,e)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class nh{static async createPublicClientApplication(e){const r=await jx(e);return new nh(e,r)}constructor(e,r){this.controller=r||new Kc(new ci(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,r){return this.controller.addEventCallback(e,r)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,r){return this.controller.initializeWrapperLibrary(e,r)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,r){return this.controller.hydrateCache(e,r)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Wx={initialize:()=>Promise.reject(ze(Be)),acquireTokenPopup:()=>Promise.reject(ze(Be)),acquireTokenRedirect:()=>Promise.reject(ze(Be)),acquireTokenSilent:()=>Promise.reject(ze(Be)),acquireTokenByCode:()=>Promise.reject(ze(Be)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(ze(Be)),loginPopup:()=>Promise.reject(ze(Be)),loginRedirect:()=>Promise.reject(ze(Be)),logout:()=>Promise.reject(ze(Be)),logoutRedirect:()=>Promise.reject(ze(Be)),logoutPopup:()=>Promise.reject(ze(Be)),ssoSilent:()=>Promise.reject(ze(Be)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw ze(Be)},getLogger:()=>{throw ze(Be)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw ze(Be)},hydrateCache:()=>Promise.reject(ze(Be)),clearCache:()=>Promise.reject(ze(Be))};/*! @azure/msal-browser v3.26.1 2024-10-08 */class $x{static getInteractionStatusFromEvent(e,r){switch(e.eventType){case z.LOGIN_START:return Ve.Login;case z.SSO_SILENT_START:return Ve.SsoSilent;case z.ACQUIRE_TOKEN_START:if(e.interactionType===V.Redirect||e.interactionType===V.Popup)return Ve.AcquireToken;break;case z.HANDLE_REDIRECT_START:return Ve.HandleRedirect;case z.LOGOUT_START:return Ve.Logout;case z.SSO_SILENT_SUCCESS:case z.SSO_SILENT_FAILURE:if(r&&r!==Ve.SsoSilent)break;return Ve.None;case z.LOGOUT_END:if(r&&r!==Ve.Logout)break;return Ve.None;case z.HANDLE_REDIRECT_END:if(r&&r!==Ve.HandleRedirect)break;return Ve.None;case z.LOGIN_SUCCESS:case z.LOGIN_FAILURE:case z.ACQUIRE_TOKEN_SUCCESS:case z.ACQUIRE_TOKEN_FAILURE:case z.RESTORE_FROM_BFCACHE:if(e.interactionType===V.Redirect||e.interactionType===V.Popup){if(r&&r!==Ve.Login&&r!==Ve.AcquireToken)break;return Ve.None}break}return null}}/*! @azure/msal-react v2.1.1 2024-10-03 */const Xx={instance:Wx,inProgress:Ve.None,accounts:[],logger:new Zr({})},ih=B.createContext(Xx);ih.Consumer;/*! @azure/msal-react v2.1.1 2024-10-03 */function f0(t,e){if(t.length!==e.length)return!1;const r=[...e];return t.every(n=>{const i=r.shift();return!n||!i?!1:n.homeAccountId===i.homeAccountId&&n.localAccountId===i.localAccountId&&n.username===i.username})}/*! @azure/msal-react v2.1.1 2024-10-03 */const Yx="@azure/msal-react",h0="2.1.1";/*! @azure/msal-react v2.1.1 2024-10-03 */const lc={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},qx=(t,e)=>{const{type:r,payload:n}=e;let i=t.inProgress;switch(r){case lc.UNBLOCK_INPROGRESS:t.inProgress===Ve.Startup&&(i=Ve.None,n.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case lc.EVENT:const a=n.message,s=$x.getInteractionStatusFromEvent(a,t.inProgress);s&&(n.logger.info(`MsalProvider - ${a.eventType} results in setting inProgress from ${t.inProgress} to ${s}`),i=s);break;default:throw new Error(`Unknown action type: ${r}`)}const o=n.instance.getAllAccounts();return i!==t.inProgress&&!f0(o,t.accounts)?{...t,inProgress:i,accounts:o}:i!==t.inProgress?{...t,inProgress:i}:f0(o,t.accounts)?t:{...t,accounts:o}};function Qx({instance:t,children:e}){B.useEffect(()=>{t.initializeWrapperLibrary(N_.React,h0)},[t]);const r=B.useMemo(()=>t.getLogger().clone(Yx,h0),[t]),[n,i]=B.useReducer(qx,void 0,()=>({inProgress:Ve.Startup,accounts:t.getAllAccounts()}));B.useEffect(()=>{const a=t.addEventCallback(s=>{i({payload:{instance:t,logger:r,message:s},type:lc.EVENT})});return r.verbose(`MsalProvider - Registered event callback with id: ${a}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{i({payload:{instance:t,logger:r},type:lc.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{a&&(r.verbose(`MsalProvider - Removing event callback ${a}`),t.removeEventCallback(a))}},[t,r]);const o={instance:t,inProgress:n.inProgress,accounts:n.accounts,logger:r};return dn.createElement(ih.Provider,{value:o},e)}/*! @azure/msal-react v2.1.1 2024-10-03 */const Gc=()=>B.useContext(ih);/*! @azure/msal-react v2.1.1 2024-10-03 */function Zx(t,e){return t.length>0}function oh(t){const{accounts:e,inProgress:r}=Gc();return B.useMemo(()=>r===Ve.Startup?!1:Zx(e),[e,r,t])}const Jx={auth:{clientId:"a2da829f-3876-4d85-a495-0ab0eba09213",authority:"https://login.microsoftonline.com/ca71eddc-cc7b-4e5b-95bd-55b658e696be",redirectUri:"http://localhost:5173"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(t,e,r)=>{if(!r)switch(t){case me.Error:console.error(e);return;case me.Info:console.info(e);return;case me.Verbose:console.debug(e);return;case me.Warning:console.warn(e);return;default:return}}}}},eS={scopes:["User.Read"]};var my={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var o="",a=0;a<arguments.length;a++){var s=arguments[a];s&&(o=i(o,n(s)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var a="";for(var s in o)e.call(o,s)&&o[s]&&(a=i(a,s));return a}function i(o,a){return a?o?o+" "+a:o+a:o}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(my);var tS=my.exports;const rS=pc(tS),nS=["as","disabled"];function iS(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oS(t){return!t||t.trim()==="#"}function yy({tagName:t,disabled:e,href:r,target:n,rel:i,role:o,onClick:a,tabIndex:s=0,type:c}){t||(r!=null||n!=null||i!=null?t="a":t="button");const l={tagName:t};if(t==="button")return[{type:c||"button",disabled:e},l];const u=f=>{if((e||t==="a"&&oS(r))&&f.preventDefault(),e){f.stopPropagation();return}a==null||a(f)},d=f=>{f.key===" "&&(f.preventDefault(),u(f))};return t==="a"&&(r||(r="#"),e&&(r=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:s,href:r,target:t==="a"?n:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:u,onKeyDown:d},l]}const aS=B.forwardRef((t,e)=>{let{as:r,disabled:n}=t,i=iS(t,nS);const[o,{tagName:a}]=yy(Object.assign({tagName:r,disabled:n},i));return k.jsx(a,Object.assign({},i,o,{ref:e}))});aS.displayName="Button";const sS=["xxl","xl","lg","md","sm","xs"],cS="xs",lS=B.createContext({prefixes:{},breakpoints:sS,minBreakpoint:cS});function uS(t,e){const{prefixes:r}=B.useContext(lS);return t||r[e]||e}const Vc=B.forwardRef(({as:t,bsPrefix:e,variant:r="primary",size:n,active:i=!1,disabled:o=!1,className:a,...s},c)=>{const l=uS(e,"btn"),[u,{tagName:d}]=yy({tagName:t,disabled:o,...s}),f=d;return k.jsx(f,{...u,...s,ref:c,disabled:o,className:rS(a,l,i&&"active",r&&`${l}-${r}`,n&&`${l}-${n}`,s.href&&o&&"disabled")})});Vc.displayName="Button";const Cy=()=>{const{instance:t}=Gc(),e=()=>{t.loginRedirect(eS).catch(r=>{console.log(r)})};return k.jsx(Vc,{as:"button",onClick:()=>e(),variant:"secondary",style:{width:"100%",height:"100%"},children:"SIGN IN"})},wy=()=>{const{instance:t}=Gc(),e=()=>{t.logoutRedirect({postLogoutRedirectUri:"/"})};return k.jsx(Vc,{as:"button",onClick:()=>e(),variant:"secondary",className:"ml-auto",children:"Sign out"})},Ia="/assets/filmskaVrpca-Dxzxt46r.jpg";function dS(){const t=oh(),e=hi();return B.useEffect(()=>{t&&e("/home")},[t,e]),k.jsxs("div",{className:"container",children:[k.jsx("img",{className:"background-image",src:Ia,alt:"background picture"}),k.jsxs("div",{className:"button-container",children:[k.jsxs("div",{children:[k.jsx("h1",{className:"title",children:"ReStore Films"}),k.jsx("h2",{className:"subtitle",children:"Oivite prolost kroz digitalnu tehnologiju"})]}),k.jsx("div",{className:"sign-in-wrap",children:t?k.jsx(wy,{}):k.jsx(Cy,{})}),k.jsx("footer",{class:"app-footer",children:" 2024 ReStore Films. All rights reserved."})]})]})}const fS=()=>{const t=oh(),e=hi(),r=()=>{e(t?"/home":"/")};return k.jsxs("nav",{className:"navbar",children:[k.jsx("div",{className:"nav-homebtn",children:k.jsx("button",{onClick:r,children:"Home"})}),k.jsx("div",{className:"nav-title",children:"ReStore-Films"}),k.jsx("div",{className:"nav-signout",children:t?k.jsx(wy,{}):k.jsx(Cy,{})})]})};function hS(){return k.jsx("footer",{class:"f-footer",children:k.jsx("div",{children:" 2024 ReStore Films. All rights reserved."})})}function ah({children:t}){return k.jsxs("div",{className:"layout",children:[k.jsx(fS,{}),k.jsx("div",{children:t}),k.jsx(hS,{})]})}const pS="/assets/barcodeScanner-B0NFHzuy.png",gS="/assets/barcodeList-W_y9b_ol.png";function vS(){Gc();const t=hi(),e=()=>{t("/scanner")},r=()=>{t("/barcodes")};return k.jsx(k.Fragment,{children:k.jsx(ah,{children:k.jsxs("div",{className:"home-container",children:[k.jsx("img",{className:"home-bg-image",src:Ia,alt:"background picture"}),k.jsxs("div",{className:"btn-home",children:[k.jsx("div",{className:"scanner-list",children:k.jsxs("button",{onClick:e,style:{marginRight:"10px"},children:[k.jsx("img",{className:"scan-img",src:pS,alt:"barcode scanner"}),"Scan Barcode"]})}),k.jsx("div",{className:"scanner-list",children:k.jsxs("button",{onClick:r,children:[k.jsx("img",{className:"scan-img",src:gS,alt:"barcode list"}),"Barcode List"]})})]})]})})})}function Ey(t,e){return function(){return t.apply(e,arguments)}}const{toString:mS}=Object.prototype,{getPrototypeOf:sh}=Object,jc=(t=>e=>{const r=mS.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>jc(e)===t),Wc=t=>e=>typeof e===t,{isArray:ho}=Array,ga=Wc("undefined");function yS(t){return t!==null&&!ga(t)&&t.constructor!==null&&!ga(t.constructor)&&Xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ay=Ar("ArrayBuffer");function CS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ay(t.buffer),e}const wS=Wc("string"),Xt=Wc("function"),_y=Wc("number"),$c=t=>t!==null&&typeof t=="object",ES=t=>t===!0||t===!1,Es=t=>{if(jc(t)!=="object")return!1;const e=sh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AS=Ar("Date"),_S=Ar("File"),xS=Ar("Blob"),SS=Ar("FileList"),IS=t=>$c(t)&&Xt(t.pipe),TS=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xt(t.append)&&((e=jc(t))==="formdata"||e==="object"&&Xt(t.toString)&&t.toString()==="[object FormData]"))},RS=Ar("URLSearchParams"),[OS,NS,kS,PS]=["ReadableStream","Request","Response","Headers"].map(Ar),bS=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ta(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ho(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length;let s;for(n=0;n<a;n++)s=o[n],e.call(null,t[s],s,t)}}function xy(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Xn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Sy=t=>!ga(t)&&t!==Xn;function ed(){const{caseless:t}=Sy(this)&&this||{},e={},r=(n,i)=>{const o=t&&xy(e,i)||i;Es(e[o])&&Es(n)?e[o]=ed(e[o],n):Es(n)?e[o]=ed({},n):ho(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ta(arguments[n],r);return e}const MS=(t,e,r,{allOwnKeys:n}={})=>(Ta(e,(i,o)=>{r&&Xt(i)?t[o]=Ey(i,r):t[o]=i},{allOwnKeys:n}),t),DS=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),LS=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},BS=(t,e,r,n)=>{let i,o,a;const s={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)a=i[o],(!n||n(a,t,e))&&!s[a]&&(e[a]=t[a],s[a]=!0);t=r!==!1&&sh(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},FS=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},US=t=>{if(!t)return null;if(ho(t))return t;let e=t.length;if(!_y(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},HS=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&sh(Uint8Array)),zS=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},KS=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},GS=Ar("HTMLFormElement"),VS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),p0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),jS=Ar("RegExp"),Iy=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ta(r,(i,o)=>{let a;(a=e(i,o,t))!==!1&&(n[o]=a||i)}),Object.defineProperties(t,n)},WS=t=>{Iy(t,(e,r)=>{if(Xt(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Xt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$S=(t,e)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return ho(t)?n(t):n(String(t).split(e)),r},XS=()=>{},YS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,bl="abcdefghijklmnopqrstuvwxyz",g0="0123456789",Ty={DIGIT:g0,ALPHA:bl,ALPHA_DIGIT:bl+bl.toUpperCase()+g0},qS=(t=16,e=Ty.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function QS(t){return!!(t&&Xt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ZS=t=>{const e=new Array(10),r=(n,i)=>{if($c(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const o=ho(n)?[]:{};return Ta(n,(a,s)=>{const c=r(a,i+1);!ga(c)&&(o[s]=c)}),e[i]=void 0,o}}return n};return r(t,0)},JS=Ar("AsyncFunction"),eI=t=>t&&($c(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),Ry=((t,e)=>t?setImmediate:e?((r,n)=>(Xn.addEventListener("message",({source:i,data:o})=>{i===Xn&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Xn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Xt(Xn.postMessage)),tI=typeof queueMicrotask<"u"?queueMicrotask.bind(Xn):typeof process<"u"&&process.nextTick||Ry,T={isArray:ho,isArrayBuffer:Ay,isBuffer:yS,isFormData:TS,isArrayBufferView:CS,isString:wS,isNumber:_y,isBoolean:ES,isObject:$c,isPlainObject:Es,isReadableStream:OS,isRequest:NS,isResponse:kS,isHeaders:PS,isUndefined:ga,isDate:AS,isFile:_S,isBlob:xS,isRegExp:jS,isFunction:Xt,isStream:IS,isURLSearchParams:RS,isTypedArray:HS,isFileList:SS,forEach:Ta,merge:ed,extend:MS,trim:bS,stripBOM:DS,inherits:LS,toFlatObject:BS,kindOf:jc,kindOfTest:Ar,endsWith:FS,toArray:US,forEachEntry:zS,matchAll:KS,isHTMLForm:GS,hasOwnProperty:p0,hasOwnProp:p0,reduceDescriptors:Iy,freezeMethods:WS,toObjectSet:$S,toCamelCase:VS,noop:XS,toFiniteNumber:YS,findKey:xy,global:Xn,isContextDefined:Sy,ALPHABET:Ty,generateString:qS,isSpecCompliantForm:QS,toJSONObject:ZS,isAsyncFn:JS,isThenable:eI,setImmediate:Ry,asap:tI};function X(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(X,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Oy=X.prototype,Ny={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ny[t]={value:t}});Object.defineProperties(X,Ny);Object.defineProperty(Oy,"isAxiosError",{value:!0});X.from=(t,e,r,n,i,o)=>{const a=Object.create(Oy);return T.toFlatObject(t,a,function(c){return c!==Error.prototype},s=>s!=="isAxiosError"),X.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};const rI=null;function td(t){return T.isPlainObject(t)||T.isArray(t)}function ky(t){return T.endsWith(t,"[]")?t.slice(0,-2):t}function v0(t,e,r){return t?t.concat(e).map(function(i,o){return i=ky(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function nI(t){return T.isArray(t)&&!t.some(td)}const iI=T.toFlatObject(T,{},null,function(e){return/^is[A-Z]/.test(e)});function Xc(t,e,r){if(!T.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!T.isUndefined(y[g])});const n=r.metaTokens,i=r.visitor||u,o=r.dots,a=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(e);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(T.isDate(p))return p.toISOString();if(!c&&T.isBlob(p))throw new X("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(p)||T.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,y){let m=p;if(p&&!y&&typeof p=="object"){if(T.endsWith(g,"{}"))g=n?g:g.slice(0,-2),p=JSON.stringify(p);else if(T.isArray(p)&&nI(p)||(T.isFileList(p)||T.endsWith(g,"[]"))&&(m=T.toArray(p)))return g=ky(g),m.forEach(function(C,E){!(T.isUndefined(C)||C===null)&&e.append(a===!0?v0([g],E,o):a===null?g:g+"[]",l(C))}),!1}return td(p)?!0:(e.append(v0(y,g,o),l(p)),!1)}const d=[],f=Object.assign(iI,{defaultVisitor:u,convertValue:l,isVisitable:td});function h(p,g){if(!T.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(p),T.forEach(p,function(m,v){(!(T.isUndefined(m)||m===null)&&i.call(e,m,T.isString(v)?v.trim():v,g,f))===!0&&h(m,g?g.concat(v):[v])}),d.pop()}}if(!T.isObject(t))throw new TypeError("data must be an object");return h(t),e}function m0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function ch(t,e){this._pairs=[],t&&Xc(t,this,e)}const Py=ch.prototype;Py.append=function(e,r){this._pairs.push([e,r])};Py.toString=function(e){const r=e?function(n){return e.call(this,n,m0)}:m0;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function oI(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function by(t,e,r){if(!e)return t;const n=r&&r.encode||oI,i=r&&r.serialize;let o;if(i?o=i(e,r):o=T.isURLSearchParams(e)?e.toString():new ch(e,r).toString(n),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class y0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){T.forEach(this.handlers,function(n){n!==null&&e(n)})}}const My={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},aI=typeof URLSearchParams<"u"?URLSearchParams:ch,sI=typeof FormData<"u"?FormData:null,cI=typeof Blob<"u"?Blob:null,lI={isBrowser:!0,classes:{URLSearchParams:aI,FormData:sI,Blob:cI},protocols:["http","https","file","blob","url","data"]},lh=typeof window<"u"&&typeof document<"u",rd=typeof navigator=="object"&&navigator||void 0,uI=lh&&(!rd||["ReactNative","NativeScript","NS"].indexOf(rd.product)<0),dI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",fI=lh&&window.location.href||"http://localhost",hI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lh,hasStandardBrowserEnv:uI,hasStandardBrowserWebWorkerEnv:dI,navigator:rd,origin:fI},Symbol.toStringTag,{value:"Module"})),Ft={...hI,...lI};function pI(t,e){return Xc(t,new Ft.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return Ft.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function gI(t){return T.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vI(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function Dy(t){function e(r,n,i,o){let a=r[o++];if(a==="__proto__")return!0;const s=Number.isFinite(+a),c=o>=r.length;return a=!a&&T.isArray(i)?i.length:a,c?(T.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):((!i[a]||!T.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],o)&&T.isArray(i[a])&&(i[a]=vI(i[a])),!s)}if(T.isFormData(t)&&T.isFunction(t.entries)){const r={};return T.forEachEntry(t,(n,i)=>{e(gI(n),i,r,0)}),r}return null}function mI(t,e,r){if(T.isString(t))try{return(e||JSON.parse)(t),T.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(t)}const Ra={transitional:My,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=T.isObject(e);if(o&&T.isHTMLForm(e)&&(e=new FormData(e)),T.isFormData(e))return i?JSON.stringify(Dy(e)):e;if(T.isArrayBuffer(e)||T.isBuffer(e)||T.isStream(e)||T.isFile(e)||T.isBlob(e)||T.isReadableStream(e))return e;if(T.isArrayBufferView(e))return e.buffer;if(T.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pI(e,this.formSerializer).toString();if((s=T.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Xc(s?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),mI(e)):e}],transformResponse:[function(e){const r=this.transitional||Ra.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(e)||T.isReadableStream(e))return e;if(e&&T.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(s){if(a)throw s.name==="SyntaxError"?X.from(s,X.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ft.classes.FormData,Blob:Ft.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],t=>{Ra.headers[t]={}});const yI=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CI=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&yI[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},C0=Symbol("internals");function xo(t){return t&&String(t).trim().toLowerCase()}function As(t){return t===!1||t==null?t:T.isArray(t)?t.map(As):String(t)}function wI(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const EI=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ml(t,e,r,n,i){if(T.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!T.isString(e)){if(T.isString(n))return e.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(e)}}function AI(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _I(t,e){const r=T.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,a){return this[n].call(this,e,i,o,a)},configurable:!0})})}class Ut{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function o(s,c,l){const u=xo(c);if(!u)throw new Error("header name must be a non-empty string");const d=T.findKey(i,u);(!d||i[d]===void 0||l===!0||l===void 0&&i[d]!==!1)&&(i[d||c]=As(s))}const a=(s,c)=>T.forEach(s,(l,u)=>o(l,u,c));if(T.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(T.isString(e)&&(e=e.trim())&&!EI(e))a(CI(e),r);else if(T.isHeaders(e))for(const[s,c]of e.entries())o(c,s,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=xo(e),e){const n=T.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return wI(i);if(T.isFunction(r))return r.call(this,i,n);if(T.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=xo(e),e){const n=T.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ml(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function o(a){if(a=xo(a),a){const s=T.findKey(n,a);s&&(!r||Ml(n,n[s],s,r))&&(delete n[s],i=!0)}}return T.isArray(e)?e.forEach(o):o(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const o=r[n];(!e||Ml(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const r=this,n={};return T.forEach(this,(i,o)=>{const a=T.findKey(n,o);if(a){r[a]=As(i),delete r[o];return}const s=e?AI(o):String(o).trim();s!==o&&delete r[o],r[s]=As(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return T.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[C0]=this[C0]={accessors:{}}).accessors,i=this.prototype;function o(a){const s=xo(a);n[s]||(_I(i,a),n[s]=!0)}return T.isArray(e)?e.forEach(o):o(e),this}}Ut.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Ut.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});T.freezeMethods(Ut);function Dl(t,e){const r=this||Ra,n=e||r,i=Ut.from(n.headers);let o=n.data;return T.forEach(t,function(s){o=s.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Ly(t){return!!(t&&t.__CANCEL__)}function po(t,e,r){X.call(this,t??"canceled",X.ERR_CANCELED,e,r),this.name="CanceledError"}T.inherits(po,X,{__CANCEL__:!0});function By(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new X("Request failed with status code "+r.status,[X.ERR_BAD_REQUEST,X.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xI(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function SI(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,o=0,a;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=n[o];a||(a=l),r[i]=c,n[i]=l;let d=o,f=0;for(;d!==i;)f+=r[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),l-a<e)return;const h=u&&l-u;return h?Math.round(f*1e3/h):void 0}}function II(t,e){let r=0,n=1e3/e,i,o;const a=(l,u=Date.now())=>{r=u,i=null,o&&(clearTimeout(o),o=null),t.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-r;d>=n?a(l,u):(i=l,o||(o=setTimeout(()=>{o=null,a(i)},n-d)))},()=>i&&a(i)]}const uc=(t,e,r=3)=>{let n=0;const i=SI(50,250);return II(o=>{const a=o.loaded,s=o.lengthComputable?o.total:void 0,c=a-n,l=i(c),u=a<=s;n=a;const d={loaded:a,total:s,progress:s?a/s:void 0,bytes:c,rate:l||void 0,estimated:l&&s&&u?(s-a)/l:void 0,event:o,lengthComputable:s!=null,[e?"download":"upload"]:!0};t(d)},r)},w0=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},E0=t=>(...e)=>T.asap(()=>t(...e)),TI=Ft.hasStandardBrowserEnv?function(){const e=Ft.navigator&&/(msie|trident)/i.test(Ft.navigator.userAgent),r=document.createElement("a");let n;function i(o){let a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){const s=T.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}(),RI=Ft.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const a=[t+"="+encodeURIComponent(e)];T.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),T.isString(n)&&a.push("path="+n),T.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function OI(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function NI(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fy(t,e){return t&&!OI(e)?NI(t,e):e}const A0=t=>t instanceof Ut?{...t}:t;function li(t,e){e=e||{};const r={};function n(l,u,d){return T.isPlainObject(l)&&T.isPlainObject(u)?T.merge.call({caseless:d},l,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function i(l,u,d){if(T.isUndefined(u)){if(!T.isUndefined(l))return n(void 0,l,d)}else return n(l,u,d)}function o(l,u){if(!T.isUndefined(u))return n(void 0,u)}function a(l,u){if(T.isUndefined(u)){if(!T.isUndefined(l))return n(void 0,l)}else return n(void 0,u)}function s(l,u,d){if(d in e)return n(l,u);if(d in t)return n(void 0,l)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(l,u)=>i(A0(l),A0(u),!0)};return T.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=c[u]||i,f=d(t[u],e[u],u);T.isUndefined(f)&&d!==s||(r[u]=f)}),r}const Uy=t=>{const e=li({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:s}=e;e.headers=a=Ut.from(a),e.url=by(Fy(e.baseURL,e.url),t.params,t.paramsSerializer),s&&a.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):"")));let c;if(T.isFormData(r)){if(Ft.hasStandardBrowserEnv||Ft.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];a.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Ft.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(e)),n||n!==!1&&TI(e.url))){const l=i&&o&&RI.read(o);l&&a.set(i,l)}return e},kI=typeof XMLHttpRequest<"u",PI=kI&&function(t){return new Promise(function(r,n){const i=Uy(t);let o=i.data;const a=Ut.from(i.headers).normalize();let{responseType:s,onUploadProgress:c,onDownloadProgress:l}=i,u,d,f,h,p;function g(){h&&h(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function m(){if(!y)return;const C=Ut.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),A={data:!s||s==="text"||s==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:C,config:t,request:y};By(function(x){r(x),g()},function(x){n(x),g()},A),y=null}"onloadend"in y?y.onloadend=m:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(m)},y.onabort=function(){y&&(n(new X("Request aborted",X.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new X("Network Error",X.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||My;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new X(E,A.clarifyTimeoutError?X.ETIMEDOUT:X.ECONNABORTED,t,y)),y=null},o===void 0&&a.setContentType(null),"setRequestHeader"in y&&T.forEach(a.toJSON(),function(E,A){y.setRequestHeader(A,E)}),T.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),s&&s!=="json"&&(y.responseType=i.responseType),l&&([f,p]=uc(l,!0),y.addEventListener("progress",f)),c&&y.upload&&([d,h]=uc(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",h)),(i.cancelToken||i.signal)&&(u=C=>{y&&(n(!C||C.type?new po(null,t,y):C),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const v=xI(i.url);if(v&&Ft.protocols.indexOf(v)===-1){n(new X("Unsupported protocol "+v+":",X.ERR_BAD_REQUEST,t));return}y.send(o||null)})},bI=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const o=function(l){if(!i){i=!0,s();const u=l instanceof Error?l:this.reason;n.abort(u instanceof X?u:new po(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,o(new X(`timeout ${e} of ms exceeded`,X.ETIMEDOUT))},e);const s=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:c}=n;return c.unsubscribe=()=>T.asap(s),c}},MI=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},DI=async function*(t,e){for await(const r of LI(t))yield*MI(r,e)},LI=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},_0=(t,e,r,n)=>{const i=DI(t,e);let o=0,a,s=c=>{a||(a=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await i.next();if(l){s(),c.close();return}let d=u.byteLength;if(r){let f=o+=d;r(f)}c.enqueue(new Uint8Array(u))}catch(l){throw s(l),l}},cancel(c){return s(c),i.return()}},{highWaterMark:2})},Yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hy=Yc&&typeof ReadableStream=="function",BI=Yc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),zy=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FI=Hy&&zy(()=>{let t=!1;const e=new Request(Ft.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),x0=64*1024,nd=Hy&&zy(()=>T.isReadableStream(new Response("").body)),dc={stream:nd&&(t=>t.body)};Yc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!dc[e]&&(dc[e]=T.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new X(`Response type '${e}' is not supported`,X.ERR_NOT_SUPPORT,n)})})})(new Response);const UI=async t=>{if(t==null)return 0;if(T.isBlob(t))return t.size;if(T.isSpecCompliantForm(t))return(await new Request(Ft.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(T.isArrayBufferView(t)||T.isArrayBuffer(t))return t.byteLength;if(T.isURLSearchParams(t)&&(t=t+""),T.isString(t))return(await BI(t)).byteLength},HI=async(t,e)=>{const r=T.toFiniteNumber(t.getContentLength());return r??UI(e)},zI=Yc&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=Uy(t);l=l?(l+"").toLowerCase():"text";let h=bI([i,o&&o.toAbortSignal()],a),p;const g=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let y;try{if(c&&FI&&r!=="get"&&r!=="head"&&(y=await HI(u,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),_;if(T.isFormData(n)&&(_=A.headers.get("content-type"))&&u.setContentType(_),A.body){const[x,O]=w0(y,uc(E0(c)));n=_0(A.body,x0,x,O)}}T.isString(d)||(d=d?"include":"omit");const m="credentials"in Request.prototype;p=new Request(e,{...f,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:m?d:void 0});let v=await fetch(p);const C=nd&&(l==="stream"||l==="response");if(nd&&(s||C&&g)){const A={};["status","statusText","headers"].forEach(F=>{A[F]=v[F]});const _=T.toFiniteNumber(v.headers.get("content-length")),[x,O]=s&&w0(_,uc(E0(s),!0))||[];v=new Response(_0(v.body,x0,x,()=>{O&&O(),g&&g()}),A)}l=l||"text";let E=await dc[T.findKey(dc,l)||"text"](v,t);return!C&&g&&g(),await new Promise((A,_)=>{By(A,_,{data:E,headers:Ut.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new X("Network Error",X.ERR_NETWORK,t,p),{cause:m.cause||m}):X.from(m,m&&m.code,t,p)}}),id={http:rI,xhr:PI,fetch:zI};T.forEach(id,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const S0=t=>`- ${t}`,KI=t=>T.isFunction(t)||t===null||t===!1,Ky={getAdapter:t=>{t=T.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){r=t[o];let a;if(n=r,!KI(r)&&(n=id[(a=String(r)).toLowerCase()],n===void 0))throw new X(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([s,c])=>`adapter ${s} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=e?o.length>1?`since :
`+o.map(S0).join(`
`):" "+S0(o[0]):"as no adapter specified";throw new X("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:id};function Ll(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new po(null,t)}function I0(t){return Ll(t),t.headers=Ut.from(t.headers),t.data=Dl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ky.getAdapter(t.adapter||Ra.adapter)(t).then(function(n){return Ll(t),n.data=Dl.call(t,t.transformResponse,n),n.headers=Ut.from(n.headers),n},function(n){return Ly(n)||(Ll(t),n&&n.response&&(n.response.data=Dl.call(t,t.transformResponse,n.response),n.response.headers=Ut.from(n.response.headers))),Promise.reject(n)})}const Gy="1.7.7",uh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{uh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const T0={};uh.transitional=function(e,r,n){function i(o,a){return"[Axios v"+Gy+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return(o,a,s)=>{if(e===!1)throw new X(i(a," has been removed"+(r?" in "+r:"")),X.ERR_DEPRECATED);return r&&!T0[a]&&(T0[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,s):!0}};function GI(t,e,r){if(typeof t!="object")throw new X("options must be an object",X.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const s=t[o],c=s===void 0||a(s,o,t);if(c!==!0)throw new X("option "+o+" must be "+c,X.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new X("Unknown option "+o,X.ERR_BAD_OPTION)}}const od={assertOptions:GI,validators:uh},nn=od.validators;class Jn{constructor(e){this.defaults=e,this.interceptors={request:new y0,response:new y0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=li(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&od.assertOptions(n,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),i!=null&&(T.isFunction(i)?r.paramsSerializer={serialize:i}:od.assertOptions(i,{encode:nn.function,serialize:nn.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&T.merge(o.common,o[r.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),r.headers=Ut.concat(a,o);const s=[];let c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,s.unshift(g.fulfilled,g.rejected))});const l=[];this.interceptors.response.forEach(function(g){l.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!c){const p=[I0.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,l),f=p.length,u=Promise.resolve(r);d<f;)u=u.then(p[d++],p[d++]);return u}f=s.length;let h=r;for(d=0;d<f;){const p=s[d++],g=s[d++];try{h=p(h)}catch(y){g.call(this,y);break}}try{u=I0.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=l.length;d<f;)u=u.then(l[d++],l[d++]);return u}getUri(e){e=li(this.defaults,e);const r=Fy(e.baseURL,e.url);return by(r,e.params,e.paramsSerializer)}}T.forEach(["delete","get","head","options"],function(e){Jn.prototype[e]=function(r,n){return this.request(li(n||{},{method:e,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(e){function r(n){return function(o,a,s){return this.request(li(s||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Jn.prototype[e]=r(),Jn.prototype[e+"Form"]=r(!0)});class dh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(s=>{n.subscribe(s),o=s}).then(i);return a.cancel=function(){n.unsubscribe(o)},a},e(function(o,a,s){n.reason||(n.reason=new po(o,a,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new dh(function(i){e=i}),cancel:e}}}function VI(t){return function(r){return t.apply(null,r)}}function jI(t){return T.isObject(t)&&t.isAxiosError===!0}const ad={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ad).forEach(([t,e])=>{ad[e]=t});function Vy(t){const e=new Jn(t),r=Ey(Jn.prototype.request,e);return T.extend(r,Jn.prototype,e,{allOwnKeys:!0}),T.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Vy(li(t,i))},r}const He=Vy(Ra);He.Axios=Jn;He.CanceledError=po;He.CancelToken=dh;He.isCancel=Ly;He.VERSION=Gy;He.toFormData=Xc;He.AxiosError=X;He.Cancel=He.CanceledError;He.all=function(e){return Promise.all(e)};He.spread=VI;He.isAxiosError=jI;He.mergeConfig=li;He.AxiosHeaders=Ut;He.formToJSON=t=>Dy(T.isHTMLForm(t)?new FormData(t):t);He.getAdapter=Ky.getAdapter;He.HttpStatusCode=ad;He.default=He;function WI(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function $I(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var XI=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(i[a]=o[a])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YI=function(t){XI(e,t);function e(r,n){var i=this.constructor,o=t.call(this,r,n)||this;return Object.defineProperty(o,"name",{value:i.name,enumerable:!1,configurable:!0}),WI(o,i.prototype),$I(o),o}return e}(Error),qI=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ht=function(t){qI(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(YI),QI=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lr=function(t){QI(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(Ht),ZI=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),W=function(t){ZI(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(Ht),JI=function(){function t(e){if(this.binarizer=e,e===null)throw new W("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var o=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}(),eT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ot=function(t){eT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(Ht),tT=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),Ee=function(){function t(){}return t.arraycopy=function(e,r,n,i,o){for(;o--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}(),rT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fh=function(t){rT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(Ht),nT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),R0=function(t){nT(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(fh),iT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ye=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var o=r;o<n;o++)e[o]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new W("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new R0(r);if(n>e)throw new R0(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(o){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var o=iT(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=31*i+s}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,o=new Int32Array(i);return Ee.arraycopy(e,r,o,0,i),o},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=n(r,e[a]);if(s>0)i=a+1;else if(s<0)o=a-1;else return a}return-i-1},t.numberComparator=function(e,r){return e-r},t}(),ee=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),at=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);Ee.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=n[i]}var s=i*32+ee.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),o=~n[i];o&=~((1<<(e&31))-1);for(var a=n.length;o===0;){if(++i===a)return r;o=~n[i]}var s=i*32+ee.numberOfTrailingZeros(o);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new W;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),o=this.bits,a=n;a<=i;a++){var s=a>n?0:e&31,c=a<i?31:r&31,l=(2<<c)-(1<<s);o[a]|=l}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new W;if(r===e)return!0;r--;for(var i=Math.floor(e/32),o=Math.floor(r/32),a=this.bits,s=i;s<=o;s++){var c=s>i?0:e&31,l=s<o?31:r&31,u=(2<<l)-(1<<c)&4294967295;if((a[s]&u)!==(n?u:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new W("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new W("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var o=0;o<i;o++){for(var a=0,s=0;s<8;s++)this.get(e)&&(a|=1<<7-s),e++;r[n+o]=a}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,o=0;o<n;o++){var a=i[o];a=a>>1&1431655765|(a&1431655765)<<1,a=a>>2&858993459|(a&858993459)<<2,a=a>>4&252645135|(a&252645135)<<4,a=a>>8&16711935|(a&16711935)<<8,a=a>>16&65535|(a&65535)<<16,e[r-o]=a}if(this.size!==n*32){for(var s=n*32-this.size,c=e[0]>>>s,o=1;o<n;o++){var l=e[o];c|=l<<32-s,e[o-1]=c,c=l>>>s}e[n-1]=c}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&Ye.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+Ye.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t.prototype.toArray=function(){for(var e=[],r=0,n=this.size;r<n;r++)e.push(this.get(r));return e},t}(),sd;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",t[t.ASSUME_GS1=8]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(sd||(sd={}));const Re=sd;var oT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L=function(t){oT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(Ht),aT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fe;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(fe||(fe={}));var Xe=function(){function t(e,r,n){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var c=this.values,l=0,u=c.length;l!==u;l++){var d=c[l];t.VALUES_TO_ECI.set(d,this)}try{for(var f=aT(a),h=f.next();!h.done;h=f.next()){var p=h.value;t.NAME_TO_ECI.set(p,this)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new L("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new L("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new L("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(fe.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(fe.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(fe.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(fe.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(fe.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(fe.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(fe.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(fe.Big5,28,"Big5"),t.GB18030=new t(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(fe.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),sT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_s=function(t){sT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(Ht),ir=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Xe?e:Xe.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Xe.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _s("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Xe.UTF8)||e.equals(Xe.ISO8859_1)||e.equals(Xe.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],o=0;o<n.length;o++)i.push(n[o].charCodeAt(0));return new Uint8Array(i)},t}(),ne=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return ir.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(Re.CHARACTER_SET)!==void 0)return r.get(Re.CHARACTER_SET).toString();for(var n=e.length,i=!0,o=!0,a=!0,s=0,c=0,l=0,u=0,d=0,f=0,h=0,p=0,g=0,y=0,m=0,v=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,C=0;C<n&&(i||o||a);C++){var E=e[C]&255;a&&(s>0?E&128?s--:a=!1:E&128&&(E&64?(s++,E&32?(s++,E&16?(s++,E&8?a=!1:u++):l++):c++):a=!1)),i&&(E>127&&E<160?i=!1:E>159&&(E<192||E===215||E===247)&&m++),o&&(d>0?E<64||E===127||E>252?o=!1:d--:E===128||E===160||E>239?o=!1:E>160&&E<224?(f++,p=0,h++,h>g&&(g=h)):E>127?(d++,h=0,p++,p>y&&(y=p)):(h=0,p=0))}return a&&s>0&&(a=!1),o&&d>0&&(o=!1),a&&(v||c+l+u>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||y>=3)?t.SHIFT_JIS:i&&o?g===2&&f===2||m*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function o(s,c,l,u,d,f){if(s==="%%")return"%";if(r[++i]!==void 0){s=u?parseInt(u.substr(1)):void 0;var h=d?parseInt(d.substr(1)):void 0,p;switch(f){case"s":p=r[i];break;case"c":p=r[i][0];break;case"f":p=parseFloat(r[i]).toFixed(s);break;case"p":p=parseFloat(r[i]).toPrecision(s);break;case"e":p=parseFloat(r[i]).toExponential(s);break;case"x":p=parseInt(r[i]).toString(h||16);break;case"d":p=parseFloat(parseInt(r[i],h||10).toPrecision(s)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var g=parseInt(l),y=l&&l[0]+""=="0"?"0":" ";p.length<g;)p=c!==void 0?p+y:y+p;return p}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,o)},t.getBytes=function(e,r){return ir.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=Xe.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=Xe.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=Xe.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),Z=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substring(0,e)+r+this.value.substring(e)},t}(),Br=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new W("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,r,n){if(e===null)throw new W("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,c=0,l=0;l<e.length;)if(e.charAt(l)===`
`||e.charAt(l)==="\r"){if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new W("row lengths do not match");a=o,c++}l++}else if(e.substring(l,l+r.length)===r)l+=r.length,i[o]=!0,o++;else if(e.substring(l,l+n.length)===n)l+=n.length,i[o]=!1,o++;else throw new W("illegal character encountered: "+e.substring(l));if(o>a){if(s===-1)s=o-a;else if(o-a!==s)throw new W("row lengths do not match");c++}for(var u=new t(s,c),d=0;d<o;d++)i[d]&&u.set(Math.floor(d%s),Math.floor(d/s));return u},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new W("input matrix dimensions do not match");for(var r=new at(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,o=0,a=this.height;o<a;o++)for(var s=o*n,c=e.getRow(o,r).getBitArray(),l=0;l<n;l++)i[s+l]^=c[l]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new W("Left and top must be nonnegative");if(i<1||n<1)throw new W("Height and width must be at least 1");var o=e+n,a=r+i;if(a>this.height||o>this.width)throw new W("The region must fit inside the matrix");for(var s=this.rowSize,c=this.bits,l=r;l<a;l++)for(var u=l*s,d=e;d<o;d++)c[u+Math.floor(d/32)]|=1<<(d&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new at(this.width):r.clear();for(var n=this.rowSize,i=this.bits,o=e*n,a=0;a<n;a++)r.setBulk(a*32,i[o+a]);return r},t.prototype.setRow=function(e,r){Ee.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new at(e),i=new at(e),o=0,a=Math.floor((r+1)/2);o<a;o++)n=this.getRow(o,n),i=this.getRow(r-1-o,i),n.reverse(),i.reverse(),this.setRow(o,i),this.setRow(r-1-o,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,o=e,a=r,s=-1,c=-1,l=0;l<r;l++)for(var u=0;u<n;u++){var d=i[l*n+u];if(d!==0){if(l<a&&(a=l),l>c&&(c=l),u*32<o){for(var f=0;!(d<<31-f&4294967295);)f++;u*32+f<o&&(o=u*32+f)}if(u*32+31>s){for(var f=31;!(d>>>f);)f--;u*32+f>s&&(s=u*32+f)}}}return s<o||c<a?null:Int32Array.from([o,a,s-o+1,c-a+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,o=n%e*32,a=r[n],s=0;!(a<<31-s&4294967295);)s++;return o+=s,Int32Array.from([o,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),o=Math.floor(n%e)*32,a=r[n],s=31;!(a>>>s);)s--;return o+=s,Int32Array.from([o,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&Ye.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Ye.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new Z,o=0,a=this.height;o<a;o++){for(var s=0,c=this.width;s<c;s++)i.append(this.get(s,o)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),cT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),N=function(t){cT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Ht),lT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),uT=function(t){lT(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),o=i.getWidth();n==null||n.getSize()<o?n=new at(o):n.clear(),this.initArrays(o);for(var a=i.getRow(r,this.luminances),s=this.buckets,c=0;c<o;c++)s[(a[c]&255)>>e.LUMINANCE_SHIFT]++;var l=e.estimateBlackPoint(s);if(o<3)for(var c=0;c<o;c++)(a[c]&255)<l&&n.set(c);else for(var u=a[0]&255,d=a[1]&255,c=1;c<o-1;c++){var f=a[c+1]&255;(d*4-u-f)/2<l&&n.set(c),u=d,d=f}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),o=new Br(n,i);this.initArrays(n);for(var a=this.buckets,s=1;s<5;s++)for(var c=Math.floor(i*s/5),l=r.getRow(c,this.luminances),u=Math.floor(n*4/5),d=Math.floor(n/5);d<u;d++){var f=l[d]&255;a[f>>e.LUMINANCE_SHIFT]++}for(var h=e.estimateBlackPoint(a),p=r.getMatrix(),s=0;s<i;s++)for(var g=s*n,d=0;d<n;d++){var f=p[g+d]&255;f<h&&o.set(d,s)}return o},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,o=0,a=0,s=0;s<n;s++)r[s]>a&&(o=s,a=r[s]),r[s]>i&&(i=r[s]);for(var c=0,l=0,s=0;s<n;s++){var u=s-o,d=r[s]*u*u;d>l&&(c=s,l=d)}if(o>c){var f=o;o=c,c=f}if(c-o<=n/16)throw new N;for(var h=c-1,p=-1,s=c-1;s>o;s--){var g=s-o,d=g*g*(c-s)*(i-r[s]);d>p&&(h=s,p=d)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(tT),dT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fT=function(t){dT(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=r.getMatrix(),a=n>>e.BLOCK_SIZE_POWER;n&e.BLOCK_SIZE_MASK&&a++;var s=i>>e.BLOCK_SIZE_POWER;i&e.BLOCK_SIZE_MASK&&s++;var c=e.calculateBlackPoints(o,a,s,n,i),l=new Br(n,i);e.calculateThresholdForBlock(o,a,s,n,i,c,l),this.matrix=l}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,o,a,s,c){for(var l=a-e.BLOCK_SIZE,u=o-e.BLOCK_SIZE,d=0;d<i;d++){var f=d<<e.BLOCK_SIZE_POWER;f>l&&(f=l);for(var h=e.cap(d,2,i-3),p=0;p<n;p++){var g=p<<e.BLOCK_SIZE_POWER;g>u&&(g=u);for(var y=e.cap(p,2,n-3),m=0,v=-2;v<=2;v++){var C=s[h+v];m+=C[y-2]+C[y-1]+C[y]+C[y+1]+C[y+2]}var E=m/25;e.thresholdBlock(r,g,f,E,o,c)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,o,a,s){for(var c=0,l=i*a+n;c<e.BLOCK_SIZE;c++,l+=a)for(var u=0;u<e.BLOCK_SIZE;u++)(r[l+u]&255)<=o&&s.set(n+u,i+c)},e.calculateBlackPoints=function(r,n,i,o,a){for(var s=a-e.BLOCK_SIZE,c=o-e.BLOCK_SIZE,l=new Array(i),u=0;u<i;u++){l[u]=new Int32Array(n);var d=u<<e.BLOCK_SIZE_POWER;d>s&&(d=s);for(var f=0;f<n;f++){var h=f<<e.BLOCK_SIZE_POWER;h>c&&(h=c);for(var p=0,g=255,y=0,m=0,v=d*o+h;m<e.BLOCK_SIZE;m++,v+=o){for(var C=0;C<e.BLOCK_SIZE;C++){var E=r[v+C]&255;p+=E,E<g&&(g=E),E>y&&(y=E)}if(y-g>e.MIN_DYNAMIC_RANGE)for(m++,v+=o;m<e.BLOCK_SIZE;m++,v+=o)for(var C=0;C<e.BLOCK_SIZE;C++)p+=r[v+C]&255}var A=p>>e.BLOCK_SIZE_POWER*2;if(y-g<=e.MIN_DYNAMIC_RANGE&&(A=g/2,u>0&&f>0)){var _=(l[u-1][f]+2*l[u][f-1]+l[u-1][f-1])/4;g<_&&(A=_)}l[u][f]=A}}return l},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(uT),qc=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new _s("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new _s("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new _s("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new Z,n=0;n<this.height;n++){for(var i=this.getRow(n,e),o=0;o<this.width;o++){var a=i[o]&255,s=void 0;a<64?s="#":a<128?s="+":a<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}(),hT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),hh=function(t){hT(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),o=this.getWidth(),a=0;a<o;a++)i[a]=255-(i[a]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),o=0;o<n;o++)i[o]=255-(r[o]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,o){return new e(this.delegate.crop(r,n,i,o))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(qc),pT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gT=function(t){pT(e,t);function e(r,n){n===void 0&&(n=!1);var i=t.call(this,r.width,r.height)||this;return i.canvas=r,i.tempCanvasElement=null,i.buffer=e.makeBufferFromCanvasImageData(r,n),i}return e.makeBufferFromCanvasImageData=function(r,n){n===void 0&&(n=!1);var i=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height,n)},e.toGrayscaleBuffer=function(r,n,i,o){o===void 0&&(o=!1);var a=new Uint8ClampedArray(n*i);if(e.FRAME_INDEX=!e.FRAME_INDEX,e.FRAME_INDEX||!o)for(var s=0,c=0,l=r.length;s<l;s+=4,c++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[c]=u}else for(var s=0,c=0,g=r.length;s<g;s+=4,c++){var u=void 0,d=r[s+3];if(d===0)u=255;else{var f=r[s],h=r[s+1],p=r[s+2];u=306*f+601*h+117*p+512>>10}a[c]=255-u}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new W("Requested row is outside the image: "+r);var i=this.getWidth(),o=r*i;return n===null?n=this.buffer.slice(o,o+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(o,o+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return t.prototype.crop.call(this,r,n,i,o),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),o=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,s=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(o))*a+Math.abs(Math.sin(o))*s),l=Math.ceil(Math.abs(Math.sin(o))*a+Math.abs(Math.cos(o))*s);return n.width=c,n.height=l,i.translate(c/2,l/2),i.rotate(o),i.drawImage(this.canvas,a/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new hh(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e.FRAME_INDEX=!0,e}(qc),vT=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),xt=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function s(u){try{l(n.next(u))}catch(d){a(d)}}function c(u){try{l(n.throw(u))}catch(d){a(d)}}function l(u){u.done?o(u.value):i(u.value).then(s,c)}l((n=n.apply(t,e||[])).next())})},St=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},mT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},go=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return xt(this,void 0,void 0,function(){var e,r,n,i,o,a,s,c,l,u,d,f;return St(this,function(h){switch(h.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=h.sent(),r=[];try{for(n=mT(e),i=n.next();!i.done;i=n.next())o=i.value,a=o.kind==="video"?"videoinput":o.kind,a==="videoinput"&&(s=o.deviceId||o.id,c=o.label||"Video device "+(r.length+1),l=o.groupId,u={deviceId:s,label:c,kind:a,groupId:l},r.push(u))}catch(p){d={error:p}}finally{try{i&&!i.done&&(f=n.return)&&f.call(n)}finally{if(d)throw d.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return xt(this,void 0,void 0,function(){var e;return St(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new vT(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return xt(this,void 0,void 0,function(){var r;return St(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return xt(this,void 0,void 0,function(){return St(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return xt(this,void 0,void 0,function(){var n,i;return St(this,function(o){switch(o.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,o.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return xt(this,void 0,void 0,function(){var n;return St(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return xt(this,void 0,void 0,function(){var n,i;return St(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=o.sent(),[4,this.decodeOnce(n)];case 2:return i=o.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return xt(this,void 0,void 0,function(){return St(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return xt(this,void 0,void 0,function(){var i,o;return St(this,function(a){switch(a.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},o={video:i},[4,this.decodeFromConstraints(o,r,n)];case 1:return[2,a.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return xt(this,void 0,void 0,function(){var i;return St(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=o.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,o.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return xt(this,void 0,void 0,function(){var i;return St(this,function(o){switch(o.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=o.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,o.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return xt(this,void 0,void 0,function(){var n;return St(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return xt(this,void 0,void 0,function(){return St(this,function(r){switch(r.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[3,4];case 3:return r.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new lr("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new lr("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new lr("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new lr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new lr("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new lr("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new lr("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new lr("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new lr("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new lr("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return xt(this,void 0,void 0,function(){return St(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return xt(this,void 0,void 0,function(){return St(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var o=function(a,s){if(i._stopAsyncDecode){s(new N("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var c=i.decode(e);a(c)}catch(f){var l=r&&f instanceof N,u=f instanceof ot||f instanceof L,d=u&&n;if(l||d)return setTimeout(o,i._timeBetweenDecodingAttempts,a,s);s(f)}};return new Promise(function(a,s){return o(a,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var o=n.decode(e);r(o,null),setTimeout(i,n.timeBetweenScansMillis)}catch(c){r(null,c);var a=c instanceof ot||c instanceof L,s=c instanceof N;(a||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype.createBinaryBitmap=function(e){this.getCaptureCanvasContext(e);var r=!1;e instanceof HTMLVideoElement?(this.drawFrameOnCanvas(e),r=!0):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new gT(n,r),o=new fT(i);return new JI(o)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}(),At=function(){function t(e,r,n,i,o,a){n===void 0&&(n=r==null?0:8*r.length),a===void 0&&(a=Ee.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=o,this.resultMetadata=null,a==null?this.timestamp=Ee.currentTimeMillis():this.timestamp=a}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);Ee.arraycopy(r,0,n,0,r.length),Ee.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}(),cd;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cd||(cd={}));const j=cd;var ld;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ld||(ld={}));const ft=ld;var Qc=function(){function t(e,r,n,i,o,a){o===void 0&&(o=-1),a===void 0&&(a=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),bo=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new W;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}(),In=function(){function t(e,r){if(r.length===0)throw new W;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),Ee.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,o=r.length;i!==o;i++){var a=r[i];n=bo.addOrSubtract(n,a)}return n}n=r[0];for(var s=r.length,c=this.field,i=1;i<s;i++)n=bo.addOrSubtract(c.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new W("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ee.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=bo.addOrSubtract(r[s-a],n[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new W("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=this.field,c=0;c<n;c++)for(var l=r[c],u=0;u<o;u++)a[c+u]=bo.addOrSubtract(a[c+u],s.multiply(l,i[u]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),o=this.coefficients,a=0;a<r;a++)i[a]=n.multiply(o[a],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new W;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(n[s],r);return new t(a,o)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new W("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new W("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,o=e.getCoefficient(e.getDegree()),a=r.inverse(o);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),c=r.multiply(i.getCoefficient(i.getDegree()),a),l=e.multiplyByMonomial(s,c),u=r.buildMonomial(s,c);n=n.addOrSubtract(u),i=i.addOrSubtract(l)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}(),yT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jy=function(t){yT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(Ht),CT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bt=function(t){CT(e,t);function e(r,n,i){var o=t.call(this)||this;o.primitive=r,o.size=n,o.generatorBase=i;for(var a=new Int32Array(n),s=1,c=0;c<n;c++)a[c]=s,s*=2,s>=n&&(s^=r,s&=n-1);o.expTable=a;for(var l=new Int32Array(n),c=0;c<n-1;c++)l[a[c]]=c;return o.logTable=l,o.zero=new In(o,Int32Array.from([0])),o.one=new In(o,Int32Array.from([1])),o}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new W;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new In(this,i)},e.prototype.inverse=function(r){if(r===0)throw new jy;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+ee.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(bo),wT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ns=function(t){wT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(Ht),ET=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Oa=function(t){ET(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(Ht),Zc=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new In(n,e),o=new Int32Array(r),a=!0,s=0;s<r;s++){var c=i.evaluateAt(n.exp(s+n.getGeneratorBase()));o[o.length-1-s]=c,c!==0&&(a=!1)}if(!a)for(var l=new In(n,o),u=this.runEuclideanAlgorithm(n.buildMonomial(r,1),l,r),d=u[0],f=u[1],h=this.findErrorLocations(d),p=this.findErrorMagnitudes(f,h),s=0;s<h.length;s++){var g=e.length-1-n.log(h[s]);if(g<0)throw new ns("Bad error location");e[g]=bt.addOrSubtract(e[g],p[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=this.field,a=e,s=r,c=o.getZero(),l=o.getOne();s.getDegree()>=(n/2|0);){var u=a,d=c;if(a=s,c=l,a.isZero())throw new ns("r_{i-1} was zero");s=u;for(var f=o.getZero(),h=a.getCoefficient(a.getDegree()),p=o.inverse(h);s.getDegree()>=a.getDegree()&&!s.isZero();){var g=s.getDegree()-a.getDegree(),y=o.multiply(s.getCoefficient(s.getDegree()),p);f=f.addOrSubtract(o.buildMonomial(g,y)),s=s.addOrSubtract(a.multiplyByMonomial(g,y))}if(l=f.multiply(c).addOrSubtract(d),s.getDegree()>=a.getDegree())throw new Oa("Division algorithm failed to reduce polynomial?")}var m=l.getCoefficient(0);if(m===0)throw new ns("sigmaTilde(0) was zero");var v=o.inverse(m),C=l.multiplyScalar(v),E=s.multiplyScalar(v);return[C,E]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,o=this.field,a=1;a<o.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=o.inverse(a),i++);if(i!==r)throw new ns("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),o=this.field,a=0;a<n;a++){for(var s=o.inverse(r[a]),c=1,l=0;l<n;l++)if(a!==l){var u=o.multiply(r[l],s),d=u&1?u&-2:u|1;c=o.multiply(c,d)}i[a]=o.multiply(e.evaluateAt(s),o.inverse(c)),o.getGeneratorBase()!==0&&(i[a]=o.multiply(i[a],s))}return i},t}(),lt;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(lt||(lt={}));var O0=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new Qc(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=lt.UPPER,i=lt.UPPER,o="",a=0;a<r;)if(i===lt.BINARY){if(r-a<5)break;var s=t.readCode(e,a,5);if(a+=5,s===0){if(r-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var c=0;c<s;c++){if(r-a<8){a=r;break}var l=t.readCode(e,a,8);o+=ne.castAsNonUtf8Char(l),a+=8}i=n}else{var u=i===lt.DIGIT?4:5;if(r-a<u)break;var l=t.readCode(e,a,u);a+=u;var d=t.getCharacter(i,l);d.startsWith("CTRL_")?(n=i,i=t.getTable(d.charAt(5)),d.charAt(6)==="L"&&(n=i)):(o+=d,i=n)}return o},t.getTable=function(e){switch(e){case"L":return lt.LOWER;case"P":return lt.PUNCT;case"M":return lt.MIXED;case"D":return lt.DIGIT;case"B":return lt.BINARY;case"U":default:return lt.UPPER}},t.getCharacter=function(e,r){switch(e){case lt.UPPER:return t.UPPER_TABLE[r];case lt.LOWER:return t.LOWER_TABLE[r];case lt.MIXED:return t.MIXED_TABLE[r];case lt.PUNCT:return t.PUNCT_TABLE[r];case lt.DIGIT:return t.DIGIT_TABLE[r];default:throw new Oa("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=bt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=bt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=bt.AZTEC_DATA_10):(n=12,r=bt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/n;if(o<i)throw new L;for(var a=e.length%n,s=new Int32Array(o),c=0;c<o;c++,a+=n)s[c]=t.readCode(e,a,n);try{var l=new Zc(r);l.decode(s,o-i)}catch(y){throw new L(y)}for(var u=(1<<n)-1,d=0,c=0;c<i;c++){var f=s[c];if(f===0||f===u)throw new L;(f===1||f===u-1)&&d++}for(var h=new Array(i*n-d),p=0,c=0;c<i;c++){var f=s[c];if(f===1||f===u-1)h.fill(f>1,p,p+n-1),p+=n-1;else for(var g=n-1;g>=0;--g)h[p++]=(f&1<<g)!==0}return h},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,o=new Int32Array(i),a=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<o.length;s++)o[s]=s;else for(var c=i+1+2*ee.truncDivision(ee.truncDivision(i,2)-1,15),l=i/2,u=ee.truncDivision(c,2),s=0;s<l;s++){var d=s+ee.truncDivision(s,15);o[l-s-1]=u-d-1,o[l+s]=u+d+1}for(var s=0,f=0;s<n;s++){for(var h=(n-s)*4+(r?9:12),p=s*2,g=i-1-p,y=0;y<h;y++)for(var m=y*2,v=0;v<2;v++)a[f+m+v]=e.get(o[p+v],o[p+y]),a[f+2*h+m+v]=e.get(o[p+y],o[g-v]),a[f+4*h+m+v]=e.get(o[g-v],o[g-y]),a[f+6*h+m+v]=e.get(o[g-y],o[p+v]);f+=h*8}return a},t.readCode=function(e,r,n){for(var i=0,o=r;o<r+n;o++)i<<=1,e[o]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),se=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var o=e-n,a=r-i;return Math.sqrt(o*o+a*a)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var o=e[n];r+=o}return r},t}(),ud=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),K=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*ud.floatToIntBits(this.x)+ud.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),o,a,s;if(n>=r&&n>=i?(a=e[0],o=e[1],s=e[2]):i>=n&&i>=r?(a=e[1],o=e[0],s=e[2]):(a=e[2],o=e[0],s=e[1]),this.crossProductZ(o,a,s)<0){var c=o;o=s,s=c}e[0]=o,e[1]=a,e[2]=s},t.distance=function(e,r){return se.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,o=r.y;return(n.x-i)*(e.y-o)-(n.y-o)*(e.x-i)},t}(),ph=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),AT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_T=function(t){AT(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(ph),dd=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var o=r/2|0;if(this.leftInit=n-o,this.rightInit=n+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new N}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,o=!1,a=!0,s=!1,c=!1,l=!1,u=!1,d=!1,f=this.width,h=this.height;a;){a=!1;for(var p=!0;(p||!c)&&r<f;)p=this.containsBlackPoint(n,i,r,!1),p?(r++,a=!0,c=!0):c||r++;if(r>=f){o=!0;break}for(var g=!0;(g||!l)&&i<h;)g=this.containsBlackPoint(e,r,i,!0),g?(i++,a=!0,l=!0):l||i++;if(i>=h){o=!0;break}for(var y=!0;(y||!u)&&e>=0;)y=this.containsBlackPoint(n,i,e,!1),y?(e--,a=!0,u=!0):u||e--;if(e<0){o=!0;break}for(var m=!0;(m||!d)&&n>=0;)m=this.containsBlackPoint(e,r,n,!0),m?(n--,a=!0,d=!0):d||n--;if(n<0){o=!0;break}a&&(s=!0)}if(!o&&s){for(var v=r-e,C=null,E=1;C===null&&E<v;E++)C=this.getBlackPointOnSegment(e,i-E,e+E,i);if(C==null)throw new N;for(var A=null,E=1;A===null&&E<v;E++)A=this.getBlackPointOnSegment(e,n+E,e+E,n);if(A==null)throw new N;for(var _=null,E=1;_===null&&E<v;E++)_=this.getBlackPointOnSegment(r,n+E,r-E,n);if(_==null)throw new N;for(var x=null,E=1;x===null&&E<v;E++)x=this.getBlackPointOnSegment(r,i-E,r-E,i);if(x==null)throw new N;return this.centerEdges(x,C,_,A)}else throw new N},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var o=se.round(se.distance(e,r,n,i)),a=(n-e)/o,s=(i-r)/o,c=this.image,l=0;l<o;l++){var u=se.round(e+l*a),d=se.round(r+l*s);if(c.get(u,d))return new K(u,d)}return null},t.prototype.centerEdges=function(e,r,n,i){var o=e.getX(),a=e.getY(),s=r.getX(),c=r.getY(),l=n.getX(),u=n.getY(),d=i.getX(),f=i.getY(),h=t.CORR;return o<this.width/2?[new K(d-h,f+h),new K(s+h,c+h),new K(l-h,u-h),new K(o+h,a-h)]:[new K(d+h,f+h),new K(s+h,c-h),new K(l-h,u+h),new K(o-h,a-h)]},t.prototype.containsBlackPoint=function(e,r,n,i){var o=this.image;if(i){for(var a=e;a<=r;a++)if(o.get(a,n))return!0}else for(var s=e;s<=r;s++)if(o.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),N0=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),o=!0,a=0;a<r.length&&o;a+=2){var s=Math.floor(r[a]),c=Math.floor(r[a+1]);if(s<-1||s>n||c<-1||c>i)throw new N;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),c===-1?(r[a+1]=0,o=!0):c===i&&(r[a+1]=i-1,o=!0)}o=!0;for(var a=r.length-2;a>=0&&o;a-=2){var s=Math.floor(r[a]),c=Math.floor(r[a+1]);if(s<-1||s>n||c<-1||c>i)throw new N;o=!1,s===-1?(r[a]=0,o=!0):s===n&&(r[a]=n-1,o=!0),c===-1?(r[a+1]=0,o=!0):c===i&&(r[a+1]=i-1,o=!0)}},t}(),Wy=function(){function t(e,r,n,i,o,a,s,c,l){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=c,this.a33=l}return t.quadrilateralToQuadrilateral=function(e,r,n,i,o,a,s,c,l,u,d,f,h,p,g,y){var m=t.quadrilateralToSquare(e,r,n,i,o,a,s,c),v=t.squareToQuadrilateral(l,u,d,f,h,p,g,y);return v.times(m)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,c=this.a23,l=this.a31,u=this.a32,d=this.a33,f=0;f<r;f+=2){var h=e[f],p=e[f+1],g=o*h+c*p+d;e[f]=(n*h+a*p+l)/g,e[f+1]=(i*h+s*p+u)/g}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,o=this.a13,a=this.a21,s=this.a22,c=this.a23,l=this.a31,u=this.a32,d=this.a33,f=e.length,h=0;h<f;h++){var p=e[h],g=r[h],y=o*p+c*g+d;e[h]=(n*p+a*g+l)/y,r[h]=(i*p+s*g+u)/y}},t.squareToQuadrilateral=function(e,r,n,i,o,a,s,c){var l=e-n+o-s,u=r-i+a-c;if(l===0&&u===0)return new t(n-e,o-n,e,i-r,a-i,r,0,0,1);var d=n-o,f=s-o,h=i-a,p=c-a,g=d*p-f*h,y=(l*p-f*u)/g,m=(d*u-l*h)/g;return new t(n-e+y*n,s-e+m*s,e,i-r+y*i,c-r+m*c,r,y,m,1)},t.quadrilateralToSquare=function(e,r,n,i,o,a,s,c){return t.squareToQuadrilateral(e,r,n,i,o,a,s,c).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),xT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ST=function(t){xT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,o,a,s,c,l,u,d,f,h,p,g,y,m,v,C,E){var A=Wy.quadrilateralToQuadrilateral(o,a,s,c,l,u,d,f,h,p,g,y,m,v,C,E);return this.sampleGridWithTransform(r,n,i,A)},e.prototype.sampleGridWithTransform=function(r,n,i,o){if(n<=0||i<=0)throw new N;for(var a=new Br(n,i),s=new Float32Array(2*n),c=0;c<i;c++){for(var l=s.length,u=c+.5,d=0;d<l;d+=2)s[d]=d/2+.5,s[d+1]=u;o.transformPoints(s),N0.checkAndNudgePoints(r,s);try{for(var d=0;d<l;d+=2)r.get(Math.floor(s[d]),Math.floor(s[d+1]))&&a.set(d/2,c)}catch{throw new N}}return a},e}(N0),gh=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new ST,t}(),kt=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new K(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),IT=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var o=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),a=this.getMatrixCornerPoints(n);return new _T(o,a,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new N;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,o=0;o<4;o++){var a=n[(this.shift+o)%4];this.compact?(i<<=7,i+=a>>1&127):(i<<=10,i+=(a>>2&992)+(a>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(o,a,s){var c=(o>>r-2<<1)+(o&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(ee.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new N},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var o=n-i,a=new Int32Array(n),s=n-1;s>=0;--s)a[s]=e&15,e>>=4;try{var c=new Zc(bt.AZTEC_PARAM);c.decode(a,o)}catch{throw new N}for(var l=0,s=0;s<i;s++)l=(l<<4)+a[s];return l},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,o=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,a,1,-1),c=this.getFirstDifferent(n,a,1,1),l=this.getFirstDifferent(i,a,-1,1),u=this.getFirstDifferent(o,a,-1,-1);if(this.nbCenterLayers>2){var d=this.distancePoint(u,s)*this.nbCenterLayers/(this.distancePoint(o,r)*(this.nbCenterLayers+2));if(d<.75||d>1.25||!this.isWhiteOrBlackRectangle(s,c,l,u))break}r=s,n=c,i=l,o=u,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new N;this.compact=this.nbCenterLayers===5;var f=new K(r.getX()+.5,r.getY()-.5),h=new K(n.getX()+.5,n.getY()+.5),p=new K(i.getX()-.5,i.getY()+.5),g=new K(o.getX()-.5,o.getY()-.5);return this.expandSquare([f,h,p,g],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var o=new dd(this.image).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{var a=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new kt(a+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new kt(a-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new kt(a-7,s-7),!1,-1,-1).toResultPoint()}var c=se.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=se.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var o=new dd(this.image,15,c,l).detect();e=o[0],r=o[1],n=o[2],i=o[3]}catch{e=this.getFirstDifferent(new kt(c+7,l-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new kt(c+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new kt(c-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new kt(c-7,l-7),!1,-1,-1).toResultPoint()}return c=se.round((e.getX()+i.getX()+r.getX()+n.getX())/4),l=se.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new kt(c,l)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,o){var a=gh.getInstance(),s=this.getDimension(),c=s/2-this.nbCenterLayers,l=s/2+this.nbCenterLayers;return a.sampleGrid(e,s,s,c,c,l,c,l,l,c,l,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),o.getX(),o.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,o=this.distanceResultPoint(e,r),a=o/n,s=e.getX(),c=e.getY(),l=a*(r.getX()-e.getX())/o,u=a*(r.getY()-e.getY())/o,d=0;d<n;d++)this.image.get(se.round(s+d*l),se.round(c+d*u))&&(i|=1<<n-d-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var o=3;e=new kt(e.getX()-o,e.getY()+o),r=new kt(r.getX()-o,r.getY()-o),n=new kt(n.getX()+o,n.getY()-o),i=new kt(i.getX()+o,i.getY()+o);var a=this.getColor(i,e);if(a===0)return!1;var s=this.getColor(e,r);return s!==a||(s=this.getColor(r,n),s!==a)?!1:(s=this.getColor(n,i),s===a)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,o=(r.getY()-e.getY())/n,a=0,s=e.getX(),c=e.getY(),l=this.image.get(e.getX(),e.getY()),u=Math.ceil(n),d=0;d<u;d++)s+=i,c+=o,this.image.get(se.round(s),se.round(c))!==l&&a++;var f=a/n;return f>.1&&f<.9?0:f<=.1===l?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var o=e.getX()+n,a=e.getY()+i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n,a+=i;for(o-=n,a-=i;this.isValid(o,a)&&this.image.get(o,a)===r;)o+=n;for(o-=n;this.isValid(o,a)&&this.image.get(o,a)===r;)a+=i;return a-=i,new kt(o,a)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),o=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,c=(e[0].getY()+e[2].getY())/2,l=new K(s+i*o,c+i*a),u=new K(s-i*o,c-i*a);o=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,c=(e[1].getY()+e[3].getY())/2;var d=new K(s+i*o,c+i*a),f=new K(s-i*o,c-i*a),h=[l,d,u,f];return h},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=se.round(e.getX()),n=se.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ee.truncDivision(this.nbLayers-4,8)+1)+15},t}(),fd=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new IT(e.getBlackMatrix()),o=null,a=null;try{var s=i.detectMirror(!1);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new O0().decode(s)}catch(d){n=d}if(a==null)try{var s=i.detectMirror(!0);o=s.getPoints(),this.reportFoundResultPoints(r,o),a=new O0().decode(s)}catch(d){throw n??d}var c=new At(a.getText(),a.getRawBytes(),a.getNumBits(),o,j.AZTEC,Ee.currentTimeMillis()),l=a.getByteSegments();l!=null&&c.putMetadata(ft.BYTE_SEGMENTS,l);var u=a.getECLevel();return u!=null&&c.putMetadata(ft.ERROR_CORRECTION_LEVEL,u),c},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(Re.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,o,a){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}(),TT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){TT(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new fd,r)||this}return e})(go);var Qe=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(Re.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),o=this.doDecode(i,r),a=o.getResultMetadata(),s=270;a!==null&&a.get(ft.ORIENTATION)===!0&&(s=s+a.get(ft.ORIENTATION)%360),o.putMetadata(ft.ORIENTATION,s);var c=o.getResultPoints();if(c!==null)for(var l=i.getHeight(),u=0;u<c.length;u++)c[u]=new K(l-c[u].getY()-1,c[u].getX());return o}else throw new N}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),o=new at(n),a=r&&r.get(Re.TRY_HARDER)===!0,s=Math.max(1,i>>(a?8:5)),c;a?c=i:c=15;for(var l=Math.trunc(i/2),u=0;u<c;u++){var d=Math.trunc((u+1)/2),f=(u&1)===0,h=l+s*(f?d:-d);if(h<0||h>=i)break;try{o=e.getBlackRow(h,o)}catch{continue}for(var p=function(v){if(v===1&&(o.reverse(),r&&r.get(Re.NEED_RESULT_POINT_CALLBACK)===!0)){var C=new Map;r.forEach(function(_,x){return C.set(x,_)}),C.delete(Re.NEED_RESULT_POINT_CALLBACK),r=C}try{var E=g.decodeRow(h,o,r);if(v===1){E.putMetadata(ft.ORIENTATION,180);var A=E.getResultPoints();A!==null&&(A[0]=new K(n-A[0].getX()-1,A[0].getY()),A[1]=new K(n-A[1].getX()-1,A[1].getY()))}return{value:E}}catch{}},g=this,y=0;y<2;y++){var m=p(y);if(typeof m=="object")return m.value}}throw new N},t.recordPattern=function(e,r,n){for(var i=n.length,o=0;o<i;o++)n[o]=0;var a=e.getSize();if(r>=a)throw new N;for(var s=!e.get(r),c=0,l=r;l<a;){if(e.get(l)!==s)n[c]++;else{if(++c===i)break;n[c]=1,s=!s}l++}if(!(c===i||c===i-1&&l===a))throw new N},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,o=e.get(r);r>0&&i>=0;)e.get(--r)!==o&&(i--,o=!o);if(i>=0)throw new N;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return Number.POSITIVE_INFINITY;var c=o/a;n*=c;for(var l=0,u=0;u<i;u++){var d=e[u],f=r[u]*c,h=d>f?d-f:f-d;if(h>n)return Number.POSITIVE_INFINITY;l+=h}return l/o},t}(),RT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),k0=function(t){RT(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),o=0,a=Int32Array.from([0,0,0,0,0,0]),s=i,c=!1,l=6,u=i;u<n;u++)if(r.get(u)!==c)a[o]++;else{if(o===l-1){for(var d=e.MAX_AVG_VARIANCE,f=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var p=Qe.patternMatchVariance(a,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);p<d&&(d=p,f=h)}if(f>=0&&r.isRange(Math.max(0,s-(u-s)/2),s,!1))return Int32Array.from([s,u,f]);s+=a[0]+a[1],a=a.slice(2,a.length),a[o-1]=0,a[o]=0,o--}else o++;a[o]=1,c=!c}throw new N},e.decodeCode=function(r,n,i){Qe.recordPattern(r,i,n);for(var o=e.MAX_AVG_VARIANCE,a=-1,s=0;s<e.CODE_PATTERNS.length;s++){var c=e.CODE_PATTERNS[s],l=this.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,a=s)}if(a>=0)return a;throw new N},e.prototype.decodeRow=function(r,n,i){var o=i&&i.get(Re.ASSUME_GS1)===!0,a=e.findStartPattern(n),s=a[2],c=0,l=new Uint8Array(20);l[c++]=s;var u;switch(s){case e.CODE_START_A:u=e.CODE_CODE_A;break;case e.CODE_START_B:u=e.CODE_CODE_B;break;case e.CODE_START_C:u=e.CODE_CODE_C;break;default:throw new L}for(var d=!1,f=!1,h="",p=a[0],g=a[1],y=Int32Array.from([0,0,0,0,0,0]),m=0,v=0,C=s,E=0,A=!0,_=!1,x=!1;!d;){var O=f;switch(f=!1,m=v,v=e.decodeCode(n,y,g),l[c++]=v,v!==e.CODE_STOP&&(A=!0),v!==e.CODE_STOP&&(E++,C+=E*v),p=g,g+=y.reduce(function(Dn,U){return Dn+U},0),v){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new L}switch(u){case e.CODE_CODE_A:if(v<64)x===_?h+=String.fromCharCode(32+v):h+=String.fromCharCode(32+v+128),x=!1;else if(v<96)x===_?h+=String.fromCharCode(v-64):h+=String.fromCharCode(v+64),x=!1;else switch(v!==e.CODE_STOP&&(A=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!_&&x?(_=!0,x=!1):_&&x?(_=!1,x=!1):x=!0;break;case e.CODE_SHIFT:f=!0,u=e.CODE_CODE_B;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_B:if(v<96)x===_?h+=String.fromCharCode(32+v):h+=String.fromCharCode(32+v+128),x=!1;else switch(v!==e.CODE_STOP&&(A=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!_&&x?(_=!0,x=!1):_&&x?(_=!1,x=!1):x=!0;break;case e.CODE_SHIFT:f=!0,u=e.CODE_CODE_A;break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_C:u=e.CODE_CODE_C;break;case e.CODE_STOP:d=!0;break}break;case e.CODE_CODE_C:if(v<100)v<10&&(h+="0"),h+=v;else switch(v!==e.CODE_STOP&&(A=!1),v){case e.CODE_FNC_1:o&&(h.length===0?h+="]C1":h+="");break;case e.CODE_CODE_A:u=e.CODE_CODE_A;break;case e.CODE_CODE_B:u=e.CODE_CODE_B;break;case e.CODE_STOP:d=!0;break}break}O&&(u=u===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var F=g-p;if(g=n.getNextUnset(g),!n.isRange(g,Math.min(n.getSize(),g+(g-p)/2),!1))throw new N;if(C-=E*m,C%103!==m)throw new ot;var M=h.length;if(M===0)throw new N;M>0&&A&&(u===e.CODE_CODE_C?h=h.substring(0,M-2):h=h.substring(0,M-1));for(var re=(a[1]+a[0])/2,Q=p+F/2,de=l.length,_t=new Uint8Array(de),_r=0;_r<de;_r++)_t[_r]=l[_r];var Mn=[new K(re,r),new K(Q,r)];return new At(h,_t,0,Mn,j.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(Qe),OT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P0=function(t){OT(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var o,a,s,c,l=this.counters;l.fill(0),this.decodeRowResult="";var u=e.findAsteriskPattern(n,l),d=n.getNextSet(u[1]),f=n.getSize(),h,p;do{e.recordPattern(n,d,l);var g=e.toNarrowWidePattern(l);if(g<0)throw new N;h=e.patternToChar(g),this.decodeRowResult+=h,p=d;try{for(var y=(o=void 0,Bl(l)),m=y.next();!m.done;m=y.next()){var v=m.value;d+=v}}catch(de){o={error:de}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}d=n.getNextSet(d)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var C=0;try{for(var E=Bl(l),A=E.next();!A.done;A=E.next()){var v=A.value;C+=v}}catch(de){s={error:de}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(s)throw s.error}}var _=d-p-C;if(d!==f&&_*2<C)throw new N;if(this.usingCheckDigit){for(var x=this.decodeRowResult.length-1,O=0,F=0;F<x;F++)O+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(F));if(this.decodeRowResult.charAt(x)!==e.ALPHABET_STRING.charAt(O%43))throw new ot;this.decodeRowResult=this.decodeRowResult.substring(0,x)}if(this.decodeRowResult.length===0)throw new N;var M;this.extendedMode?M=e.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;var re=(u[1]+u[0])/2,Q=p+C/2;return new At(M,null,0,[new K(re,r),new K(Q,r)],j.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),o=r.getNextSet(0),a=0,s=o,c=!1,l=n.length,u=o;u<i;u++)if(r.get(u)!==c)n[a]++;else{if(a===l-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((u-s)/2)),s,!1))return[s,u];s+=n[0]+n[1],n.copyWithin(0,2,2+a-1),n[a-1]=0,n[a]=0,a--}else a++;n[a]=1,c=!c}throw new N},e.toNarrowWidePattern=function(r){var n,i,o=r.length,a=0,s;do{var c=2147483647;try{for(var l=(n=void 0,Bl(r)),u=l.next();!u.done;u=l.next()){var d=u.value;d<c&&d>a&&(c=d)}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}a=c,s=0;for(var f=0,h=0,p=0;p<o;p++){var d=r[p];d>a&&(h|=1<<o-1-p,s++,f+=d)}if(s===3){for(var p=0;p<o&&s>0;p++){var d=r[p];if(d>a&&(s--,d*2>=f))return-1}return h}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new N},e.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a==="+"||a==="$"||a==="%"||a==="/"){var s=r.charAt(o+1),c="\0";switch(a){case"+":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)+32);else throw new L;break;case"$":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)-64);else throw new L;break;case"%":if(s>="A"&&s<="E")c=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")c=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")c=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")c="\0";else if(s==="V")c="@";else if(s==="W")c="`";else if(s==="X"||s==="Y"||s==="Z")c="";else throw new L;break;case"/":if(s>="A"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")c=":";else throw new L;break}i+=c,o++}else i+=a}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(Qe),NT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},b0=function(t){NT(e,t);function e(){var r=t.call(this)||this;return r.decodeRowResult="",r.counters=new Int32Array(6),r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,c,l=this.findAsteriskPattern(n),u=n.getNextSet(l[1]),d=n.getSize(),f=this.counters;f.fill(0),this.decodeRowResult="";var h,p;do{e.recordPattern(n,u,f);var g=this.toPattern(f);if(g<0)throw new N;h=this.patternToChar(g),this.decodeRowResult+=h,p=u;try{for(var y=(o=void 0,Fl(f)),m=y.next();!m.done;m=y.next()){var v=m.value;u+=v}}catch(F){o={error:F}}finally{try{m&&!m.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}u=n.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var C=0;try{for(var E=Fl(f),A=E.next();!A.done;A=E.next()){var v=A.value;C+=v}}catch(F){s={error:F}}finally{try{A&&!A.done&&(c=E.return)&&c.call(E)}finally{if(s)throw s.error}}if(u===d||!n.get(u))throw new N;if(this.decodeRowResult.length<2)throw new N;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var _=this.decodeExtended(this.decodeRowResult),x=(l[1]+l[0])/2,O=p+C/2;return new At(_,null,0,[new K(x,r),new K(O,r)],j.CODE_93,new Date().getTime())},e.prototype.findAsteriskPattern=function(r){var n=r.getSize(),i=r.getNextSet(0);this.counters.fill(0);for(var o=this.counters,a=i,s=!1,c=o.length,l=0,u=i;u<n;u++)if(r.get(u)!==s)o[l]++;else{if(l===c-1){if(this.toPattern(o)===e.ASTERISK_ENCODING)return new Int32Array([a,u]);a+=o[0]+o[1],o.copyWithin(0,2,2+l-1),o[l-1]=0,o[l]=0,l--}else l++;o[l]=1,s=!s}throw new N},e.prototype.toPattern=function(r){var n,i,o=0;try{for(var a=Fl(r),s=a.next();!s.done;s=a.next()){var c=s.value;o+=c}}catch(p){n={error:p}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}for(var l=0,u=r.length,d=0;d<u;d++){var f=Math.round(r[d]*9/o);if(f<1||f>4)return-1;if(d&1)l<<=f;else for(var h=0;h<f;h++)l=l<<1|1}return l},e.prototype.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);throw new N},e.prototype.decodeExtended=function(r){for(var n=r.length,i="",o=0;o<n;o++){var a=r.charAt(o);if(a>="a"&&a<="d"){if(o>=n-1)throw new L;var s=r.charAt(o+1),c="\0";switch(a){case"d":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)+32);else throw new L;break;case"a":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)-64);else throw new L;break;case"b":if(s>="A"&&s<="E")c=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")c=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")c=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")c="\0";else if(s==="V")c="@";else if(s==="W")c="`";else if(s>="X"&&s<="Z")c="";else throw new L;break;case"c":if(s>="A"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")c=":";else throw new L;break}i+=c,o++}else i+=a}return i},e.prototype.checkChecksums=function(r){var n=r.length;this.checkOneChecksum(r,n-2,20),this.checkOneChecksum(r,n-1,15)},e.prototype.checkOneChecksum=function(r,n,i){for(var o=1,a=0,s=n-1;s>=0;s--)a+=o*e.ALPHABET_STRING.indexOf(r.charAt(s)),++o>i&&(o=1);if(r.charAt(n)!==e.ALPHABET_STRING[a%47])throw new ot},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",e.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],e.ASTERISK_ENCODING=e.CHARACTER_ENCODINGS[47],e}(Qe),kT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},M0=function(t){kT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var o,a,s=this.decodeStart(n),c=this.decodeEnd(n),l=new Z;e.decodeMiddle(n,s[1],c[0],l);var u=l.toString(),d=null;i!=null&&(d=i.get(Re.ALLOWED_LENGTHS)),d==null&&(d=e.DEFAULT_ALLOWED_LENGTHS);var f=u.length,h=!1,p=0;try{for(var g=PT(d),y=g.next();!y.done;y=g.next()){var m=y.value;if(f===m){h=!0;break}m>p&&(p=m)}}catch(E){o={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}if(!h&&f>p&&(h=!0),!h)throw new L;var v=[new K(s[1],r),new K(c[0],r)],C=new At(u,null,0,v,j.ITF,new Date().getTime());return C},e.decodeMiddle=function(r,n,i,o){var a=new Int32Array(10),s=new Int32Array(5),c=new Int32Array(5);for(a.fill(0),s.fill(0),c.fill(0);n<i;){Qe.recordPattern(r,n,a);for(var l=0;l<5;l++){var u=2*l;s[l]=a[u],c[l]=a[u+1]}var d=e.decodeDigit(s);o.append(d.toString()),d=this.decodeDigit(c),o.append(d.toString()),a.forEach(function(f){n+=f})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var o=n-1;i>0&&o>=0&&!r.get(o);o--)i--;if(i!==0)throw new N},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new N;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(a){a instanceof N&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var o=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-o,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var o=i.length,a=new Int32Array(o),s=r.getSize(),c=!1,l=0,u=n;a.fill(0);for(var d=n;d<s;d++)if(r.get(d)!==c)a[l]++;else{if(l===o-1){if(Qe.patternMatchVariance(a,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[u,d];u+=a[0]+a[1],Ee.arraycopy(a,2,a,0,l-1),a[l-1]=0,a[l]=0,l--}else l++;a[l]=1,c=!c}throw new N},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,o=e.PATTERNS.length,a=0;a<o;a++){var s=e.PATTERNS[a],c=Qe.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);c<n?(n=c,i=a):c===n&&(i=-1)}if(i>=0)return i%10;throw new N},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(Qe),bT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oo=function(t){bT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,o=0,a=Int32Array.from([0,0,0]);!n;){a=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,o,!1,this.START_END_PATTERN,a);var s=i[0];o=i[1];var c=s-(o-s);c>=0&&(n=r.isRange(c,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new L;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new L;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,o){return this.findGuardPattern(r,n,i,o,new Int32Array(o.length))},e.findGuardPattern=function(r,n,i,o,a){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var c=0,l=n,u=o.length,d=i,f=n;f<s;f++)if(r.get(f)!==d)a[c]++;else{if(c===u-1){if(Qe.patternMatchVariance(a,o,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([l,f]);l+=a[0]+a[1];for(var h=a.slice(2,a.length),p=0;p<c-1;p++)a[p]=h[p];a[c-1]=0,a[c]=0,c--}else c++;a[c]=1,d=!d}throw new N},e.decodeDigit=function(r,n,i,o){this.recordPattern(r,i,n);for(var a=this.MAX_AVG_VARIANCE,s=-1,c=o.length,l=0;l<c;l++){var u=o[l],d=Qe.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);d<a&&(a=d,s=l)}if(s>=0)return s;throw new N},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(Qe),MT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},DT=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),c=[new K((n[0]+n[1])/2,e),new K(o,e)],l=new At(a,null,0,c,j.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),c=r[1],l=0,u=0;u<5&&c<s;u++){var d=oo.decodeDigit(e,a,c,oo.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);try{for(var f=(i=void 0,MT(a)),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}d>=10&&(l|=1<<4-u),u!==4&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==5)throw new N;var g=this.determineCheckDigit(l);if(t.extensionChecksum(n.toString())!==g)throw new N;return c},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-48;return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new N},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[ft.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),o=n%100,a=o<10?"0"+o:o.toString();return r+i+"."+a},t}(),LT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},BT=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(r,n,i),a=i.toString(),s=t.parseExtensionString(a),c=[new K((n[0]+n[1])/2,e),new K(o,e)],l=new At(a,null,0,c,j.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&l.putAllMetadata(s),l},t.prototype.decodeMiddle=function(e,r,n){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),c=r[1],l=0,u=0;u<2&&c<s;u++){var d=oo.decodeDigit(e,a,c,oo.L_AND_G_PATTERNS);n+=String.fromCharCode(48+d%10);try{for(var f=(i=void 0,LT(a)),h=f.next();!h.done;h=f.next()){var p=h.value;c+=p}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}d>=10&&(l|=1<<1-u),u!==1&&(c=e.getNextSet(c),c=e.getNextUnset(c))}if(n.length!==2)throw new N;if(parseInt(n.toString())%4!==l)throw new N;return c},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[ft.ISSUE_NUMBER,parseInt(e)]])},t}(),FT=function(){function t(){}return t.decodeRow=function(e,r,n){var i=oo.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var o=new DT;return o.decodeRow(e,r,i)}catch{var a=new BT;return a.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),UT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$e=function(t){UT(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[n]=o}return r}return e.prototype.decodeRow=function(r,n,i){var o=e.findStartGuardPattern(n),a=i==null?null:i.get(Re.NEED_RESULT_POINT_CALLBACK);if(a!=null){var s=new K((o[0]+o[1])/2,r);a.foundPossibleResultPoint(s)}var c=this.decodeMiddle(n,o,this.decodeRowStringBuffer),l=c.rowOffset,u=c.resultString;if(a!=null){var d=new K(l,r);a.foundPossibleResultPoint(d)}var f=e.decodeEnd(n,l);if(a!=null){var h=new K((f[0]+f[1])/2,r);a.foundPossibleResultPoint(h)}var p=f[1],g=p+(p-f[0]);if(g>=n.getSize()||!n.isRange(p,g,!1))throw new N;var y=u.toString();if(y.length<8)throw new L;if(!e.checkChecksum(y))throw new ot;var m=(o[1]+o[0])/2,v=(f[1]+f[0])/2,C=this.getBarcodeFormat(),E=[new K(m,r),new K(v,r)],A=new At(y,null,0,E,C,new Date().getTime()),_=0;try{var x=FT.decodeRow(r,n,f[1]);A.putMetadata(ft.UPC_EAN_EXTENSION,x.getText()),A.putAllMetadata(x.getResultMetadata()),A.addResultPoints(x.getResultPoints()),_=x.getText().length}catch{}var O=i==null?null:i.get(Re.ALLOWED_EAN_EXTENSIONS);if(O!=null){var F=!1;for(var M in O)if(_.toString()===M){F=!0;break}if(!F)throw new N}return C===j.EAN_13||j.UPC_A,A},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,o=n-1;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new L;i+=a}i*=3;for(var o=n-2;o>=0;o-=2){var a=r.charAt(o).charCodeAt(0)-48;if(a<0||a>9)throw new L;i+=a}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(oo),HT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),D0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hd=function(t){HT(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=r.getSize(),d=n[1],f=0,h=0;h<6&&d<u;h++){var p=$e.decodeDigit(r,l,d,$e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+p%10);try{for(var g=(o=void 0,D0(l)),y=g.next();!y.done;y=g.next()){var m=y.value;d+=m}}catch(A){o={error:A}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}p>=10&&(f|=1<<5-h)}i=e.determineFirstDigit(i,f);var v=$e.findGuardPattern(r,d,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0));d=v[1];for(var h=0;h<6&&d<u;h++){var p=$e.decodeDigit(r,l,d,$e.L_PATTERNS);i+=String.fromCharCode(48+p);try{for(var C=(s=void 0,D0(l)),E=C.next();!E.done;E=C.next()){var m=E.value;d+=m}}catch(x){s={error:x}}finally{try{E&&!E.done&&(c=C.return)&&c.call(C)}finally{if(s)throw s.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return j.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode(48+i)+r,r;throw new N},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}($e),zT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),L0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},B0=function(t){zT(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s,c,l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var u=r.getSize(),d=n[1],f=0;f<4&&d<u;f++){var h=$e.decodeDigit(r,l,d,$e.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var p=(o=void 0,L0(l)),g=p.next();!g.done;g=p.next()){var y=g.value;d+=y}}catch(E){o={error:E}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}var m=$e.findGuardPattern(r,d,!0,$e.MIDDLE_PATTERN,new Int32Array($e.MIDDLE_PATTERN.length).fill(0));d=m[1];for(var f=0;f<4&&d<u;f++){var h=$e.decodeDigit(r,l,d,$e.L_PATTERNS);i+=String.fromCharCode(48+h);try{for(var v=(s=void 0,L0(l)),C=v.next();!C.done;C=v.next()){var y=C.value;d+=y}}catch(_){s={error:_}}finally{try{C&&!C.done&&(c=v.return)&&c.call(v)}finally{if(s)throw s.error}}}return{rowOffset:d,resultString:i}},e.prototype.getBarcodeFormat=function(){return j.EAN_8},e}($e),KT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),F0=function(t){KT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new hd,r}return e.prototype.getBarcodeFormat=function(){return j.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new At(n.substring(1),null,null,r.getResultPoints(),j.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new N},e.prototype.reset=function(){this.ean13Reader.reset()},e}($e),GT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),VT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},U0=function(t){GT(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var o,a,s=this.decodeMiddleCounters.map(function(y){return y});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var c=r.getSize(),l=n[1],u=0,d=0;d<6&&l<c;d++){var f=e.decodeDigit(r,s,l,e.L_AND_G_PATTERNS);i+=String.fromCharCode(48+f%10);try{for(var h=(o=void 0,VT(s)),p=h.next();!p.done;p=h.next()){var g=p.value;l+=g}}catch(y){o={error:y}}finally{try{p&&!p.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}f>=10&&(u|=1<<5-d)}return e.determineNumSysAndCheckDigit(new Z(i),u),l},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return $e.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var o=0;o<10;o++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][o]){r.insert(0,"0"+i),r.append("0"+o);return}throw N.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return j.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(a){return a.charCodeAt(0)}),i=new Z;i.append(r.charAt(0));var o=n[5];switch(o){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(o),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(o);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}($e),jT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),H0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ul=function(t){jT(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(Re.POSSIBLE_FORMATS),o=[];return i!=null&&(i.indexOf(j.EAN_13)>-1&&o.push(new hd),i.indexOf(j.UPC_A)>-1&&o.push(new F0),i.indexOf(j.EAN_8)>-1&&o.push(new B0),i.indexOf(j.UPC_E)>-1&&o.push(new U0)),o.length===0&&(o.push(new hd),o.push(new F0),o.push(new B0),o.push(new U0)),n.readers=o,n}return e.prototype.decodeRow=function(r,n,i){var o,a;try{for(var s=H0(this.readers),c=s.next();!c.done;c=s.next()){var l=c.value;try{var u=l.decodeRow(r,n,i),d=u.getBarcodeFormat()===j.EAN_13&&u.getText().charAt(0)==="0",f=i==null?null:i.get(Re.POSSIBLE_FORMATS),h=f==null||f.includes(j.UPC_A);if(d&&h){var p=u.getRawBytes(),g=new At(u.getText().substring(1),p,p?p.length:null,u.getResultPoints(),j.UPC_A);return g.putAllMetadata(u.getResultMetadata()),g}return u}catch{}}}catch(y){o={error:y}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}throw new N},e.prototype.reset=function(){var r,n;try{for(var i=H0(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;a.reset()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(Qe),WT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),$T=function(t){WT(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},r}return e.prototype.decodeRow=function(r,n,i){var o=this.getValidRowData(n);if(!o)throw new N;var a=this.codaBarDecodeRow(o.row);if(!a)throw new N;return new At(a,null,0,[new K(o.left,r),new K(o.right,r)],j.CODABAR,new Date().getTime())},e.prototype.getValidRowData=function(r){var n=r.toArray(),i=n.indexOf(!0);if(i===-1)return null;var o=n.lastIndexOf(!0);if(o<=i)return null;n=n.slice(i,o+1);for(var a=[],s=n[0],c=1,l=1;l<n.length;l++)n[l]===s?c++:(s=n[l],a.push(c),c=1);return a.push(c),a.length<23&&(a.length+1)%8!==0?null:{row:a,left:i,right:o}},e.prototype.codaBarDecodeRow=function(r){for(var n=[],i=Math.ceil(r.reduce(function(c,l){return(c+l)/2},0));r.length>0;){var o=r.splice(0,8).splice(0,7),a=o.map(function(c){return c<i?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[a]===void 0)return null;n.push(this.CODA_BAR_CHAR_SET[a])}var s=n.join("");return this.validCodaBarString(s)?s:null},e.prototype.validCodaBarString=function(r){var n=/^[A-D].{1,}[A-D]$/;return n.test(r)},e}(Qe),XT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),YT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Gn=function(t){XT(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(Qe.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new N},e.count=function(r){return se.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]>o&&(o=n[a],i=a);r[i]++},e.decrement=function(r,n){for(var i=0,o=n[0],a=1;a<r.length;a++)n[a]<o&&(o=n[a],i=a);r[i]--},e.isFinderPattern=function(r){var n,i,o=r[0]+r[1],a=o+r[2]+r[3],s=o/a;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;try{for(var u=YT(r),d=u.next();!d.done;d=u.next()){var f=d.value;f>l&&(l=f),f<c&&(c=f)}}catch(h){n={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return l<10*c}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(Qe),fc=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),$y=function(){function t(e,r,n,i,o){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new K(n,o)),this.resultPoints.push(new K(i,o))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}(),qT=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Bi=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,o,a=0;try{for(var s=qT(e),c=s.next();!c.done;c=s.next()){var l=c.value;a+=l}}catch(v){i={error:v}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var u=0,d=0,f=e.length,h=0;h<f-1;h++){var p=void 0;for(p=1,d|=1<<h;p<e[h];p++,d&=~(1<<h)){var g=t.combins(a-p-1,f-h-2);if(n&&d===0&&a-p-(f-h-1)>=f-h-1&&(g-=t.combins(a-p-(f-h),f-h-2)),f-h-1>1){for(var y=0,m=a-p-(f-h-2);m>r;m--)y+=t.combins(a-p-m-1,f-h-3);g-=y*(f-1-h)}else a-p>r&&g--;u+=g}a-=p}return u},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var o=1,a=1,s=e;s>n;s--)o*=s,a<=i&&(o/=a,a++);for(;a<=i;)o/=a,a++;return o},t}(),QT=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new at(n),o=0,a=e[0],s=a.getRightChar().getValue(),c=11;c>=0;--c)s&1<<c&&i.set(o),o++;for(var c=1;c<e.length;++c){for(var l=e[c],u=l.getLeftChar().getValue(),d=11;d>=0;--d)u&1<<d&&i.set(o),o++;if(l.getRightChar()!==null)for(var f=l.getRightChar().getValue(),d=11;d>=0;--d)f&1<<d&&i.set(o),o++}return i},t}(),Fn=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),vh=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),ZT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cr=function(t){ZT(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(vh),JT=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Un=function(t){JT(e,t);function e(r,n,i){var o=t.call(this,r)||this;return i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=n,o}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(vh),e3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yi=function(t){e3(e,t);function e(r,n,i){var o=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new L;return o.firstDigit=n,o.secondDigit=i,o}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(vh),is=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},t3=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,o,a,s,c,l;if(!e)return null;if(e.length<2)throw new N;var u=e.substring(0,2);try{for(var d=is(t.TWO_DIGIT_DATA_LENGTH),f=d.next();!f.done;f=d.next()){var h=f.value;if(h[0]===u)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,h[2],e):t.processFixedAI(2,h[1],e)}}catch(_){r={error:_}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}if(e.length<3)throw new N;var p=e.substring(0,3);try{for(var g=is(t.THREE_DIGIT_DATA_LENGTH),y=g.next();!y.done;y=g.next()){var h=y.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,h[2],e):t.processFixedAI(3,h[1],e)}}catch(_){i={error:_}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}try{for(var m=is(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),v=m.next();!v.done;v=m.next()){var h=v.value;if(h[0]===p)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(_){a={error:_}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(a)throw a.error}}if(e.length<4)throw new N;var C=e.substring(0,4);try{for(var E=is(t.FOUR_DIGIT_DATA_LENGTH),A=E.next();!A.done;A=E.next()){var h=A.value;if(h[0]===C)return h[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,h[2],e):t.processFixedAI(4,h[1],e)}}catch(_){c={error:_}}finally{try{A&&!A.done&&(l=E.return)&&l.call(E)}finally{if(c)throw c.error}}throw new N},t.processFixedAI=function(e,r,n){if(n.length<e)throw new N;var i=n.substring(0,e);if(n.length<e+r)throw new N;var o=n.substring(e,e+r),a=n.substring(e+r),s="("+i+")"+o,c=t.parseFieldsInGeneralPurpose(a);return c==null?s:s+c},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),o;n.length<e+r?o=n.length:o=e+r;var a=n.substring(e,o),s=n.substring(o),c="("+i+")"+a,l=t.parseFieldsInGeneralPurpose(s);return l==null?c:c+l},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),xs=function(){function t(e){this.buffer=new Z,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var o=this.decodeGeneralPurposeField(n,i),a=t3.parseFieldsInGeneralPurpose(o.getNewString());if(a!=null&&e.append(a),o.isRemaining()?i=""+o.getRemainingValue():i=null,n===o.getNewPosition())break;n=o.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new yi(this.information.getSize(),yi.FNC1,yi.FNC1):new yi(this.information.getSize(),r-1,yi.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,o=(n-8)%11;return new yi(e+7,i,o)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,o=0;o<n;++o)e.get(r+o)&&(i|=1<<n-o-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Un(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Un(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Un(this.current.getPosition(),this.buffer.toString()):r=new Un(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Fn(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Un(this.current.getPosition(),this.buffer.toString());return new Fn(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fn(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Un(this.current.getPosition(),this.buffer.toString());return new Fn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fn(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Un(this.current.getPosition(),this.buffer.toString());return new Fn(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fn(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new cr(e+5,cr.FNC1);if(r>=5&&r<15)return new cr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new cr(e+7,""+(n+1));if(n>=90&&n<116)return new cr(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),o;switch(i){case 232:o="!";break;case 233:o='"';break;case 234:o="%";break;case 235:o="&";break;case 236:o="'";break;case 237:o="(";break;case 238:o=")";break;case 239:o="*";break;case 240:o="+";break;case 241:o=",";break;case 242:o="-";break;case 243:o=".";break;case 244:o="/";break;case 245:o=":";break;case 246:o=";";break;case 247:o="<";break;case 248:o="=";break;case 249:o=">";break;case 250:o="?";break;case 251:o="_";break;case 252:o=" ";break;default:throw new L}return new cr(e+8,o)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new cr(e+5,cr.FNC1);if(r>=5&&r<15)return new cr(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new cr(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new Oa("Decoding invalid alphanumeric value: "+n)}return new cr(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}(),Xy=function(){function t(e){this.information=e,this.generalDecoder=new xs(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),r3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pr=function(t){r3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var o=0;o<4;++o){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*o,10);a/100===0&&r.append("0"),a/10===0&&r.append("0"),r.append(a)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,o=0;o<13;o++){var a=r.charAt(o+n).charCodeAt(0)-48;i+=o&1?a:3*a}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(Xy),n3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),i3=function(t){n3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Z;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(pr),o3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),a3=function(t){o3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new Z;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Xy),s3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ss=function(t){s3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,o);for(var a=this.checkWeight(o),s=1e5,c=0;c<5;++c)a/s===0&&r.append("0"),s/=10;r.append(a)},e}(pr),c3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yy=function(t){c3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+Ss.GTIN_SIZE+e.WEIGHT_SIZE)throw new N;var r=new Z;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+Ss.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Ss),l3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),u3=function(t){l3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(Yy),d3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),f3=function(t){d3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(Yy),h3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),p3=function(t){h3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+pr.GTIN_SIZE)throw new N;var r=new Z;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(pr),g3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),v3=function(t){g3(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+pr.GTIN_SIZE)throw new N;var r=new Z;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100===0&&r.append("0"),i/10===0&&r.append("0"),r.append(i);var o=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+pr.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(o.getNewString()),r.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(pr),m3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),on=function(t){m3(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.dateCode=i,o.firstAIdigits=n,o}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!==e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new N;var r=new Z;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!==38400){r.append("("),r.append(this.dateCode),r.append(")");var o=i%32;i/=32;var a=i%12+1;i/=12;var s=i;s/10===0&&r.append("0"),r.append(s),a/10===0&&r.append("0"),r.append(a),o/10===0&&r.append("0"),r.append(o)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Ss);function y3(t){try{if(t.get(1))return new i3(t);if(!t.get(2))return new a3(t);var e=xs.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new u3(t);case 5:return new f3(t)}var r=xs.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new p3(t);case 13:return new v3(t)}var n=xs.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new on(t,"310","11");case 57:return new on(t,"320","11");case 58:return new on(t,"310","13");case 59:return new on(t,"320","13");case 60:return new on(t,"310","15");case 61:return new on(t,"320","15");case 62:return new on(t,"310","17");case 63:return new on(t,"320","17")}}catch(i){throw console.log(i),new Oa("unknown decoder: "+t)}}var z0=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}(),C3=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,o){r.forEach(function(a){i.getLeftChar().getValue()===a.getLeftChar().getValue()&&i.getRightChar().getValue()===a.getRightChar().getValue()&&i.getFinderPatter().getValue()===a.getFinderPatter().getValue()&&(n=!0)})}),n}},t}(),w3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),an=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},E3=function(t){w3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof N){if(!this.pairs.length)throw new N;i=!0}}if(this.checkChecksum())return this.pairs;var o;if(this.rows.length?o=!0:o=!1,this.storeRow(r,!1),o){var a=this.checkRowsBoolean(!1);if(a!=null||(a=this.checkRowsBoolean(!0),a!=null))return a}throw new N},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,o,a=n;a<this.rows.length;a++){var s=this.rows[a];this.pairs.length=0;try{for(var c=(i=void 0,an(r)),l=c.next();!l.done;l=c.next()){var u=l.value;this.pairs.push(u.getPairs())}}catch(f){i={error:f}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var d=new Array(r);d.push(s);try{return this.checkRows(d,a+1)}catch(f){console.log(f)}}}throw new N},e.isValidSequence=function(r){var n,i;try{for(var o=an(e.FINDER_PATTERN_SEQUENCES),a=o.next();!a.done;a=o.next()){var s=a.value;if(!(r.length>s.length)){for(var c=!0,l=0;l<r.length;l++)if(r[l].getFinderPattern().getValue()!==s[l]){c=!1;break}if(c)return!0}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,o=!1,a=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){a=s.isEquivalent(this.pairs);break}o=s.isEquivalent(this.pairs),i++}a||o||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new C3(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,o,a,s,c,l;try{for(var u=an(n),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.getPairs().length!==r.length){var h=!0;try{for(var p=(a=void 0,an(f.getPairs())),g=p.next();!g.done;g=p.next()){var y=g.value,m=!1;try{for(var v=(c=void 0,an(r)),C=v.next();!C.done;C=v.next()){var E=C.value;if(z0.equals(y,E)){m=!0;break}}}catch(A){c={error:A}}finally{try{C&&!C.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}m||(h=!1)}}catch(A){a={error:A}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}}catch(A){i={error:A}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,o,a,s,c,l;try{for(var u=an(n),d=u.next();!d.done;d=u.next()){var f=d.value,h=!0;try{for(var p=(a=void 0,an(r)),g=p.next();!g.done;g=p.next()){var y=g.value,m=!1;try{for(var v=(c=void 0,an(f.getPairs())),C=v.next();!C.done;C=v.next()){var E=C.value;if(y.equals(E)){m=!0;break}}}catch(A){c={error:A}}finally{try{C&&!C.done&&(l=v.return)&&l.call(v)}finally{if(c)throw c.error}}if(!m){h=!1;break}}}catch(A){a={error:A}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}if(h)return!0}}catch(A){i={error:A}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=QT.buildBitArray(r),i=y3(n),o=i.parseInformation(),a=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),c=[a[0],a[1],s[0],s[1]];return new At(o,null,null,c,j.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i===null)return!1;for(var o=i.getChecksumPortion(),a=2,s=1;s<this.pairs.size();++s){var c=this.pairs.get(s);o+=c.getLeftChar().getChecksumPortion(),a++;var l=c.getRightChar();l!=null&&(o+=l.getChecksumPortion(),a++)}o%=211;var u=211*(a-4)+o;return u===n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var o=n.length%2===0;this.startFromEven&&(o=!o);var a,s=!0,c=-1;do this.findNextPair(r,n,c),a=this.parseFoundFinderPattern(r,i,o),a===null?c=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var l=this.decodeDataCharacter(r,a,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new N;var u;try{u=this.decodeDataCharacter(r,a,o,!1)}catch(d){u=null,console.log(d)}return new z0(l,u,a,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;var a=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var c=n[n.length-1];s=c.getFinderPattern().getStartEnd()[1]}var l=n.length%2!==0;this.startFromEven&&(l=!l);for(var u=!1;s<a&&(u=!r.get(s),!!u);)s++;for(var d=0,f=s,h=s;h<a;h++)if(r.get(h)!==u)o[d]++;else{if(d===3){if(l&&e.reverseCounters(o),e.isFinderPattern(o)){this.startEnd[0]=f,this.startEnd[1]=h;return}l&&e.reverseCounters(o),f+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,u=!u}throw new N},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var o=r[i];r[i]=r[n-i-1],r[n-i-1]=o}},e.prototype.parseFoundFinderPattern=function(r,n,i){var o,a,s;if(i){for(var c=this.startEnd[0]-1;c>=0&&!r.get(c);)c--;c++,o=this.startEnd[0]-c,a=c,s=this.startEnd[1]}else a=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),o=s-this.startEnd[1];var l=this.getDecodeFinderCounters();Ee.arraycopy(l,0,l,1,l.length-1),l[0]=o;var u;try{u=this.parseFinderValue(l,e.FINDER_PATTERNS)}catch{return null}return new $y(u,[a,s],a,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,o){for(var a=this.getDataCharacterCounters(),s=0;s<a.length;s++)a[s]=0;if(o)e.recordPatternInReverse(r,n.getStartEnd()[0],a);else{e.recordPattern(r,n.getStartEnd()[1],a);for(var c=0,l=a.length-1;c<l;c++,l--){var u=a[c];a[c]=a[l],a[l]=u}}var d=17,f=se.sum(new Int32Array(a))/d,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new N;for(var p=this.getOddCounts(),g=this.getEvenCounts(),y=this.getOddRoundingErrors(),m=this.getEvenRoundingErrors(),c=0;c<a.length;c++){var v=1*a[c]/f,C=v+.5;if(C<1){if(v<.3)throw new N;C=1}else if(C>8){if(v>8.7)throw new N;C=8}var E=c/2;c&1?(g[E]=C,m[E]=v-C):(p[E]=C,y[E]=v-C)}this.adjustOddEvenCounts(d);for(var A=4*n.getValue()+(i?0:2)+(o?0:1)-1,_=0,x=0,c=p.length-1;c>=0;c--){if(e.isNotA1left(n,i,o)){var O=e.WEIGHTS[A][2*c];x+=p[c]*O}_+=p[c]}for(var F=0,c=g.length-1;c>=0;c--)if(e.isNotA1left(n,i,o)){var O=e.WEIGHTS[A][2*c+1];F+=g[c]*O}var M=x+F;if(_&1||_>13||_<4)throw new N;var re=(13-_)/2,Q=e.SYMBOL_WIDEST[re],de=9-Q,_t=Bi.getRSSvalue(p,Q,!0),_r=Bi.getRSSvalue(g,de,!1),Mn=e.EVEN_TOTAL_SUBSET[re],Dn=e.GSUM[re],U=_t*Mn+_r+Dn;return new fc(U,M)},e.isNotA1left=function(r,n,i){return!(r.getValue()===0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=se.sum(new Int32Array(this.getOddCounts())),i=se.sum(new Int32Array(this.getEvenCounts())),o=!1,a=!1;n>13?a=!0:n<4&&(o=!0);var s=!1,c=!1;i>13?c=!0:i<4&&(s=!0);var l=n+i-r,u=(n&1)===1,d=(i&1)===0;if(l===1)if(u){if(d)throw new N;a=!0}else{if(!d)throw new N;c=!0}else if(l===-1)if(u){if(d)throw new N;o=!0}else{if(!d)throw new N;s=!0}else if(l===0){if(u){if(!d)throw new N;n<i?(o=!0,c=!0):(a=!0,s=!0)}else if(d)throw new N}else throw new N;if(o){if(a)throw new N;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(c)throw new N;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(Gn),A3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_3=function(t){A3(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.count=0,o.finderPattern=i,o}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(fc),x3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K0=function(t){x3(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var o,a,s,c,l=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,l),n.reverse();var u=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,u),n.reverse();try{for(var d=Hl(this.possibleLeftPairs),f=d.next();!f.done;f=d.next()){var h=f.value;if(h.getCount()>1)try{for(var p=(s=void 0,Hl(this.possibleRightPairs)),g=p.next();!g.done;g=p.next()){var y=g.value;if(y.getCount()>1&&e.checkChecksum(h,y))return e.constructResult(h,y)}}catch(m){s={error:m}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}}}catch(m){o={error:m}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}throw new N},e.addOrTally=function(r,n){var i,o;if(n!=null){var a=!1;try{for(var s=Hl(r),c=s.next();!c.done;c=s.next()){var l=c.value;if(l.getValue()===n.getValue()){l.incrementCount(),a=!0;break}}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}a||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),o=new String(i).toString(),a=new Z,s=13-o.length;s>0;s--)a.append("0");a.append(o);for(var c=0,s=0;s<13;s++){var l=a.charAt(s).charCodeAt(0)-48;c+=s&1?l:3*l}c=10-c%10,c===10&&(c=0),a.append(c.toString());var u=r.getFinderPattern().getResultPoints(),d=n.getFinderPattern().getResultPoints();return new At(a.toString(),null,0,[u[0],u[1],d[0],d[1]],j.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,o=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return o>72&&o--,o>8&&o--,i===o},e.prototype.decodePair=function(r,n,i,o){try{var a=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,a),c=o==null?null:o.get(Re.NEED_RESULT_POINT_CALLBACK);if(c!=null){var l=(a[0]+a[1])/2;n&&(l=r.getSize()-1-l),c.foundPossibleResultPoint(new K(l,i))}var u=this.decodeDataCharacter(r,s,!0),d=this.decodeDataCharacter(r,s,!1);return new _3(1597*u.getValue()+d.getValue(),u.getChecksumPortion()+4*d.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)Qe.recordPatternInReverse(r,n.getStartEnd()[0],o);else{Qe.recordPattern(r,n.getStartEnd()[1]+1,o);for(var s=0,c=o.length-1;s<c;s++,c--){var l=o[s];o[s]=o[c],o[c]=l}}for(var u=i?16:15,d=se.sum(new Int32Array(o))/u,f=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),s=0;s<o.length;s++){var y=o[s]/d,m=Math.floor(y+.5);m<1?m=1:m>8&&(m=8);var v=Math.floor(s/2);s&1?(h[v]=m,g[v]=y-m):(f[v]=m,p[v]=y-m)}this.adjustOddEvenCounts(i,u);for(var C=0,E=0,s=f.length-1;s>=0;s--)E*=9,E+=f[s],C+=f[s];for(var A=0,_=0,s=h.length-1;s>=0;s--)A*=9,A+=h[s],_+=h[s];var x=E+3*A;if(i){if(C&1||C>12||C<4)throw new N;var O=(12-C)/2,F=e.OUTSIDE_ODD_WIDEST[O],M=9-F,re=Bi.getRSSvalue(f,F,!1),Q=Bi.getRSSvalue(h,M,!0),de=e.OUTSIDE_EVEN_TOTAL_SUBSET[O],_t=e.OUTSIDE_GSUM[O];return new fc(re*de+Q+_t,x)}else{if(_&1||_>10||_<4)throw new N;var O=(10-_)/2,F=e.INSIDE_ODD_WIDEST[O],M=9-F,re=Bi.getRSSvalue(f,F,!0),Q=Bi.getRSSvalue(h,M,!1),_r=e.INSIDE_ODD_TOTAL_SUBSET[O],_t=e.INSIDE_GSUM[O];return new fc(Q*_r+re+_t,x)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=r.getSize(),a=!1,s=0;s<o&&(a=!r.get(s),n!==a);)s++;for(var c=0,l=s,u=s;u<o;u++)if(r.get(u)!==a)i[c]++;else{if(c===3){if(Gn.isFinderPattern(i))return[l,u];l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,a=!a}throw new N},e.prototype.parseFoundFinderPattern=function(r,n,i,o){for(var a=r.get(o[0]),s=o[0]-1;s>=0&&a!==r.get(s);)s--;s++;var c=o[0]-s,l=this.getDecodeFinderCounters(),u=new Int32Array(l.length);Ee.arraycopy(l,0,u,1,l.length-1),u[0]=c;var d=this.parseFinderValue(u,e.FINDER_PATTERNS),f=s,h=o[1];return i&&(f=r.getSize()-1-f,h=r.getSize()-1-h),new $y(d,[s,o[1]],f,h,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=se.sum(new Int32Array(this.getOddCounts())),o=se.sum(new Int32Array(this.getEvenCounts())),a=!1,s=!1,c=!1,l=!1;r?(i>12?s=!0:i<4&&(a=!0),o>12?l=!0:o<4&&(c=!0)):(i>11?s=!0:i<5&&(a=!0),o>10?l=!0:o<4&&(c=!0));var u=i+o-n,d=(i&1)===(r?1:0),f=(o&1)===1;if(u===1)if(d){if(f)throw new N;s=!0}else{if(!f)throw new N;l=!0}else if(u===-1)if(d){if(f)throw new N;a=!0}else{if(!f)throw new N;c=!0}else if(u===0){if(d){if(!f)throw new N;i<o?(a=!0,l=!0):(s=!0,c=!0)}else if(f)throw new N}else throw new N;if(a){if(s)throw new N;Gn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Gn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(l)throw new N;Gn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&Gn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(Gn),S3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Mo=function(t){S3(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(Re.POSSIBLE_FORMATS):null,o=r&&r.get(Re.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,a=r&&r.get(Re.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return i&&((i.includes(j.EAN_13)||i.includes(j.UPC_A)||i.includes(j.EAN_8)||i.includes(j.UPC_E))&&n.readers.push(new Ul(r)),i.includes(j.CODE_39)&&n.readers.push(new P0(o,a)),i.includes(j.CODE_93)&&n.readers.push(new b0),i.includes(j.CODE_128)&&n.readers.push(new k0),i.includes(j.ITF)&&n.readers.push(new M0),i.includes(j.CODABAR)&&n.readers.push(new $T),i.includes(j.RSS_14)&&n.readers.push(new K0),i.includes(j.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new E3))),n.readers.length===0&&(n.readers.push(new Ul(r)),n.readers.push(new P0),n.readers.push(new b0),n.readers.push(new Ul(r)),n.readers.push(new k0),n.readers.push(new M0),n.readers.push(new K0)),n}return e.prototype.decodeRow=function(r,n,i){for(var o=0;o<this.readers.length;o++)try{return this.readers[o].decodeRow(r,n,i)}catch{}throw new N},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(Qe),I3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){I3(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new Mo(n),r,n)||this}return e})(go);var G0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ue=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),ce=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),T3=function(){function t(e,r,n,i,o,a){var s,c;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var l=0,u=a.getECCodewords(),d=a.getECBlocks();try{for(var f=G0(d),h=f.next();!h.done;h=f.next()){var p=h.value;l+=p.getCount()*(p.getDataCodewords()+u)}}catch(g){s={error:g}}finally{try{h&&!h.done&&(c=f.return)&&c.call(f)}finally{if(s)throw s.error}}this.totalCodewords=l}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if(e&1||r&1)throw new L;try{for(var o=G0(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}throw new L},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new ue(5,new ce(1,3))),new t(2,12,12,10,10,new ue(7,new ce(1,5))),new t(3,14,14,12,12,new ue(10,new ce(1,8))),new t(4,16,16,14,14,new ue(12,new ce(1,12))),new t(5,18,18,16,16,new ue(14,new ce(1,18))),new t(6,20,20,18,18,new ue(18,new ce(1,22))),new t(7,22,22,20,20,new ue(20,new ce(1,30))),new t(8,24,24,22,22,new ue(24,new ce(1,36))),new t(9,26,26,24,24,new ue(28,new ce(1,44))),new t(10,32,32,14,14,new ue(36,new ce(1,62))),new t(11,36,36,16,16,new ue(42,new ce(1,86))),new t(12,40,40,18,18,new ue(48,new ce(1,114))),new t(13,44,44,20,20,new ue(56,new ce(1,144))),new t(14,48,48,22,22,new ue(68,new ce(1,174))),new t(15,52,52,24,24,new ue(42,new ce(2,102))),new t(16,64,64,14,14,new ue(56,new ce(2,140))),new t(17,72,72,16,16,new ue(36,new ce(4,92))),new t(18,80,80,18,18,new ue(48,new ce(4,114))),new t(19,88,88,20,20,new ue(56,new ce(4,144))),new t(20,96,96,22,22,new ue(68,new ce(4,174))),new t(21,104,104,24,24,new ue(56,new ce(6,136))),new t(22,120,120,18,18,new ue(68,new ce(6,175))),new t(23,132,132,20,20,new ue(62,new ce(8,163))),new t(24,144,144,22,22,new ue(62,new ce(8,156),new ce(2,155))),new t(25,8,18,6,16,new ue(7,new ce(1,5))),new t(26,8,32,6,14,new ue(11,new ce(1,10))),new t(27,12,26,10,24,new ue(14,new ce(1,16))),new t(28,12,36,10,16,new ue(18,new ce(1,22))),new t(29,16,36,14,16,new ue(24,new ce(1,32))),new t(30,16,48,14,22,new ue(28,new ce(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),R3=function(){function t(e){var r=e.getHeight();if(r<8||r>144||r&1)throw new L;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Br(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return T3.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,o=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),s=!1,c=!1,l=!1,u=!1;do if(n===o&&i===0&&!s)e[r++]=this.readCorner1(o,a)&255,n-=2,i+=2,s=!0;else if(n===o-2&&i===0&&a&3&&!c)e[r++]=this.readCorner2(o,a)&255,n-=2,i+=2,c=!0;else if(n===o+4&&i===2&&!(a&7)&&!l)e[r++]=this.readCorner3(o,a)&255,n-=2,i+=2,l=!0;else if(n===o-2&&i===0&&(a&7)===4&&!u)e[r++]=this.readCorner4(o,a)&255,n-=2,i+=2,u=!0;else{do n<o&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n-=2,i+=2;while(n>=0&&i<a);n+=1,i+=3;do n>=0&&i<a&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,o,a)&255),n+=2,i-=2;while(n<o&&i>=0);n+=3,i+=1}while(n<o||i<a);if(r!==this.version.getTotalCodewords())throw new L;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var o=0;return this.readModule(e-2,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-2,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e-1,r,n,i)&&(o|=1),o<<=1,this.readModule(e,r-2,n,i)&&(o|=1),o<<=1,this.readModule(e,r-1,n,i)&&(o|=1),o<<=1,this.readModule(e,r,n,i)&&(o|=1),o},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new W("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),o=this.version.getDataRegionSizeColumns(),a=r/i|0,s=n/o|0,c=a*i,l=s*o,u=new Br(l,c),d=0;d<a;++d)for(var f=d*i,h=0;h<s;++h)for(var p=h*o,g=0;g<i;++g)for(var y=d*(i+2)+1+g,m=f+g,v=0;v<o;++v){var C=h*(o+2)+1+v;if(e.get(C,y)){var E=p+v;u.set(E,m)}}return u},t}(),V0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O3=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,o,a,s=r.getECBlocks(),c=0,l=s.getECBlocks();try{for(var u=V0(l),d=u.next();!d.done;d=u.next()){var f=d.value;c+=f.getCount()}}catch(_t){n={error:_t}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var h=new Array(c),p=0;try{for(var g=V0(l),y=g.next();!y.done;y=g.next())for(var f=y.value,m=0;m<f.getCount();m++){var v=f.getDataCodewords(),C=s.getECCodewords()+v;h[p++]=new t(v,new Uint8Array(C))}}catch(_t){o={error:_t}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}for(var E=h[0].codewords.length,A=E-s.getECCodewords(),_=A-1,x=0,m=0;m<_;m++)for(var O=0;O<p;O++)h[O].codewords[m]=e[x++];for(var F=r.getVersionNumber()===24,M=F?8:p,O=0;O<M;O++)h[O].codewords[A-1]=e[x++];for(var re=h[0].codewords.length,m=A;m<re;m++)for(var O=0;O<p;O++){var Q=F?(O+8)%p:O,de=F&&Q>7?m-1:m;h[Q].codewords[de]=e[x++]}if(x!==e.length)throw new W;return h},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),qy=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new W(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,o=this.bytes;if(n>0){var a=8-n,s=e<a?e:a,c=a-s,l=255>>8-s<<c;r=(o[i]&l)>>c,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|o[i]&255,i++,e-=8;if(e>0){var c=8-e,l=255>>c<<c;r=r<<e|(o[i]&l)>>c,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}(),Ke;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ke||(Ke={}));var N3=function(){function t(){}return t.decode=function(e){var r=new qy(e),n=new Z,i=new Z,o=new Array,a=Ke.ASCII_ENCODE;do if(a===Ke.ASCII_ENCODE)a=this.decodeAsciiSegment(r,n,i);else{switch(a){case Ke.C40_ENCODE:this.decodeC40Segment(r,n);break;case Ke.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case Ke.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case Ke.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case Ke.BASE256_ENCODE:this.decodeBase256Segment(r,n,o);break;default:throw new L}a=Ke.ASCII_ENCODE}while(a!==Ke.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new Qc(e,n.toString(),o.length===0?null:o,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var o=e.readBits(8);if(o===0)throw new L;if(o<=128)return i&&(o+=128),r.append(String.fromCharCode(o-1)),Ke.ASCII_ENCODE;if(o===129)return Ke.PAD_ENCODE;if(o<=229){var a=o-130;a<10&&r.append("0"),r.append(""+a)}else switch(o){case 230:return Ke.C40_ENCODE;case 231:return Ke.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return Ke.ANSIX12_ENCODE;case 239:return Ke.TEXT_ENCODE;case 240:return Ke.EDIFACT_ENCODE;case 241:break;default:if(o!==254||e.available()!==0)throw new L;break}}while(e.available()>0);return Ke.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var c=i[s];switch(o){case 0:if(c<3)o=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var l=this.C40_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new L;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),o=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var l=this.C40_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new L}o=0;break;case 3:n?(r.append(String.fromCharCode(c+224)),n=!1):r.append(String.fromCharCode(c+96)),o=0;break;default:throw new L}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],o=0;do{if(e.available()===8)return;var a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),i);for(var s=0;s<3;s++){var c=i[s];switch(o){case 0:if(c<3)o=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var l=this.TEXT_BASIC_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else throw new L;break;case 1:n?(r.append(String.fromCharCode(c+128)),n=!1):r.append(String.fromCharCode(c)),o=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var l=this.TEXT_SHIFT2_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l)}else switch(c){case 27:r.append("");break;case 30:n=!0;break;default:throw new L}o=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var l=this.TEXT_SHIFT3_SET_CHARS[c];n?(r.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):r.append(l),o=0}else throw new L;break;default:throw new L}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var o=0;o<3;o++){var a=n[o];switch(a){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(a<14)r.append(String.fromCharCode(a+44));else if(a<40)r.append(String.fromCharCode(a+51));else throw new L;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,o=Math.floor(i/1600);n[0]=o,i-=o*1600,o=Math.floor(i/40),n[1]=o,n[2]=i-o*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var o=8-e.getBitOffset();o!==8&&e.readBits(o);return}i&32||(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),o=this.unrandomize255State(e.readBits(8),i++),a;if(o===0?a=e.available()/8|0:o<250?a=o:a=250*(o-249)+this.unrandomize255State(e.readBits(8),i++),a<0)throw new L;for(var s=new Uint8Array(a),c=0;c<a;c++){if(e.available()<8)throw new L;s[c]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(ir.decode(s,ne.ISO88591))}catch(l){throw new Oa("Platform does not support required encoding: "+l.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],t}(),k3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},P3=function(){function t(){this.rsDecoder=new Zc(bt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new R3(e),o=i.getVersion(),a=i.readCodewords(),s=O3.getDataBlocks(a,o),c=0;try{for(var l=k3(s),u=l.next();!u.done;u=l.next()){var d=u.value;c+=d.getNumDataCodewords()}}catch(C){r={error:C}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}for(var f=new Uint8Array(c),h=s.length,p=0;p<h;p++){var g=s[p],y=g.getCodewords(),m=g.getNumDataCodewords();this.correctErrors(y,m);for(var v=0;v<m;v++)f[v*h+p]=y[v]}return N3.decode(f)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new ot}for(var i=0;i<r;i++)e[i]=n[i]},t}(),b3=function(){function t(e){this.image=e,this.rectangleDetector=new dd(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new N;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],o=r[2],a=r[3],s=this.transitionsBetween(n,a)+1,c=this.transitionsBetween(o,a)+1;(s&1)===1&&(s+=1),(c&1)===1&&(c+=1),4*s<7*c&&4*c<7*s&&(s=c=Math.max(s,c));var l=t.sampleGrid(this.image,n,i,o,a,s,c);return new ph(l,[n,i,o,a])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),o=(r.getY()-e.getY())/(n+1);return new K(e.getX()+i,e.getY()+o)},t.moveAway=function(e,r,n){var i=e.getX(),o=e.getY();return i<r?i-=1:i+=1,o<n?o-=1:o+=1,new K(i,o)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],o=e[2],a=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),c=this.transitionsBetween(i,o),l=this.transitionsBetween(o,r),u=a,d=[o,r,n,i];return u>s&&(u=s,d[0]=r,d[1]=n,d[2]=i,d[3]=o),u>c&&(u=c,d[0]=n,d[1]=i,d[2]=o,d[3]=r),u>l&&(d[0]=i,d[1]=o,d[2]=r,d[3]=n),d},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=t.shiftPoint(n,i,(a+1)*4),c=t.shiftPoint(i,n,(a+1)*4),l=this.transitionsBetween(s,r),u=this.transitionsBetween(c,o);return l<u?(e[0]=r,e[1]=n,e[2]=i,e[3]=o):(e[0]=n,e[1]=i,e[2]=o,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o),s=this.transitionsBetween(n,o),c=t.shiftPoint(r,n,(s+1)*4),l=t.shiftPoint(i,n,(a+1)*4);a=this.transitionsBetween(c,o),s=this.transitionsBetween(l,o);var u=new K(o.getX()+(i.getX()-n.getX())/(a+1),o.getY()+(i.getY()-n.getY())/(a+1)),d=new K(o.getX()+(r.getX()-n.getX())/(s+1),o.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(u))return this.isValid(d)?d:null;if(!this.isValid(d))return u;var f=this.transitionsBetween(c,u)+this.transitionsBetween(l,u),h=this.transitionsBetween(c,d)+this.transitionsBetween(l,d);return f>h?u:d},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],o=e[3],a=this.transitionsBetween(r,o)+1,s=this.transitionsBetween(i,o)+1,c=t.shiftPoint(r,n,s*4),l=t.shiftPoint(i,n,a*4);a=this.transitionsBetween(c,o)+1,s=this.transitionsBetween(l,o)+1,(a&1)===1&&(a+=1),(s&1)===1&&(s+=1);var u=(r.getX()+n.getX()+i.getX()+o.getX())/4,d=(r.getY()+n.getY()+i.getY()+o.getY())/4;r=t.moveAway(r,u,d),n=t.moveAway(n,u,d),i=t.moveAway(i,u,d),o=t.moveAway(o,u,d);var f,h;return c=t.shiftPoint(r,n,s*4),c=t.shiftPoint(c,o,a*4),f=t.shiftPoint(n,r,s*4),f=t.shiftPoint(f,i,a*4),l=t.shiftPoint(i,o,s*4),l=t.shiftPoint(l,n,a*4),h=t.shiftPoint(o,i,s*4),h=t.shiftPoint(h,r,a*4),[c,f,l,h]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,o,a,s){var c=gh.getInstance();return c.sampleGrid(e,a,s,.5,.5,a-.5,.5,a-.5,s-.5,.5,s-.5,r.getX(),r.getY(),o.getX(),o.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),o=Math.trunc(r.getX()),a=Math.trunc(r.getY()),s=Math.abs(a-i)>Math.abs(o-n);if(s){var c=n;n=i,i=c,c=o,o=a,a=c}for(var l=Math.abs(o-n),u=Math.abs(a-i),d=-l/2,f=i<a?1:-1,h=n<o?1:-1,p=0,g=this.image.get(s?i:n,s?n:i),y=n,m=i;y!==o;y+=h){var v=this.image.get(s?m:y,s?y:m);if(v!==g&&(p++,g=v),d+=u,d>0){if(m===a)break;m+=f,d-=l}}return p},t}(),pd=function(){function t(){this.decoder=new P3}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(Re.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new b3(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=n.getRawBytes(),c=new At(n.getText(),s,8*s.length,i,j.DATA_MATRIX,Ee.currentTimeMillis()),l=n.getByteSegments();l!=null&&c.putMetadata(ft.BYTE_SEGMENTS,l);var u=n.getECLevel();return u!=null&&c.putMetadata(ft.ERROR_CORRECTION_LEVEL,u),c},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new N;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],c=n[0],l=(c-s+1)/i,u=(a-o+1)/i;if(l<=0||u<=0)throw new N;var d=i/2;o+=d,s+=d;for(var f=new Br(l,u),h=0;h<u;h++)for(var p=o+h*i,g=0;g<l;g++)e.get(s+g*i,p)&&f.set(g,h);return f},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],o=e[1];i<n&&r.get(i,o);)i++;if(i===n)throw new N;var a=i-e[0];if(a===0)throw new N;return a},t.NO_POINTS=[],t}(),M3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){M3(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new pd,r)||this}return e})(go);var Fi;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(Fi||(Fi={}));var D3=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new lr(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new W;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(Fi.L,"L",1),t.M=new t(Fi.M,"M",0),t.Q=new t(Fi.Q,"Q",3),t.H=new t(Fi.H,"H",2),t}(),L3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qy=function(){function t(e){this.errorCorrectionLevel=D3.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return ee.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=L3(t.FORMAT_INFO_DECODE_LOOKUP),c=s.next();!c.done;c=s.next()){var l=c.value,u=l[0];if(u===e||u===r)return new t(l[1]);var d=t.numBitsDiffering(e,u);d<o&&(a=l[1],o=d),e!==r&&(d=t.numBitsDiffering(r,u),d<o&&(a=l[1],o=d))}}catch(f){n={error:f}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),B3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var o=B3(i),a=o.next();!a.done;a=o.next()){var s=a.value;n+=s.getCount()}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),w=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),F3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ei=function(){function t(e,r){for(var n,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;var s=0,c=o[0].getECCodewordsPerBlock(),l=o[0].getECBlocks();try{for(var u=F3(l),d=u.next();!d.done;d=u.next()){var f=d.value;s+=f.getCount()*(f.getDataCodewords()+c)}}catch(h){n={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new L;try{return this.getVersionForNumber((e-17)/4)}catch{throw new L}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new W;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=Qy.numBitsDiffering(e,o);a<r&&(n=i+7,r=a)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new Br(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,a=0;a<n;a++)i===0&&(a===0||a===n-1)||i===n-1&&a===0||r.setRegion(this.alignmentPatternCenters[a]-2,o,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new S(7,new w(1,19)),new S(10,new w(1,16)),new S(13,new w(1,13)),new S(17,new w(1,9))),new t(2,Int32Array.from([6,18]),new S(10,new w(1,34)),new S(16,new w(1,28)),new S(22,new w(1,22)),new S(28,new w(1,16))),new t(3,Int32Array.from([6,22]),new S(15,new w(1,55)),new S(26,new w(1,44)),new S(18,new w(2,17)),new S(22,new w(2,13))),new t(4,Int32Array.from([6,26]),new S(20,new w(1,80)),new S(18,new w(2,32)),new S(26,new w(2,24)),new S(16,new w(4,9))),new t(5,Int32Array.from([6,30]),new S(26,new w(1,108)),new S(24,new w(2,43)),new S(18,new w(2,15),new w(2,16)),new S(22,new w(2,11),new w(2,12))),new t(6,Int32Array.from([6,34]),new S(18,new w(2,68)),new S(16,new w(4,27)),new S(24,new w(4,19)),new S(28,new w(4,15))),new t(7,Int32Array.from([6,22,38]),new S(20,new w(2,78)),new S(18,new w(4,31)),new S(18,new w(2,14),new w(4,15)),new S(26,new w(4,13),new w(1,14))),new t(8,Int32Array.from([6,24,42]),new S(24,new w(2,97)),new S(22,new w(2,38),new w(2,39)),new S(22,new w(4,18),new w(2,19)),new S(26,new w(4,14),new w(2,15))),new t(9,Int32Array.from([6,26,46]),new S(30,new w(2,116)),new S(22,new w(3,36),new w(2,37)),new S(20,new w(4,16),new w(4,17)),new S(24,new w(4,12),new w(4,13))),new t(10,Int32Array.from([6,28,50]),new S(18,new w(2,68),new w(2,69)),new S(26,new w(4,43),new w(1,44)),new S(24,new w(6,19),new w(2,20)),new S(28,new w(6,15),new w(2,16))),new t(11,Int32Array.from([6,30,54]),new S(20,new w(4,81)),new S(30,new w(1,50),new w(4,51)),new S(28,new w(4,22),new w(4,23)),new S(24,new w(3,12),new w(8,13))),new t(12,Int32Array.from([6,32,58]),new S(24,new w(2,92),new w(2,93)),new S(22,new w(6,36),new w(2,37)),new S(26,new w(4,20),new w(6,21)),new S(28,new w(7,14),new w(4,15))),new t(13,Int32Array.from([6,34,62]),new S(26,new w(4,107)),new S(22,new w(8,37),new w(1,38)),new S(24,new w(8,20),new w(4,21)),new S(22,new w(12,11),new w(4,12))),new t(14,Int32Array.from([6,26,46,66]),new S(30,new w(3,115),new w(1,116)),new S(24,new w(4,40),new w(5,41)),new S(20,new w(11,16),new w(5,17)),new S(24,new w(11,12),new w(5,13))),new t(15,Int32Array.from([6,26,48,70]),new S(22,new w(5,87),new w(1,88)),new S(24,new w(5,41),new w(5,42)),new S(30,new w(5,24),new w(7,25)),new S(24,new w(11,12),new w(7,13))),new t(16,Int32Array.from([6,26,50,74]),new S(24,new w(5,98),new w(1,99)),new S(28,new w(7,45),new w(3,46)),new S(24,new w(15,19),new w(2,20)),new S(30,new w(3,15),new w(13,16))),new t(17,Int32Array.from([6,30,54,78]),new S(28,new w(1,107),new w(5,108)),new S(28,new w(10,46),new w(1,47)),new S(28,new w(1,22),new w(15,23)),new S(28,new w(2,14),new w(17,15))),new t(18,Int32Array.from([6,30,56,82]),new S(30,new w(5,120),new w(1,121)),new S(26,new w(9,43),new w(4,44)),new S(28,new w(17,22),new w(1,23)),new S(28,new w(2,14),new w(19,15))),new t(19,Int32Array.from([6,30,58,86]),new S(28,new w(3,113),new w(4,114)),new S(26,new w(3,44),new w(11,45)),new S(26,new w(17,21),new w(4,22)),new S(26,new w(9,13),new w(16,14))),new t(20,Int32Array.from([6,34,62,90]),new S(28,new w(3,107),new w(5,108)),new S(26,new w(3,41),new w(13,42)),new S(30,new w(15,24),new w(5,25)),new S(28,new w(15,15),new w(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new S(28,new w(4,116),new w(4,117)),new S(26,new w(17,42)),new S(28,new w(17,22),new w(6,23)),new S(30,new w(19,16),new w(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new S(28,new w(2,111),new w(7,112)),new S(28,new w(17,46)),new S(30,new w(7,24),new w(16,25)),new S(24,new w(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new S(30,new w(4,121),new w(5,122)),new S(28,new w(4,47),new w(14,48)),new S(30,new w(11,24),new w(14,25)),new S(30,new w(16,15),new w(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new S(30,new w(6,117),new w(4,118)),new S(28,new w(6,45),new w(14,46)),new S(30,new w(11,24),new w(16,25)),new S(30,new w(30,16),new w(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new S(26,new w(8,106),new w(4,107)),new S(28,new w(8,47),new w(13,48)),new S(30,new w(7,24),new w(22,25)),new S(30,new w(22,15),new w(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new S(28,new w(10,114),new w(2,115)),new S(28,new w(19,46),new w(4,47)),new S(28,new w(28,22),new w(6,23)),new S(30,new w(33,16),new w(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new S(30,new w(8,122),new w(4,123)),new S(28,new w(22,45),new w(3,46)),new S(30,new w(8,23),new w(26,24)),new S(30,new w(12,15),new w(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new S(30,new w(3,117),new w(10,118)),new S(28,new w(3,45),new w(23,46)),new S(30,new w(4,24),new w(31,25)),new S(30,new w(11,15),new w(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new S(30,new w(7,116),new w(7,117)),new S(28,new w(21,45),new w(7,46)),new S(30,new w(1,23),new w(37,24)),new S(30,new w(19,15),new w(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new S(30,new w(5,115),new w(10,116)),new S(28,new w(19,47),new w(10,48)),new S(30,new w(15,24),new w(25,25)),new S(30,new w(23,15),new w(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new S(30,new w(13,115),new w(3,116)),new S(28,new w(2,46),new w(29,47)),new S(30,new w(42,24),new w(1,25)),new S(30,new w(23,15),new w(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new S(30,new w(17,115)),new S(28,new w(10,46),new w(23,47)),new S(30,new w(10,24),new w(35,25)),new S(30,new w(19,15),new w(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new S(30,new w(17,115),new w(1,116)),new S(28,new w(14,46),new w(21,47)),new S(30,new w(29,24),new w(19,25)),new S(30,new w(11,15),new w(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new S(30,new w(13,115),new w(6,116)),new S(28,new w(14,46),new w(23,47)),new S(30,new w(44,24),new w(7,25)),new S(30,new w(59,16),new w(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new S(30,new w(12,121),new w(7,122)),new S(28,new w(12,47),new w(26,48)),new S(30,new w(39,24),new w(14,25)),new S(30,new w(22,15),new w(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new S(30,new w(6,121),new w(14,122)),new S(28,new w(6,47),new w(34,48)),new S(30,new w(46,24),new w(10,25)),new S(30,new w(2,15),new w(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new S(30,new w(17,122),new w(4,123)),new S(28,new w(29,46),new w(14,47)),new S(30,new w(49,24),new w(10,25)),new S(30,new w(24,15),new w(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new S(30,new w(4,122),new w(18,123)),new S(28,new w(13,46),new w(32,47)),new S(30,new w(48,24),new w(14,25)),new S(30,new w(42,15),new w(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new S(30,new w(20,117),new w(4,118)),new S(28,new w(40,47),new w(7,48)),new S(30,new w(43,24),new w(22,25)),new S(30,new w(10,15),new w(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new S(30,new w(19,118),new w(6,119)),new S(28,new w(18,47),new w(31,48)),new S(30,new w(34,24),new w(34,25)),new S(30,new w(20,15),new w(61,16)))],t}(),tt;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(tt||(tt={}));var j0=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[tt.DATA_MASK_000,new t(tt.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[tt.DATA_MASK_001,new t(tt.DATA_MASK_001,function(e,r){return(e&1)===0})],[tt.DATA_MASK_010,new t(tt.DATA_MASK_010,function(e,r){return r%3===0})],[tt.DATA_MASK_011,new t(tt.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[tt.DATA_MASK_100,new t(tt.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[tt.DATA_MASK_101,new t(tt.DATA_MASK_101,function(e,r){return e*r%6===0})],[tt.DATA_MASK_110,new t(tt.DATA_MASK_110,function(e,r){return e*r%6<3})],[tt.DATA_MASK_111,new t(tt.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}(),U3=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new L;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),o=0,a=i-7,n=i-1;n>=a;n--)o=this.copyBit(8,n,o);for(var r=i-8;r<i;r++)o=this.copyBit(r,8,o);if(this.parsedFormatInfo=Qy.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return ei.getVersionForNumber(r);for(var n=0,i=e-11,o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(a,o,n);var s=ei.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(a,o,n);if(s=ei.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new L},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=j0.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var o=r.buildFunctionPattern(),a=!0,s=new Uint8Array(r.getTotalCodewords()),c=0,l=0,u=0,d=i-1;d>0;d-=2){d===6&&d--;for(var f=0;f<i;f++)for(var h=a?i-1-f:f,p=0;p<2;p++)o.get(d-p,h)||(u++,l<<=1,this.bitMatrix.get(d-p,h)&&(l|=1),u===8&&(s[c++]=l,u=0,l=0));a=!a}if(c!==r.getTotalCodewords())throw new L;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=j0.values.get(this.parsedFormatInfo.getDataMask()),r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,o=e.getHeight();i<o;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}(),W0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},H3=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,o,a,s;if(e.length!==r.getTotalCodewords())throw new W;var c=r.getECBlocksForLevel(n),l=0,u=c.getECBlocks();try{for(var d=W0(u),f=d.next();!f.done;f=d.next()){var h=f.value;l+=h.getCount()}}catch(de){i={error:de}}finally{try{f&&!f.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}var p=new Array(l),g=0;try{for(var y=W0(u),m=y.next();!m.done;m=y.next())for(var h=m.value,v=0;v<h.getCount();v++){var C=h.getDataCodewords(),E=c.getECCodewordsPerBlock()+C;p[g++]=new t(C,new Uint8Array(E))}}catch(de){a={error:de}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(a)throw a.error}}for(var A=p[0].codewords.length,_=p.length-1;_>=0;){var x=p[_].codewords.length;if(x===A)break;_--}_++;for(var O=A-c.getECCodewordsPerBlock(),F=0,v=0;v<O;v++)for(var M=0;M<g;M++)p[M].codewords[v]=e[F++];for(var M=_;M<g;M++)p[M].codewords[O]=e[F++];for(var re=p[0].codewords.length,v=O;v<re;v++)for(var M=0;M<g;M++){var Q=M<_?v:v+1;p[M].codewords[Q]=e[F++]}return p},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),Zt;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Zt||(Zt={}));var xe=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new W;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Zt.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Zt.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Zt.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Zt.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Zt.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Zt.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Zt.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Zt.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Zt.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Zt.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),z3=function(){function t(){}return t.decode=function(e,r,n,i){var o=new qy(e),a=new Z,s=new Array,c=-1,l=-1;try{var u=null,d=!1,f=void 0;do{if(o.available()<4)f=xe.TERMINATOR;else{var h=o.readBits(4);f=xe.forBits(h)}switch(f){case xe.TERMINATOR:break;case xe.FNC1_FIRST_POSITION:case xe.FNC1_SECOND_POSITION:d=!0;break;case xe.STRUCTURED_APPEND:if(o.available()<16)throw new L;c=o.readBits(8),l=o.readBits(8);break;case xe.ECI:var p=t.parseECIValue(o);if(u=Xe.getCharacterSetECIByValue(p),u===null)throw new L;break;case xe.HANZI:var g=o.readBits(4),y=o.readBits(f.getCharacterCountBits(r));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,y);break;default:var m=o.readBits(f.getCharacterCountBits(r));switch(f){case xe.NUMERIC:t.decodeNumericSegment(o,a,m);break;case xe.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,m,d);break;case xe.BYTE:t.decodeByteSegment(o,a,m,u,s,i);break;case xe.KANJI:t.decodeKanjiSegment(o,a,m);break;default:throw new L}break}}while(f!==xe.TERMINATOR)}catch{throw new L}return new Qc(e,a.toString(),s.length===0?null:s,n===null?null:n.toString(),c,l)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new L;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/96<<8&4294967295|a%96;s<959?s+=41377:s+=42657,i[o]=s>>8&255,i[o+1]=s&255,o+=2,n--}try{r.append(ir.decode(i,ne.GB2312))}catch(c){throw new L(c)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new L;for(var i=new Uint8Array(2*n),o=0;n>0;){var a=e.readBits(13),s=a/192<<8&4294967295|a%192;s<7936?s+=33088:s+=49472,i[o]=s>>8,i[o+1]=s,o+=2,n--}try{r.append(ir.decode(i,ne.SHIFT_JIS))}catch(c){throw new L(c)}},t.decodeByteSegment=function(e,r,n,i,o,a){if(8*n>e.available())throw new L;for(var s=new Uint8Array(n),c=0;c<n;c++)s[c]=e.readBits(8);var l;i===null?l=ne.guessEncoding(s,a):l=i.getName();try{r.append(ir.decode(s,l))}catch(u){throw new L(u)}o.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new L;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var o=r.length();n>1;){if(e.available()<11)throw new L;var a=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(a/45))),r.append(t.toAlphaNumericChar(a%45)),n-=2}if(n===1){if(e.available()<6)throw new L;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,""))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new L;var i=e.readBits(10);if(i>=1e3)throw new L;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new L;var o=e.readBits(7);if(o>=100)throw new L;r.append(t.toAlphaNumericChar(Math.floor(o/10))),r.append(t.toAlphaNumericChar(o%10))}else if(n===1){if(e.available()<4)throw new L;var a=e.readBits(4);if(a>=10)throw new L;r.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(e){var r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new L},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),Zy=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}(),$0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},K3=function(){function t(){this.rsDecoder=new Zc(bt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(Br.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new U3(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(a){i=a}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var o=this.decodeBitMatrixParser(n,r);return o.setOther(new Zy(!0)),o}catch(a){throw i!==null?i:a}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,o,a,s=e.readVersion(),c=e.readFormatInformation().getErrorCorrectionLevel(),l=e.readCodewords(),u=H3.getDataBlocks(l,s,c),d=0;try{for(var f=$0(u),h=f.next();!h.done;h=f.next()){var p=h.value;d+=p.getNumDataCodewords()}}catch(_){n={error:_}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var g=new Uint8Array(d),y=0;try{for(var m=$0(u),v=m.next();!v.done;v=m.next()){var p=v.value,C=p.getCodewords(),E=p.getNumDataCodewords();this.correctErrors(C,E);for(var A=0;A<E;A++)g[y++]=C[A]}}catch(_){o={error:_}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}return z3.decode(g,s,c,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new ot}for(var i=0;i<r;i++)e[i]=n[i]},t}(),G3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),V3=function(t){G3(e,t);function e(r,n,i){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=(this.getX()+n)/2,a=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(o,a,s)},e}(K),j3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},W3=function(){function t(e,r,n,i,o,a,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,o=this.startY+r/2,a=new Int32Array(3),s=this.image,c=0;c<r;c++){var l=o+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));a[0]=0,a[1]=0,a[2]=0;for(var u=e;u<i&&!s.get(u,l);)u++;for(var d=0;u<i;){if(s.get(u,l))if(d===1)a[1]++;else if(d===2){if(this.foundPatternCross(a)){var f=this.handlePossibleCenter(a,l,u);if(f!==null)return f}a[0]=a[2],a[1]=1,a[2]=0,d=1}else a[++d]++;else d===1&&d++,a[d]++;u++}if(this.foundPatternCross(a)){var f=this.handlePossibleCenter(a,l,i);if(f!==null)return f}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new N},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var c=e;c>=0&&o.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&!o.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<a&&o.get(r,c)&&s[1]<=n;)s[1]++,c++;if(c===a||s[1]>n)return NaN;for(;c<a&&!o.get(r,c)&&s[2]<=n;)s[2]++,c++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),c=this.crossCheckVertical(r,s,2*e[1],a);if(!isNaN(c)){var l=(e[0]+e[1]+e[2])/3;try{for(var u=j3(this.possibleCenters),d=u.next();!d.done;d=u.next()){var f=d.value;if(f.aboutEquals(l,c,s))return f.combineEstimate(c,s,l)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}var h=new V3(s,c,l);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null},t}(),$3=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),X3=function(t){$3(e,t);function e(r,n,i,o){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a.count=o,o===void 0&&(a.count=1),a}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var o=Math.abs(r-this.estimatedModuleSize);return o<=1||o<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var o=this.count+1,a=(this.count*this.getX()+n)/o,s=(this.count*this.getY()+r)/o,c=(this.count*this.estimatedModuleSize+i)/o;return new e(a,s,c,o)},e}(K),Y3=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),So=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},q3=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Re.TRY_HARDER)!==void 0,n=e!=null&&e.get(Re.PURE_BARCODE)!==void 0,i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var c=!1,l=new Int32Array(5),u=s-1;u<o&&!c;u+=s){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;for(var d=0,f=0;f<a;f++)if(i.get(f,u))(d&1)===1&&d++,l[d]++;else if(d&1)l[d]++;else if(d===4)if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,u,f,n);if(h===!0)if(s=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var p=this.findRowSkip();p>l[2]&&(u+=p-l[2]-s,f=a-1)}else{l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,d=3;continue}d=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,d=3;else l[++d]++;if(t.foundPatternCross(l)){var h=this.handlePossibleCenter(l,u,a,n);h===!0&&(s=l[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var g=this.selectBestPatterns();return K.orderBestPatterns(g),new Y3(g)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var o=r/7,a=o/2;return Math.abs(o-e[0])<a&&Math.abs(o-e[1])<a&&Math.abs(3*o-e[2])<3*a&&Math.abs(o-e[3])<a&&Math.abs(o-e[4])<a},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&r>=a&&s.get(r-a,e-a);)o[2]++,a++;if(e<a||r<a)return!1;for(;e>=a&&r>=a&&!s.get(r-a,e-a)&&o[1]<=n;)o[1]++,a++;if(e<a||r<a||o[1]>n)return!1;for(;e>=a&&r>=a&&s.get(r-a,e-a)&&o[0]<=n;)o[0]++,a++;if(o[0]>n)return!1;var c=s.getHeight(),l=s.getWidth();for(a=1;e+a<c&&r+a<l&&s.get(r+a,e+a);)o[2]++,a++;if(e+a>=c||r+a>=l)return!1;for(;e+a<c&&r+a<l&&!s.get(r+a,e+a)&&o[3]<n;)o[3]++,a++;if(e+a>=c||r+a>=l||o[3]>=n)return!1;for(;e+a<c&&r+a<l&&s.get(r+a,e+a)&&o[4]<n;)o[4]++,a++;if(o[4]>=n)return!1;var u=o[0]+o[1]+o[2]+o[3]+o[4];return Math.abs(u-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),c=e;c>=0&&o.get(r,c);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(r,c)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&o.get(r,c)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<a&&o.get(r,c);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!o.get(r,c)&&s[3]<n;)s[3]++,c++;if(c===a||s[3]>=n)return NaN;for(;c<a&&o.get(r,c)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),c=e;c>=0&&o.get(c,r);)s[2]++,c--;if(c<0)return NaN;for(;c>=0&&!o.get(c,r)&&s[1]<=n;)s[1]++,c--;if(c<0||s[1]>n)return NaN;for(;c>=0&&o.get(c,r)&&s[0]<=n;)s[0]++,c--;if(s[0]>n)return NaN;for(c=e+1;c<a&&o.get(c,r);)s[2]++,c++;if(c===a)return NaN;for(;c<a&&!o.get(c,r)&&s[3]<n;)s[3]++,c++;if(c===a||s[3]>=n)return NaN;for(;c<a&&o.get(c,r)&&s[4]<n;)s[4]++,c++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,c):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var c=o/7,l=!1,u=this.possibleCenters,d=0,f=u.length;d<f;d++){var h=u[d];if(h.aboutEquals(c,s,a)){u[d]=h.combineEstimate(s,a,c),l=!0;break}}if(!l){var p=new X3(a,s,c);u.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var o=So(this.possibleCenters),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,o=0,a=0,s=this.possibleCenters.length;try{for(var c=So(this.possibleCenters),l=c.next();!l.done;l=c.next()){var u=l.value;u.getCount()>=t.CENTER_QUORUM&&(o++,a+=u.getEstimatedModuleSize())}}catch(g){e={error:g}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}if(o<3)return!1;var d=a/s,f=0;try{for(var h=So(this.possibleCenters),p=h.next();!p.done;p=h.next()){var u=p.value;f+=Math.abs(u.getEstimatedModuleSize()-d)}}catch(g){n={error:g}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return f<=.05*a},t.prototype.selectBestPatterns=function(){var e,r,n,i,o=this.possibleCenters.length;if(o<3)throw new N;var a=this.possibleCenters,s;if(o>3){var c=0,l=0;try{for(var u=So(this.possibleCenters),d=u.next();!d.done;d=u.next()){var f=d.value,h=f.getEstimatedModuleSize();c+=h,l+=h*h}}catch(A){e={error:A}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}s=c/o;var p=Math.sqrt(l/o-s*s);a.sort(function(A,_){var x=Math.abs(_.getEstimatedModuleSize()-s),O=Math.abs(A.getEstimatedModuleSize()-s);return x<O?-1:x>O?1:0});for(var g=Math.max(.2*s,p),y=0;y<a.length&&a.length>3;y++){var m=a[y];Math.abs(m.getEstimatedModuleSize()-s)>g&&(a.splice(y,1),y--)}}if(a.length>3){var c=0;try{for(var v=So(a),C=v.next();!C.done;C=v.next()){var E=C.value;c+=E.getEstimatedModuleSize()}}catch(_){n={error:_}}finally{try{C&&!C.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}s=c/a.length,a.sort(function(_,x){if(x.getCount()===_.getCount()){var O=Math.abs(x.getEstimatedModuleSize()-s),F=Math.abs(_.getEstimatedModuleSize()-s);return O<F?1:O>F?-1:0}else return x.getCount()-_.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),Q3=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(Re.NEED_RESULT_POINT_CALLBACK);var r=new q3(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(r,n,i);if(o<1)throw new N("No pattern found in proccess finder.");var a=t.computeDimension(r,n,i,o),s=ei.getProvisionalVersionForDimension(a),c=s.getDimensionForVersion()-7,l=null;if(s.getAlignmentPatternCenters().length>0)for(var u=n.getX()-r.getX()+i.getX(),d=n.getY()-r.getY()+i.getY(),f=1-3/c,h=Math.floor(r.getX()+f*(u-r.getX())),p=Math.floor(r.getY()+f*(d-r.getY())),g=4;g<=16;g<<=1)try{l=this.findAlignmentInRegion(o,h,p,g);break}catch(C){if(!(C instanceof N))throw C}var y=t.createTransform(r,n,i,l,a),m=t.sampleGrid(this.image,y,a),v;return l===null?v=[i,r,n]:v=[i,r,n,l],new ph(m,v)},t.createTransform=function(e,r,n,i,o){var a=o-3.5,s,c,l,u;return i!==null?(s=i.getX(),c=i.getY(),l=a-3,u=l):(s=r.getX()-e.getX()+n.getX(),c=r.getY()-e.getY()+n.getY(),l=a,u=a),Wy.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,l,u,3.5,a,e.getX(),e.getY(),r.getX(),r.getY(),s,c,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=gh.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var o=se.round(K.distance(e,r)/i),a=se.round(K.distance(e,n)/i),s=Math.floor((o+a)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new N("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,r,n,i),a=1,s=e-(n-e);s<0?(a=e/(e-s),s=0):s>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var c=Math.floor(r-(i-r)*a);return a=1,c<0?(a=r/(r-c),c=0):c>=this.image.getHeight()&&(a=(this.image.getHeight()-1-r)/(c-r),c=this.image.getHeight()-1),s=Math.floor(e+(s-e)*a),o+=this.sizeOfBlackWhiteBlackRun(e,r,s,c),o-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var o=Math.abs(i-r)>Math.abs(n-e);if(o){var a=e;e=r,r=a,a=n,n=i,i=a}for(var s=Math.abs(n-e),c=Math.abs(i-r),l=-s/2,u=e<n?1:-1,d=r<i?1:-1,f=0,h=n+u,p=e,g=r;p!==h;p+=u){var y=o?g:p,m=o?p:g;if(f===1===this.image.get(y,m)){if(f===2)return se.distance(p,g,e,r);f++}if(l+=c,l>0){if(g===i)break;g+=d,l-=s}}return f===2?se.distance(n+u,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var o=Math.floor(i*e),a=Math.max(0,r-o),s=Math.min(this.image.getWidth()-1,r+o);if(s-a<e*3)throw new N("Alignment top exceeds estimated module size.");var c=Math.max(0,n-o),l=Math.min(this.image.getHeight()-1,n+o);if(l-c<e*3)throw new N("Alignment bottom exceeds estimated module size.");var u=new W3(this.image,a,c,s-a,l-c,e,this.resultPointCallback);return u.find()},t}(),gd=function(){function t(){this.decoder=new K3}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(Re.PURE_BARCODE)!==void 0){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(o,r),i=t.NO_POINTS}else{var a=new Q3(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(a.getBits(),r),i=a.getPoints()}n.getOther()instanceof Zy&&n.getOther().applyMirroredCorrection(i);var s=new At(n.getText(),n.getRawBytes(),void 0,i,j.QR_CODE,void 0),c=n.getByteSegments();c!==null&&s.putMetadata(ft.BYTE_SEGMENTS,c);var l=n.getECLevel();return l!==null&&s.putMetadata(ft.ERROR_CORRECTION_LEVEL,l),n.hasStructuredAppend()&&(s.putMetadata(ft.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(ft.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new N;var i=this.moduleSize(r,e),o=r[1],a=n[1],s=r[0],c=n[0];if(s>=c||o>=a)throw new N;if(a-o!==c-s&&(c=s+(a-o),c>=e.getWidth()))throw new N;var l=Math.round((c-s+1)/i),u=Math.round((a-o+1)/i);if(l<=0||u<=0)throw new N;if(u!==l)throw new N;var d=Math.floor(i/2);o+=d,s+=d;var f=s+Math.floor((l-1)*i)-c;if(f>0){if(f>d)throw new N;s-=f}var h=o+Math.floor((u-1)*i)-a;if(h>0){if(h>d)throw new N;o-=h}for(var p=new Br(l,u),g=0;g<u;g++)for(var y=o+Math.floor(g*i),m=0;m<l;m++)e.get(s+Math.floor(m*i),y)&&p.set(m,g);return p},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),o=e[0],a=e[1],s=!0,c=0;o<i&&a<n;){if(s!==r.get(o,a)){if(++c===5)break;s=!s}o++,a++}if(o===i||a===n)throw new N;return(o-e[0])/7},t.NO_POINTS=new Array,t}(),Z3=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},oe=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return se.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=Z3(e),s=a.next();!s.done;s=a.next()){var c=s.value;i[o++]=c}}catch(l){r={error:l}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Ye.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),J3=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),eR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tR=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),o=t.detect(n,i);return o.length||(i=i.clone(),i.rotate180(),o=t.detect(n,i)),new J3(i,o)},t.detect=function(e,r){for(var n,i,o=new Array,a=0,s=0,c=!1;a<r.getHeight();){var l=t.findVertices(r,a,s);if(l[0]==null&&l[3]==null){if(!c)break;c=!1,s=0;try{for(var u=(n=void 0,eR(o)),d=u.next();!d.done;d=u.next()){var f=d.value;f[1]!=null&&(a=Math.trunc(Math.max(a,f[1].getY()))),f[3]!=null&&(a=Math.max(a,Math.trunc(f[3].getY())))}}catch(h){n={error:h}}finally{try{d&&!d.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}a+=t.ROW_STEP;continue}if(c=!0,o.push(l),!e)break;l[2]!=null?(s=Math.trunc(l[2].getX()),a=Math.trunc(l[2].getY())):(s=Math.trunc(l[4].getX()),a=Math.trunc(l[4].getY()))}return o},t.findVertices=function(e,r,n){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),r=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,o,a){for(var s=new Array(4),c=!1,l=new Int32Array(a.length);i<r;i+=t.ROW_STEP){var u=t.findGuardPattern(e,o,i,n,!1,a,l);if(u!=null){for(;i>0;){var d=t.findGuardPattern(e,o,--i,n,!1,a,l);if(d!=null)u=d;else{i++;break}}s[0]=new K(u[0],i),s[1]=new K(u[1],i),c=!0;break}}var f=i+1;if(c){for(var h=0,d=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);f<r;f++){var u=t.findGuardPattern(e,d[0],f,n,!1,a,l);if(u!=null&&Math.abs(d[0]-u[0])<t.MAX_PATTERN_DRIFT&&Math.abs(d[1]-u[1])<t.MAX_PATTERN_DRIFT)d=u,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}f-=h+1,s[2]=new K(d[0],f),s[3]=new K(d[1],f)}return f-i<t.BARCODE_MIN_HEIGHT&&Ye.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,o,a,s){Ye.fillWithin(s,0,s.length,0);for(var c=r,l=0;e.get(c,n)&&c>0&&l++<t.MAX_PIXEL_DRIFT;)c--;for(var u=c,d=0,f=a.length,h=o;u<i;u++){var p=e.get(u,n);if(p!==h)s[d]++;else{if(d===f-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([c,u]);c+=s[0]+s[1],Ee.arraycopy(s,2,s,0,d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,h=!h}}return d===f-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([c,u-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,o=0,a=0,s=0;s<i;s++)o+=e[s],a+=r[s];if(o<a)return 1/0;var c=o/a;n*=c;for(var l=0,u=0;u<i;u++){var d=e[u],f=r[u]*c,h=d>f?d-f:f-d;if(h>n)return 1/0;l+=h}return l/o},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),rR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Yn=function(){function t(e,r){if(r.length===0)throw new W;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Ee.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var o=rR(this.coefficients),a=o.next();!a.done;a=o.next()){var s=a.value;i=this.field.add(i,s)}}catch(d){r={error:d}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i}for(var c=this.coefficients[0],l=this.coefficients.length,u=1;u<l;u++)c=this.field.add(this.field.multiply(e,c),this.coefficients[u]);return c},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new W("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var o=new Int32Array(n.length),a=n.length-r.length;Ee.arraycopy(n,0,o,0,a);for(var s=a;s<n.length;s++)o[s]=this.field.add(r[s-a],n[s]);return new t(this.field,o)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new W("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new W("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,o=i.length,a=new Int32Array(n+o-1),s=0;s<n;s++)for(var c=r[s],l=0;l<o;l++)a[s+l]=this.field.add(a[s+l],this.field.multiply(c,i[l]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new W;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new Z,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}(),nR=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new W;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new jy;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}(),iR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),oR=function(t){iR(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var o=1,a=0;a<r;a++)i.expTable[a]=o,o=o*n%r;for(var a=0;a<r-1;a++)i.logTable[i.expTable[a]]=a;return i.zero=new Yn(i,new Int32Array([0])),i.one=new Yn(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new W;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new Yn(this,i)},e.PDF417_GF=new e(oe.NUMBER_OF_CODEWORDS,3),e}(nR),aR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},sR=function(){function t(){this.field=oR.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,o,a=new Yn(this.field,e),s=new Int32Array(r),c=!1,l=r;l>0;l--){var u=a.evaluateAt(this.field.exp(l));s[r-l]=u,u!==0&&(c=!0)}if(!c)return 0;var d=this.field.getOne();if(n!=null)try{for(var f=aR(n),h=f.next();!h.done;h=f.next()){var p=h.value,g=this.field.exp(e.length-1-p),y=new Yn(this.field,new Int32Array([this.field.subtract(0,g),1]));d=d.multiply(y)}}catch(O){i={error:O}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}for(var m=new Yn(this.field,s),v=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),m,r),C=v[0],E=v[1],A=this.findErrorLocations(C),_=this.findErrorMagnitudes(E,C,A),l=0;l<A.length;l++){var x=e.length-1-this.field.log(A[l]);if(x<0)throw ot.getChecksumInstance();e[x]=this.field.subtract(e[x],_[l])}return A.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var o=e,a=r,s=this.field.getZero(),c=this.field.getOne();a.getDegree()>=Math.round(n/2);){var l=o,u=s;if(o=a,s=c,o.isZero())throw ot.getChecksumInstance();a=l;for(var d=this.field.getZero(),f=o.getCoefficient(o.getDegree()),h=this.field.inverse(f);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=this.field.multiply(a.getCoefficient(a.getDegree()),h);d=d.add(this.field.buildMonomial(p,g)),a=a.subtract(o.multiplyByMonomial(p,g))}c=d.multiply(s).subtract(u).negative()}var y=c.getCoefficient(0);if(y===0)throw ot.getChecksumInstance();var m=this.field.inverse(y),v=c.multiply(m),C=a.multiply(m);return[v,C]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,o=1;o<this.field.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=this.field.inverse(o),i++);if(i!==r)throw ot.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),o=new Int32Array(i),a=1;a<=i;a++)o[i-a]=this.field.multiply(a,r.getCoefficient(a));for(var s=new Yn(this.field,o),c=n.length,l=new Int32Array(c),a=0;a<c;a++){var u=this.field.inverse(n[a]),d=this.field.subtract(0,e.evaluateAt(u)),f=this.field.inverse(s.evaluateAt(u));l[a]=this.field.multiply(d,f)}return l},t}(),vd=function(){function t(e,r,n,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,o)}return t.prototype.constructor_1=function(e,r,n,i,o){var a=r==null||n==null,s=i==null||o==null;if(a&&s)throw new N;a?(r=new K(0,i.getY()),n=new K(0,o.getY())):s&&(i=new K(e.getWidth()-1,r.getY()),o=new K(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=o,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),o.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),o.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var c=n?this.topLeft:this.topRight,l=Math.trunc(c.getY()-e);l<0&&(l=0);var u=new K(c.getX(),l);n?i=u:a=u}if(r>0){var d=n?this.bottomLeft:this.bottomRight,f=Math.trunc(d.getY()+r);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var h=new K(d.getX(),f);n?o=h:s=h}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),cR=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),mh=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(a,s,c,l,u,d){if(a==="%%")return"%";if(r[++n]!==void 0){a=l?parseInt(l.substr(1)):void 0;var f=u?parseInt(u.substr(1)):void 0,h;switch(d){case"s":h=r[n];break;case"c":h=r[n][0];break;case"f":h=parseFloat(r[n]).toFixed(a);break;case"p":h=parseFloat(r[n]).toPrecision(a);break;case"e":h=parseFloat(r[n]).toExponential(a);break;case"x":h=parseInt(r[n]).toString(f||16);break;case"d":h=parseFloat(parseInt(r[n],f||10).toPrecision(a)).toFixed(0);break}h=typeof h=="object"?JSON.stringify(h):(+h).toString(f);for(var p=parseInt(c),g=c&&c[0]+""=="0"?"0":" ";h.length<p;)h=s!==void 0?h+g:g+h;return h}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}(),lR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jy=function(){function t(e){this.boundingBox=new vd(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new mh,i=0;try{for(var o=lR(this.codewords),a=o.next();!a.done;a=o.next()){var s=a.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(c){e={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),uR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},dR=function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return o},Do=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,o=function(d,f){var h={getKey:function(){return d},getValue:function(){return f}};h.getValue()>n?(n=h.getValue(),i=[],i.push(h.getKey())):h.getValue()===n&&i.push(h.getKey())};try{for(var a=uR(this.values.entries()),s=a.next();!s.done;s=a.next()){var c=dR(s.value,2),l=c[0],u=c[1];o(l,u)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return oe.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}(),fR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),zl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},X0=function(t){fR(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=zl(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;a!=null&&a.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),a=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.imageRowToCodewordIndex(Math.trunc(a.getY())),l=-1,u=1,d=0,f=s;f<c;f++)if(n[f]!=null){var h=n[f],p=h.getRowNumber()-l;if(p===0)d++;else if(p===1)u=Math.max(u,d),d=1,l=h.getRowNumber();else if(p<0||h.getRowNumber()>=r.getRowCount()||p>f)n[f]=null;else{var g=void 0;u>2?g=(u-2)*p:g=p;for(var y=g>=f,m=1;m<=g&&!y;m++)y=n[f-m]!=null;y?n[f]=null:(l=h.getRowNumber(),d=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var o=new Int32Array(i.getRowCount());try{for(var a=zl(this.getCodewords()),s=a.next();!s.done;s=a.next()){var c=s.value;if(c!=null){var l=c.getRowNumber();if(l>=o.length)continue;o[l]++}}}catch(u){r={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),o=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(o.getY())),c=this.getCodewords(),l=-1,u=a;u<s;u++)if(c[u]!=null){var d=c[u];d.setRowNumberAsRowIndicatorColumn();var f=d.getRowNumber()-l;f===0||(f===1?l=d.getRowNumber():d.getRowNumber()>=r.getRowCount()?c[u]=null:l=d.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),o=new Do,a=new Do,s=new Do,c=new Do;try{for(var l=zl(i),u=l.next();!u.done;u=l.next()){var d=u.value;if(d!=null){d.setRowNumberAsRowIndicatorColumn();var f=d.getValue()%30,h=d.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:a.setValue(f*3+1);break;case 1:c.setValue(f/3),s.setValue(f%3);break;case 2:o.setValue(f+1);break}}}}catch(g){r={error:g}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(o.getValue().length===0||a.getValue().length===0||s.getValue().length===0||c.getValue().length===0||o.getValue()[0]<1||a.getValue()[0]+s.getValue()[0]<oe.MIN_ROWS_IN_BARCODE||a.getValue()[0]+s.getValue()[0]>oe.MAX_ROWS_IN_BARCODE)return null;var p=new cR(o.getValue()[0],a.getValue()[0],s.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(i,p),p},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var o=r[i];if(r[i]!=null){var a=o.getValue()%30,s=o.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:a*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(a/3)!==n.getErrorCorrectionLevel()||a%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:a+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(Jy),hR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pR=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=oe.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var o=this.detectionResultColumns[i].getCodewords()[n];o!=null&&(o.setRowNumber(e[n].getRowNumber()),o.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[n];s!=null&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,o;if(this.detectionResultColumns[e-1]!=null){var a=n[r],s=this.detectionResultColumns[e-1].getCodewords(),c=s;this.detectionResultColumns[e+1]!=null&&(c=this.detectionResultColumns[e+1].getCodewords());var l=new Array(14);l[2]=s[r],l[3]=c[r],r>0&&(l[0]=n[r-1],l[4]=s[r-1],l[5]=c[r-1]),r>1&&(l[8]=n[r-2],l[10]=s[r-2],l[11]=c[r-2]),r<n.length-1&&(l[1]=n[r+1],l[6]=s[r+1],l[7]=c[r+1]),r<n.length-2&&(l[9]=n[r+2],l[12]=s[r+2],l[13]=c[r+2]);try{for(var u=hR(l),d=u.next();!d.done;d=u.next()){var f=d.value;if(t.adjustRowNumber(a,f))return}}catch(h){i={error:h}}finally{try{d&&!d.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new mh,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var o=this.detectionResultColumns[i].getCodewords()[n];if(o==null){r.format("    |   ");continue}r.format(" %3d|%3d",o.getRowNumber(),o.getValue())}r.format("%n")}return r.toString()},t}(),gR=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),vR=function(){function t(){}return t.initialize=function(){for(var e=0;e<oe.SYMBOL_TABLE.length;e++)for(var r=oe.SYMBOL_TABLE[e],n=r&1,i=0;i<oe.BARS_IN_MODULE;i++){for(var o=0;(r&1)===n;)o+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(oe.BARS_IN_MODULE)),t.RATIOS_TABLE[e][oe.BARS_IN_MODULE-i-1]=Math.fround(o/oe.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=se.sum(e),n=new Int32Array(oe.BARS_IN_MODULE),i=0,o=0,a=0;a<oe.MODULES_IN_CODEWORD;a++){var s=r/(2*oe.MODULES_IN_CODEWORD)+a*r/oe.MODULES_IN_CODEWORD;o+e[i]<=s&&(o+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return oe.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=se.sum(e),n=new Array(oe.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var o=ud.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var c=0,l=t.RATIOS_TABLE[s],u=0;u<oe.BARS_IN_MODULE;u++){var d=Math.fround(l[u]-n[u]);if(c+=Math.fround(d*d),c>=o)break}c<o&&(o=c,a=oe.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(oe.SYMBOL_TABLE.length).map(function(e){return new Array(oe.BARS_IN_MODULE)}),t}(),mR=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}(),Y0=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}(),yR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),CR=function(t){yR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(Ht),wR=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new CR;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new fh;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),ER=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),AR=function(t){ER(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Ht),_R=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),xR=function(t){_R(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new W("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new AR;i=ee.MAX_VALUE}this.buf=Ye.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new fh;this.ensureCapacity(this.count+i),Ee.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return Ye.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(wR),ve;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ve||(ve={}));function eC(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var os;function un(t){if(typeof os>"u"&&(os=eC()),os===null)throw new Error("BigInt is not supported!");return os(t)}function SR(){var t=[];t[0]=un(1);var e=un(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var IR=function(){function t(){}return t.decode=function(e,r){var n=new Z(""),i=Xe.ISO8859_1;n.enableDecoding(i);for(var o=1,a=e[o++],s=new mR;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,n);break;case t.ECI_CHARSET:Xe.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new L;default:o--,o=t.textCompaction(e,o,n);break}if(o<e.length)a=e[o++];else throw L.getFormatInstance()}if(n.length()===0)throw L.getFormatInstance();var c=new Qc(null,n.toString(),null,r);return c.setOther(s),c},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw L.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,r++)i[o]=e[r];n.setSegmentIndex(ee.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new Z;r=t.textCompaction(e,r,a),n.setFileId(a.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Z;r=t.textCompaction(e,r+1,c),n.setFileName(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var l=new Z;r=t.textCompaction(e,r+1,l),n.setSender(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var u=new Z;r=t.textCompaction(e,r+1,u),n.setAddressee(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var d=new Z;r=t.numericCompaction(e,r+1,d),n.setSegmentCount(ee.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new Z;r=t.numericCompaction(e,r+1,f),n.setTimestamp(Y0.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var h=new Z;r=t.numericCompaction(e,r+1,h),n.setChecksum(ee.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new Z;r=t.numericCompaction(e,r+1,p),n.setFileSize(Y0.parseLong(p.toString()));break;default:throw L.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(s!==-1){var g=r-s;n.isLastSegment()&&g--,n.setOptionalData(Ye.copyOfRange(e,s,s+g))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),o=new Int32Array((e[0]-r)*2),a=0,s=!1;r<e[0]&&!s;){var c=e[r++];if(c<t.TEXT_COMPACTION_MODE_LATCH)i[a]=c/30,i[a+1]=c%30,a+=2;else switch(c){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=e[r++],o[a]=c,a++;break}}return t.decodeTextCompaction(i,o,a,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var o=ve.ALPHA,a=ve.ALPHA,s=0;s<n;){var c=e[s],l="";switch(o){case ve.ALPHA:if(c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case t.LL:o=ve.LOWER;break;case t.ML:o=ve.MIXED;break;case t.PS:a=o,o=ve.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break;case ve.LOWER:if(c<26)l=String.fromCharCode(97+c);else switch(c){case 26:l=" ";break;case t.AS:a=o,o=ve.ALPHA_SHIFT;break;case t.ML:o=ve.MIXED;break;case t.PS:a=o,o=ve.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break;case ve.MIXED:if(c<t.PL)l=t.MIXED_CHARS[c];else switch(c){case t.PL:o=ve.PUNCT;break;case 26:l=" ";break;case t.LL:o=ve.LOWER;break;case t.AL:o=ve.ALPHA;break;case t.PS:a=o,o=ve.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break;case ve.PUNCT:if(c<t.PAL)l=t.PUNCT_CHARS[c];else switch(c){case t.PAL:o=ve.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break;case ve.ALPHA_SHIFT:if(o=a,c<26)l=String.fromCharCode(65+c);else switch(c){case 26:l=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break;case ve.PUNCT_SHIFT:if(o=a,c<t.PAL)l=t.PUNCT_CHARS[c];else switch(c){case t.PAL:o=ve.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=ve.ALPHA;break}break}l!==""&&i.append(l),s++}},t.byteCompaction=function(e,r,n,i,o){var a=new xR,s=0,c=0,l=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var u=new Int32Array(6),d=r[i++];i<r[0]&&!l;)switch(u[s++]=d,c=900*c+d,d=r[i++],d){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break;default:if(s%5===0&&s>0){for(var f=0;f<6;++f)a.write(Number(un(c)>>un(8*(5-f))));c=0,s=0}break}i===r[0]&&d<t.TEXT_COMPACTION_MODE_LATCH&&(u[s++]=d);for(var h=0;h<s;h++)a.write(u[h]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!l;){var p=r[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,c=900*c+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,l=!0;break}if(s%5===0&&s>0){for(var f=0;f<6;++f)a.write(Number(un(c)>>un(8*(5-f))));c=0,s=0}}break}return o.append(ir.decode(a.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!o;){var s=e[r++];if(r===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,o=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(n.append(t.decodeBase900toBase10(a,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=un(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*un(e[i]);var o=n.toString();if(o.charAt(0)!=="1")throw new L;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=eC()?SR():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Io=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TR=function(){function t(){}return t.decode=function(e,r,n,i,o,a,s){for(var c=new vd(e,r,n,i,o),l=null,u=null,d,f=!0;;f=!1){if(r!=null&&(l=t.getRowIndicatorColumn(e,c,r,!0,a,s)),i!=null&&(u=t.getRowIndicatorColumn(e,c,i,!1,a,s)),d=t.merge(l,u),d==null)throw N.getNotFoundInstance();var h=d.getBoundingBox();if(f&&h!=null&&(h.getMinY()<c.getMinY()||h.getMaxY()>c.getMaxY()))c=h;else break}d.setBoundingBox(c);var p=d.getBarcodeColumnCount()+1;d.setDetectionResultColumn(0,l),d.setDetectionResultColumn(p,u);for(var g=l!=null,y=1;y<=p;y++){var m=g?y:p-y;if(d.getDetectionResultColumn(m)===void 0){var v=void 0;m===0||m===p?v=new X0(c,m===0):v=new Jy(c),d.setDetectionResultColumn(m,v);for(var C=-1,E=C,A=c.getMinY();A<=c.getMaxY();A++){if(C=t.getStartColumn(d,m,A,g),C<0||C>c.getMaxX()){if(E===-1)continue;C=E}var _=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,C,A,a,s);_!=null&&(v.setCodeword(A,_),E=C,a=Math.min(a,_.getWidth()),s=Math.max(s,_.getWidth()))}}}return t.createDecoderResult(d)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=vd.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new pR(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var o=t.getMax(i),a=0;try{for(var s=Io(i),c=s.next();!c.done;c=s.next()){var l=c.value;if(a+=o-l,l>0)break}}catch(h){r={error:h}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var u=e.getCodewords(),d=0;a>0&&u[d]==null;d++)a--;for(var f=0,d=i.length-1;d>=0&&(f+=o-i[d],!(i[d]>0));d--);for(var d=u.length-1;f>0&&u[d]==null;d--)f--;return e.getBoundingBox().addMissingRows(a,f,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var o=Io(e),a=o.next();!a.done;a=o.next()){var s=a.value;i=Math.max(i,s)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,o,a){for(var s=new X0(r,i),c=0;c<2;c++)for(var l=c===0?1:-1,u=Math.trunc(Math.trunc(n.getX())),d=Math.trunc(Math.trunc(n.getY()));d<=r.getMaxY()&&d>=r.getMinY();d+=l){var f=t.detectCodeword(e,0,e.getWidth(),i,u,d,o,a);f!=null&&(s.setCodeword(d,f),i?u=f.getStartX():u=f.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(o<1||o>oe.MAX_CODEWORDS_IN_BARCODE)throw N.getNotFoundInstance();n.setValue(o)}else i[0]!==o&&n.setValue(o)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var c=0;c<e.getBarcodeColumnCount();c++){var l=r[s][c+1].getValue(),u=s*e.getBarcodeColumnCount()+c;l.length===0?n.push(u):l.length===1?i[u]=l[0]:(a.push(u),o.push(l))}for(var d=new Array(o.length),f=0;f<d.length;f++)d[f]=o[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,oe.toIntArray(n),oe.toIntArray(a),d)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var c=0;c<a.length;c++)r[i[c]]=o[c][a[c]];try{return t.decodeCodewords(r,e,n)}catch(u){var l=u instanceof ot;if(!l)throw u}if(a.length===0)throw ot.getChecksumInstance();for(var c=0;c<a.length;c++)if(a[c]<o[c].length-1){a[c]++;break}else if(a[c]=0,c===a.length-1)throw ot.getChecksumInstance()}throw ot.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,o,a=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<a.length;s++)for(var c=0;c<a[s].length;c++)a[s][c]=new Do;var l=0;try{for(var u=Io(e.getDetectionResultColumns()),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null)try{for(var h=(i=void 0,Io(f.getCodewords())),p=h.next();!p.done;p=h.next()){var g=p.value;if(g!=null){var y=g.getRowNumber();if(y>=0){if(y>=a.length)continue;a[y][l].setValue(g.getValue())}}}}catch(m){i={error:m}}finally{try{p&&!p.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}l++}}catch(m){r={error:m}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return a},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var o,a,s=i?1:-1,c=null;if(t.isValidBarcodeColumn(e,r-s)&&(c=e.getDetectionResultColumn(r-s).getCodeword(n)),c!=null)return i?c.getEndX():c.getStartX();if(c=e.getDetectionResultColumn(r).getCodewordNearby(n),c!=null)return i?c.getStartX():c.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(c=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),c!=null)return i?c.getEndX():c.getStartX();for(var l=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var u=(o=void 0,Io(e.getDetectionResultColumn(r).getCodewords())),d=u.next();!d.done;d=u.next()){var f=d.value;if(f!=null)return(i?f.getEndX():f.getStartX())+s*l*(f.getEndX()-f.getStartX())}}catch(h){o={error:h}}finally{try{d&&!d.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}l++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,o,a,s,c){o=t.adjustCodewordStartColumn(e,r,n,i,o,a);var l=t.getModuleBitCount(e,r,n,i,o,a);if(l==null)return null;var u,d=se.sum(l);if(i)u=o+d;else{for(var f=0;f<l.length/2;f++){var h=l[f];l[f]=l[l.length-1-f],l[l.length-1-f]=h}u=o,o=u-d}if(!t.checkCodewordSkew(d,s,c))return null;var p=vR.getDecodedValue(l),g=oe.getCodeword(p);return g===-1?null:new gR(o,u,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(e,r,n,i,o,a){for(var s=o,c=new Int32Array(8),l=0,u=i?1:-1,d=i;(i?s<n:s>=r)&&l<c.length;)e.get(s,a)===d?(c[l]++,s+=u):(l++,d=!d);return l===c.length||s===(i?n:r)&&l===c.length-1?c:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,o,a){for(var s=o,c=i?-1:1,l=0;l<2;l++){for(;(i?s>=r:s<n)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=c}c=-c,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw L.getFormatInstance();var i=1<<r+1,o=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var a=IR.decode(e,""+r);return a.setErrorsCorrected(o),a.setErasures(n.length),a},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw ot.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw L.getFormatInstance();var n=e[0];if(n>e.length)throw L.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw L.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new mh,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var o=e[n][i];o.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",o.getValue()[0],o.getConfidence(o.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new sR,t}(),RR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},md=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw N.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof L||n instanceof ot?N.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,o,a=new Array,s=tR.detectMultiple(e,r,n);try{for(var c=RR(s.getPoints()),l=c.next();!l.done;l=c.next()){var u=l.value,d=TR.decode(s.getBits(),u[4],u[5],u[6],u[7],t.getMinCodewordWidth(u),t.getMaxCodewordWidth(u)),f=new At(d.getText(),d.getRawBytes(),void 0,u,j.PDF_417);f.putMetadata(ft.ERROR_CORRECTION_LEVEL,d.getECLevel());var h=d.getOther();h!=null&&f.putMetadata(ft.PDF417_EXTRA_METADATA,h),a.push(f)}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return a.map(function(p){return p})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?ee.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*oe.MODULES_IN_CODEWORD/oe.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),OR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),q0=function(t){OR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(Ht),Q0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},NR=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(Re.TRY_HARDER)!==void 0,n=e==null?null:e.get(Re.POSSIBLE_FORMATS),i=new Array;if(n!=null){var o=n.some(function(a){return a===j.UPC_A||a===j.UPC_E||a===j.EAN_13||a===j.EAN_8||a===j.CODABAR||a===j.CODE_39||a===j.CODE_93||a===j.CODE_128||a===j.ITF||a===j.RSS_14||a===j.RSS_EXPANDED});o&&!r&&i.push(new Mo(e)),n.includes(j.QR_CODE)&&i.push(new gd),n.includes(j.DATA_MATRIX)&&i.push(new pd),n.includes(j.AZTEC)&&i.push(new fd),n.includes(j.PDF_417)&&i.push(new md),o&&r&&i.push(new Mo(e))}i.length===0&&(r||i.push(new Mo(e)),i.push(new gd),i.push(new pd),i.push(new fd),i.push(new md),r&&i.push(new Mo(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=Q0(this.readers),i=n.next();!i.done;i=n.next()){var o=i.value;o.reset()}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new q0("No readers where selected, nothing can be read.");try{for(var i=Q0(this.readers),o=i.next();!o.done;o=i.next()){var a=o.value;try{return a.decode(e,this.hints)}catch(s){if(s instanceof q0)continue}}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new N("No MultiFormat Readers were able to detect the code.")},t}(),kR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),PR=function(t){kR(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,o=new NR;return o.setHints(r),i=t.call(this,o,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(go),bR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){bR(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new md,r)||this}return e})(go);var MR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){MR(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new gd,r)||this}return e})(go);var yd;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",t[t.MIN_SIZE=4]="MIN_SIZE",t[t.MAX_SIZE=5]="MAX_SIZE",t[t.MARGIN=6]="MARGIN",t[t.PDF417_COMPACT=7]="PDF417_COMPACT",t[t.PDF417_COMPACTION=8]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=10]="AZTEC_LAYERS",t[t.QR_VERSION=11]="QR_VERSION",t[t.GS1_FORMAT=12]="GS1_FORMAT",t[t.FORCE_C40=13]="FORCE_C40"})(yd||(yd={}));const as=yd;var tC=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new In(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,o=r.length;o<=e;o++){var a=n.multiply(new In(i,Int32Array.from([1,i.exp(o-1+i.getGeneratorBase())])));r.push(a),n=a}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new W("No error correction bytes");var n=e.length-r;if(n<=0)throw new W("No data bytes provided");var i=this.buildGenerator(r),o=new Int32Array(n);Ee.arraycopy(e,0,o,0,n);var a=new In(this.field,o);a=a.multiplyByMonomial(r,1);for(var s=a.divide(i)[1],c=s.getCoefficients(),l=r-c.length,u=0;u<l;u++)e[n+u]=0;Ee.arraycopy(c,0,e,n+l,c.length)},t}(),Lo=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=n[a],c=0;c<i-1;c++){var l=s[c];l===s[c+1]&&l===n[a+1][c]&&l===n[a+1][c+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var c=n[a];s+6<i&&c[s]===1&&c[s+1]===0&&c[s+2]===1&&c[s+3]===1&&c[s+4]===1&&c[s+5]===0&&c[s+6]===1&&(t.isWhiteHorizontal(c,s-4,s)||t.isWhiteHorizontal(c,s+7,s+11))&&r++,a+6<o&&n[a][s]===1&&n[a+1][s]===0&&n[a+2][s]===1&&n[a+3][s]===1&&n[a+4][s]===1&&n[a+5][s]===0&&n[a+6][s]===1&&(t.isWhiteVertical(n,s,a-4,a)||t.isWhiteVertical(n,s,a+7,a+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var o=n;o<i;o++)if(e[o][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=n[a],c=0;c<i;c++)s[c]===1&&r++;var l=e.getHeight()*e.getWidth(),u=Math.floor(Math.abs(r*2-l)*10/l);return u*t.N4},t.getDataMaskBit=function(e,r,n){var i,o;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:o=n*r,i=(o&1)+o%3;break;case 6:o=n*r,i=(o&1)+o%3&1;break;case 7:o=n*r,i=o%3+(n+r&1)&1;break;default:throw new W("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),o=r?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var c=0,l=-1,u=0;u<o;u++){var d=r?a[s][u]:a[u][s];d===l?c++:(c>=5&&(n+=t.N1+(c-5)),c=1,l=d)}c>=5&&(n+=t.N1+(c-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),DR=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},LR=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=DR(this.bytes),o=i.next();!o.done;o=i.next()){var a=o.value;Ye.fill(a,e)}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var o=this.bytes[n],a=r.bytes[n],s=0,c=this.width;s<c;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var e=new Z,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],o=0,a=this.width;o<a;++o)switch(i[o]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}(),Cd=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new Z;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),BR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),_e=function(t){BR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(Ht),Z0=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,o){t.clearMatrix(o),t.embedBasicPatterns(n,o),t.embedTypeInfo(r,i,o),t.maybeEmbedVersionInfo(n,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new at;t.makeTypeInfoBits(e,r,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),c=t.TYPE_INFO_COORDINATES[o],l=c[0],u=c[1];if(n.setBoolean(l,u,s),o<8){var d=n.getWidth()-o-1,f=8;n.setBoolean(d,f,s)}else{var d=8,f=n.getHeight()-7+(o-8);n.setBoolean(d,f,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new at;t.makeVersionInfoBits(e,n);for(var i=6*3-1,o=0;o<6;++o)for(var a=0;a<3;++a){var s=n.get(i);i--,r.setBoolean(o,r.getHeight()-11+a,s),r.setBoolean(r.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,o=-1,a=n.getWidth()-1,s=n.getHeight()-1;a>0;){for(a===6&&(a-=1);s>=0&&s<n.getHeight();){for(var c=0;c<2;++c){var l=a-c;if(t.isEmpty(n.get(l,s))){var u=void 0;i<e.getSize()?(u=e.get(i),++i):u=!1,r!==255&&Lo.getDataMaskBit(r,l,s)&&(u=!u),n.setBoolean(l,s,u)}}s+=o}o=-o,s+=o,a-=2}if(i!==e.getSize())throw new _e("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-ee.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new W("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!Cd.isValidMaskPattern(r))throw new _e("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(o,10);var a=new at;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new _e("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new _e("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new _e;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new _e;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new _e;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)n.setNumber(e+a,r+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var c=0;c!==a;c++){var l=i[c];l>=0&&t.isEmpty(r.get(l,s))&&t.embedPositionAdjustmentPattern(l-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),FR=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),J0=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.calculateMaskPenalty=function(e){return Lo.applyMaskPenaltyRule1(e)+Lo.applyMaskPenaltyRule2(e)+Lo.applyMaskPenaltyRule3(e)+Lo.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=n!==null&&n.get(as.CHARACTER_SET)!==void 0;o&&(i=n.get(as.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new at;if(a===xe.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var c=Xe.getCharacterSetECIByName(i);c!==void 0&&this.appendECI(c,s)}this.appendModeInfo(a,s);var l=new at;this.appendBytes(e,a,l,i);var u;if(n!==null&&n.get(as.QR_VERSION)!==void 0){var d=Number.parseInt(n.get(as.QR_VERSION).toString(),10);u=ei.getVersionForNumber(d);var f=this.calculateBitsNeeded(a,s,l,u);if(!this.willFit(f,u,r))throw new _e("Data too big for requested version")}else u=this.recommendVersion(r,a,s,l);var h=new at;h.appendBitArray(s);var p=a===xe.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(p,u,a,h),h.appendBitArray(l);var g=u.getECBlocksForLevel(r),y=u.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(y,h);var m=this.interleaveWithECBytes(h,u.getTotalCodewords(),y,g.getNumBlocks()),v=new Cd;v.setECLevel(r),v.setMode(a),v.setVersion(u);var C=u.getDimensionForVersion(),E=new LR(C,C),A=this.chooseMaskPattern(m,r,u,E);return v.setMaskPattern(A),Z0.buildMatrix(m,r,u,A,E),v.setMatrix(E),v},t.recommendVersion=function(e,r,n,i){var o=this.calculateBitsNeeded(r,n,i,ei.getVersionForNumber(1)),a=this.chooseVersion(o,e),s=this.calculateBitsNeeded(r,n,i,a);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Xe.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return xe.KANJI;for(var n=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return xe.BYTE}return i?xe.ALPHANUMERIC:n?xe.NUMERIC:xe.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=ir.encode(e,Xe.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var o=r[i]&255;if((o<129||o>159)&&(o<224||o>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var o=Number.MAX_SAFE_INTEGER,a=-1,s=0;s<Cd.NUM_MASK_PATTERNS;s++){Z0.buildMatrix(e,r,n,s,i);var c=this.calculateMaskPenalty(i);c<o&&(o=c,a=s)}return a},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=ei.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new _e("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),o=r.getECBlocksForLevel(n),a=o.getTotalECCodewords(),s=i-a,c=(e+7)/8;return s>=c},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new _e("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var o=r.getSize()&7;if(o>0)for(var i=o;i<8;i++)r.appendBit(!1);for(var a=e-r.getSizeInBytes(),i=0;i<a;++i)r.appendBits(i&1?17:236,8);if(r.getSize()!==n)throw new _e("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,o,a){if(i>=n)throw new _e("Block ID too large");var s=e%n,c=n-s,l=Math.floor(e/n),u=l+1,d=Math.floor(r/n),f=d+1,h=l-d,p=u-f;if(h!==p)throw new _e("EC bytes mismatch");if(n!==c+s)throw new _e("RS blocks mismatch");if(e!==(d+h)*c+(f+p)*s)throw new _e("Total bytes mismatch");i<c?(o[0]=d,a[0]=h):(o[0]=f,a[0]=p)},t.interleaveWithECBytes=function(e,r,n,i){var o,a,s,c;if(e.getSizeInBytes()!==n)throw new _e("Number of bits and data bytes does not match");for(var l=0,u=0,d=0,f=new Array,h=0;h<i;++h){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,h,p,g);var y=p[0],m=new Uint8Array(y);e.toBytes(8*l,m,0,y);var v=t.generateECBytes(m,g[0]);f.push(new FR(m,v)),u=Math.max(u,y),d=Math.max(d,v.length),l+=p[0]}if(n!==l)throw new _e("Data bytes does not match offset");for(var C=new at,h=0;h<u;++h)try{for(var E=(o=void 0,J0(f)),A=E.next();!A.done;A=E.next()){var _=A.value,m=_.getDataBytes();h<m.length&&C.appendBits(m[h],8)}}catch(M){o={error:M}}finally{try{A&&!A.done&&(a=E.return)&&a.call(E)}finally{if(o)throw o.error}}for(var h=0;h<d;++h)try{for(var x=(s=void 0,J0(f)),O=x.next();!O.done;O=x.next()){var _=O.value,v=_.getErrorCorrectionBytes();h<v.length&&C.appendBits(v[h],8)}}catch(M){s={error:M}}finally{try{O&&!O.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}if(r!==C.getSizeInBytes())throw new _e("Interleaving error: "+r+" and "+C.getSizeInBytes()+" differ.");return C},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),o=0;o<n;o++)i[o]=e[o]&255;new tC(bt.QR_CODE_FIELD_256).encode(i,r);for(var a=new Uint8Array(r),o=0;o<r;o++)a[o]=i[n+o];return a},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var o=n.getCharacterCountBits(r);if(e>=1<<o)throw new _e(e+" is bigger than "+((1<<o)-1));i.appendBits(e,o)},t.appendBytes=function(e,r,n,i){switch(r){case xe.NUMERIC:t.appendNumericBytes(e,n);break;case xe.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case xe.BYTE:t.append8BitBytes(e,n,i);break;case xe.KANJI:t.appendKanjiBytes(e,n);break;default:throw new _e("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getDigit(e.charAt(i));if(i+2<n){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(o*100+a*10+s,10),i+=3}else if(i+1<n){var a=t.getDigit(e.charAt(i+1));r.appendBits(o*10+a,7),i+=2}else r.appendBits(o,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(o===-1)throw new _e;if(i+1<n){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(a===-1)throw new _e;r.appendBits(o*45+a,11),i+=2}else r.appendBits(o,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=ir.encode(e,n)}catch(c){throw new _e(c)}for(var o=0,a=i.length;o!==a;o++){var s=i[o];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=ir.encode(e,Xe.SJIS)}catch(d){throw new _e(d)}for(var i=n.length,o=0;o<i;o+=2){var a=n[o]&255,s=n[o+1]&255,c=a<<8&4294967295|s,l=-1;if(c>=33088&&c<=40956?l=c-33088:c>=57408&&c<=60351&&(l=c-49472),l===-1)throw new _e("Invalid byte sequence");var u=(l>>8)*192+(l&255);r.appendBits(u,13)}},t.appendECI=function(e,r){r.appendBits(xe.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Xe.UTF8.getName(),t})();var UR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){UR(e,t);function e(r,n,i,o,a,s,c,l){var u=t.call(this,s,c)||this;if(u.yuvData=r,u.dataWidth=n,u.dataHeight=i,u.left=o,u.top=a,o+s>n||a+c>i)throw new W("Crop rectangle does not fit within image data.");return l&&u.reverseHorizontal(s,c),u}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new W("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Ee.arraycopy(this.yuvData,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ee.arraycopy(this.yuvData,a,o,0,i),o;for(var s=0;s<n;s++){var c=s*r;Ee.arraycopy(this.yuvData,a,o,c,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,o,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),o=this.yuvData,a=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var c=s*r,l=0;l<r;l++){var u=o[a+l*e.THUMBNAIL_SCALE_FACTOR]&255;i[c+l]=4278190080|u*65793}a+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,o=0,a=this.top*this.dataWidth+this.left;o<n;o++,a+=this.dataWidth)for(var s=a+r/2,c=a,l=a+r-1;c<s;c++,l--){var u=i[c];i[c]=i[l],i[l]=u}},e.prototype.invert=function(){return new hh(this)},e.THUMBNAIL_SCALE_FACTOR=2,e})(qc);var HR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();(function(t){HR(e,t);function e(r,n,i,o,a,s,c){var l=t.call(this,n,i)||this;if(l.dataWidth=o,l.dataHeight=a,l.left=s,l.top=c,r.BYTES_PER_ELEMENT===4){for(var u=n*i,d=new Uint8ClampedArray(u),f=0;f<u;f++){var h=r[f],p=h>>16&255,g=h>>7&510,y=h&255;d[f]=(p+g+y)/4&255}l.luminances=d}else l.luminances=r;if(o===void 0&&(l.dataWidth=n),a===void 0&&(l.dataHeight=i),s===void 0&&(l.left=0),c===void 0&&(l.top=0),l.left+n>l.dataWidth||l.top+i>l.dataHeight)throw new W("Crop rectangle does not fit within image data.");return l}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new W("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var o=(r+this.top)*this.dataWidth+this.left;return Ee.arraycopy(this.luminances,o,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,o=new Uint8ClampedArray(i),a=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return Ee.arraycopy(this.luminances,a,o,0,i),o;for(var s=0;s<n;s++){var c=s*r;Ee.arraycopy(this.luminances,a,o,c,r),a+=this.dataWidth}return o},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,o){return new e(this.luminances,i,o,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new hh(this)},e})(qc);var zR=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KR=function(t){zR(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(Xe),GR=function(){function t(){}return t.ISO_8859_1=Xe.ISO8859_1,t}(),wd,VR=301,jR=function(t,e){for(var r=1,n=0;n<255;n++)e[n]=r,t[r]=n,r*=2,r>=256&&(r^=VR);return{LOG:t,ALOG:e}};wd=jR([],[]),wd.LOG;wd.ALOG;var ep;(function(t){t[t.FORCE_NONE=0]="FORCE_NONE",t[t.FORCE_SQUARE=1]="FORCE_SQUARE",t[t.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(ep||(ep={}));var tp=129,rC=230,WR=231,$R=235,XR=236,YR=237,qR=238,QR=239,ZR=240,Kl=254,JR=254,rp="[)>05",np="[)>06",ip="",he=0,ut=1,It=2,Ge=3,rt=4,mt=5,eO=function(){function t(){}return t.prototype.getEncodingMode=function(){return he},t.prototype.encode=function(e){var r=gr.determineConsecutiveDigitCount(e.getMessage(),e.pos);if(r>=2)e.writeCodeword(this.encodeASCIIDigits(e.getMessage().charCodeAt(e.pos),e.getMessage().charCodeAt(e.pos+1))),e.pos+=2;else{var n=e.getCurrentChar(),i=gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode())switch(i){case mt:e.writeCodeword(WR),e.signalEncoderChange(mt);return;case ut:e.writeCodeword(rC),e.signalEncoderChange(ut);return;case Ge:e.writeCodeword(qR),e.signalEncoderChange(Ge);break;case It:e.writeCodeword(QR),e.signalEncoderChange(It);break;case rt:e.writeCodeword(ZR),e.signalEncoderChange(rt);break;default:throw new Error("Illegal mode: "+i)}else gr.isExtendedASCII(n)?(e.writeCodeword($R),e.writeCodeword(n-128+1),e.pos++):(e.writeCodeword(n+1),e.pos++)}},t.prototype.encodeASCIIDigits=function(e,r){if(gr.isDigit(e)&&gr.isDigit(r)){var n=(e-48)*10+(r-48);return n+130}throw new Error("not digits: "+e+r)},t}(),tO=function(){function t(){}return t.prototype.getEncodingMode=function(){return mt},t.prototype.encode=function(e){var r=new Z;for(r.append(0);e.hasMoreCharacters();){var n=e.getCurrentChar();r.append(n),e.pos++;var i=gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(i!==this.getEncodingMode()){e.signalEncoderChange(he);break}}var o=r.length()-1,a=1,s=e.getCodewordCount()+o+a;e.updateSymbolInfo(s);var c=e.getSymbolInfo().getDataCapacity()-s>0;if(e.hasMoreCharacters()||c)if(o<=249)r.setCharAt(0,ne.getCharAt(o));else if(o<=1555)r.setCharAt(0,ne.getCharAt(Math.floor(o/250)+249)),r.insert(1,ne.getCharAt(o%250));else throw new Error("Message length not in valid ranges: "+o);for(var l=0,n=r.length();l<n;l++)e.writeCodeword(this.randomize255State(r.charAt(l).charCodeAt(0),e.getCodewordCount()+1))},t.prototype.randomize255State=function(e,r){var n=149*r%255+1,i=e+n;return i<=255?i:i-256},t}(),yh=function(){function t(){}return t.prototype.getEncodingMode=function(){return ut},t.prototype.encodeMaximal=function(e){for(var r=new Z,n=0,i=e.pos,o=0;e.hasMoreCharacters();){var a=e.getCurrentChar();e.pos++,n=this.encodeChar(a,r),r.length()%3===0&&(i=e.pos,o=r.length())}if(o!==r.length()){var s=Math.floor(r.length()/3*2),c=Math.floor(e.getCodewordCount()+s+1);e.updateSymbolInfo(c);var l=e.getSymbolInfo().getDataCapacity()-c,u=Math.floor(r.length()%3);(u===2&&l!==2||u===1&&(n>3||l!==1))&&(e.pos=i)}r.length()>0&&e.writeCodeword(rC),this.handleEOD(e,r)},t.prototype.encode=function(e){for(var r=new Z;e.hasMoreCharacters();){var n=e.getCurrentChar();e.pos++;var i=this.encodeChar(n,r),o=Math.floor(r.length()/3)*2,a=e.getCodewordCount()+o;e.updateSymbolInfo(a);var s=e.getSymbolInfo().getDataCapacity()-a;if(!e.hasMoreCharacters()){var c=new Z;for(r.length()%3===2&&s!==2&&(i=this.backtrackOneCharacter(e,r,c,i));r.length()%3===1&&(i>3||s!==1);)i=this.backtrackOneCharacter(e,r,c,i);break}var l=r.length();if(l%3===0){var u=gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(u!==this.getEncodingMode()){e.signalEncoderChange(he);break}}}this.handleEOD(e,r)},t.prototype.backtrackOneCharacter=function(e,r,n,i){var o=r.length(),a=r.toString().substring(0,o-i);r.setLengthToZero(),r.append(a),e.pos--;var s=e.getCurrentChar();return i=this.encodeChar(s,n),e.resetSymbolInfo(),i},t.prototype.writeNextTriplet=function(e,r){e.writeCodewords(this.encodeToCodewords(r.toString()));var n=r.toString().substring(3);r.setLengthToZero(),r.append(n)},t.prototype.handleEOD=function(e,r){var n=Math.floor(r.length()/3*2),i=r.length()%3,o=e.getCodewordCount()+n;e.updateSymbolInfo(o);var a=e.getSymbolInfo().getDataCapacity()-o;if(i===2){for(r.append("\0");r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Kl)}else if(a===1&&i===1){for(;r.length()>=3;)this.writeNextTriplet(e,r);e.hasMoreCharacters()&&e.writeCodeword(Kl),e.pos--}else if(i===0){for(;r.length()>=3;)this.writeNextTriplet(e,r);(a>0||e.hasMoreCharacters())&&e.writeCodeword(Kl)}else throw new Error("Unexpected case. Please report!");e.signalEncoderChange(he)},t.prototype.encodeChar=function(e,r){if(e===32)return r.append(3),1;if(e>=48&&e<=57)return r.append(e-48+4),1;if(e>=65&&e<=90)return r.append(e-65+14),1;if(e<32)return r.append(0),r.append(e),2;if(e<=47)return r.append(1),r.append(e-33),2;if(e<=64)return r.append(1),r.append(e-58+15),2;if(e<=95)return r.append(1),r.append(e-91+22),2;if(e<=127)return r.append(2),r.append(e-96),2;r.append("1");var n=2;return n+=this.encodeChar(e-128,r),n},t.prototype.encodeToCodewords=function(e){var r=1600*e.charCodeAt(0)+40*e.charCodeAt(1)+e.charCodeAt(2)+1,n=r/256,i=r%256,o=new Z;return o.append(n),o.append(i),o.toString()},t}(),rO=function(){function t(){}return t.prototype.getEncodingMode=function(){return rt},t.prototype.encode=function(e){for(var r=new Z;e.hasMoreCharacters();){var n=e.getCurrentChar();this.encodeChar(n,r),e.pos++;var i=r.length();if(i>=4){e.writeCodewords(this.encodeToCodewords(r.toString()));var o=r.toString().substring(4);r.setLengthToZero(),r.append(o);var a=gr.lookAheadTest(e.getMessage(),e.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){e.signalEncoderChange(he);break}}}r.append(ne.getCharAt(31)),this.handleEOD(e,r)},t.prototype.handleEOD=function(e,r){try{var n=r.length();if(n===0)return;if(n===1){e.updateSymbolInfo();var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount(),o=e.getRemainingCharacters();if(o>i&&(e.updateSymbolInfo(e.getCodewordCount()+1),i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount()),o<=i&&i<=2)return}if(n>4)throw new Error("Count must not exceed 4");var a=n-1,s=this.encodeToCodewords(r.toString()),c=!e.hasMoreCharacters(),l=c&&a<=2;if(a<=2){e.updateSymbolInfo(e.getCodewordCount()+a);var i=e.getSymbolInfo().getDataCapacity()-e.getCodewordCount();i>=3&&(l=!1,e.updateSymbolInfo(e.getCodewordCount()+s.length))}l?(e.resetSymbolInfo(),e.pos-=a):e.writeCodewords(s)}finally{e.signalEncoderChange(he)}},t.prototype.encodeChar=function(e,r){e>=32&&e<=63?r.append(e):e>=64&&e<=94?r.append(ne.getCharAt(e-64)):gr.illegalCharacter(ne.getCharAt(e))},t.prototype.encodeToCodewords=function(e){var r=e.length;if(r===0)throw new Error("StringBuilder must not be empty");var n=e.charAt(0).charCodeAt(0),i=r>=2?e.charAt(1).charCodeAt(0):0,o=r>=3?e.charAt(2).charCodeAt(0):0,a=r>=4?e.charAt(3).charCodeAt(0):0,s=(n<<18)+(i<<12)+(o<<6)+a,c=s>>16&255,l=s>>8&255,u=s&255,d=new Z;return d.append(c),r>=2&&d.append(l),r>=3&&d.append(u),d.toString()},t}(),nO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},le=function(){function t(e,r,n,i,o,a,s,c){s===void 0&&(s=0),c===void 0&&(c=0),this.rectangular=e,this.dataCapacity=r,this.errorCodewords=n,this.matrixWidth=i,this.matrixHeight=o,this.dataRegions=a,this.rsBlockData=s,this.rsBlockError=c}return t.lookup=function(e,r,n,i,o){var a,s;r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!0);try{for(var c=iO(aO),l=c.next();!l.done;l=c.next()){var u=l.value;if(!(r===1&&u.rectangular)&&!(r===2&&!u.rectangular)&&!(n!=null&&(u.getSymbolWidth()<n.getWidth()||u.getSymbolHeight()<n.getHeight()))&&!(i!=null&&(u.getSymbolWidth()>i.getWidth()||u.getSymbolHeight()>i.getHeight()))&&e<=u.dataCapacity)return u}}catch(d){a={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}if(o)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+e);return null},t.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},t.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},t.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},t.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},t.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},t.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},t.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},t.prototype.getDataCapacity=function(){return this.dataCapacity},t.prototype.getErrorCodewords=function(){return this.errorCodewords},t.prototype.getDataLengthForInterleavedBlock=function(e){return this.rsBlockData},t.prototype.getErrorLengthForInterleavedBlock=function(e){return this.rsBlockError},t}(),oO=function(t){nO(e,t);function e(){return t.call(this,!1,1558,620,22,22,36,-1,62)||this}return e.prototype.getInterleavedBlockCount=function(){return 10},e.prototype.getDataLengthForInterleavedBlock=function(r){return r<=8?156:155},e}(le),aO=[new le(!1,3,5,8,8,1),new le(!1,5,7,10,10,1),new le(!0,5,7,16,6,1),new le(!1,8,10,12,12,1),new le(!0,10,11,14,6,2),new le(!1,12,12,14,14,1),new le(!0,16,14,24,10,1),new le(!1,18,14,16,16,1),new le(!1,22,18,18,18,1),new le(!0,22,18,16,10,2),new le(!1,30,20,20,20,1),new le(!0,32,24,16,14,2),new le(!1,36,24,22,22,1),new le(!1,44,28,24,24,1),new le(!0,49,28,22,14,2),new le(!1,62,36,14,14,4),new le(!1,86,42,16,16,4),new le(!1,114,48,18,18,4),new le(!1,144,56,20,20,4),new le(!1,174,68,22,22,4),new le(!1,204,84,24,24,4,102,42),new le(!1,280,112,14,14,16,140,56),new le(!1,368,144,16,16,16,92,36),new le(!1,456,192,18,18,16,114,48),new le(!1,576,224,20,20,16,144,56),new le(!1,696,272,22,22,16,174,68),new le(!1,816,336,24,24,16,136,56),new le(!1,1050,408,18,18,36,175,68),new le(!1,1304,496,20,20,36,163,62),new oO],sO=function(){function t(e){this.msg=e,this.pos=0,this.skipAtEnd=0;for(var r=e.split("").map(function(s){return s.charCodeAt(0)}),n=new Z,i=0,o=r.length;i<o;i++){var a=String.fromCharCode(r[i]&255);if(a==="?"&&e.charAt(i)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");n.append(a)}this.msg=n.toString(),this.shape=0,this.codewords=new Z,this.newEncoding=-1}return t.prototype.setSymbolShape=function(e){this.shape=e},t.prototype.setSizeConstraints=function(e,r){this.minSize=e,this.maxSize=r},t.prototype.getMessage=function(){return this.msg},t.prototype.setSkipAtEnd=function(e){this.skipAtEnd=e},t.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},t.prototype.getCodewords=function(){return this.codewords},t.prototype.writeCodewords=function(e){this.codewords.append(e)},t.prototype.writeCodeword=function(e){this.codewords.append(e)},t.prototype.getCodewordCount=function(){return this.codewords.length()},t.prototype.getNewEncoding=function(){return this.newEncoding},t.prototype.signalEncoderChange=function(e){this.newEncoding=e},t.prototype.resetEncoderSignal=function(){this.newEncoding=-1},t.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},t.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},t.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},t.prototype.getSymbolInfo=function(){return this.symbolInfo},t.prototype.updateSymbolInfo=function(e){e===void 0&&(e=this.getCodewordCount()),(this.symbolInfo==null||e>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=le.lookup(e,this.shape,this.minSize,this.maxSize,!0))},t.prototype.resetSymbolInfo=function(){this.symbolInfo=null},t}(),cO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lO=function(t){cO(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return Ge},e.prototype.encode=function(r){for(var n=new Z;r.hasMoreCharacters();){var i=r.getCurrentChar();r.pos++,this.encodeChar(i,n);var o=n.length();if(o%3===0){this.writeNextTriplet(r,n);var a=gr.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(a!==this.getEncodingMode()){r.signalEncoderChange(he);break}}}this.handleEOD(r,n)},e.prototype.encodeChar=function(r,n){switch(r){case 13:n.append(0);break;case 42:n.append(1);break;case 62:n.append(2);break;case 32:n.append(3);break;default:r>=48&&r<=57?n.append(r-48+4):r>=65&&r<=90?n.append(r-65+14):gr.illegalCharacter(ne.getCharAt(r));break}return 1},e.prototype.handleEOD=function(r,n){r.updateSymbolInfo();var i=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),o=n.length();r.pos-=o,(r.getRemainingCharacters()>1||i>1||r.getRemainingCharacters()!==i)&&r.writeCodeword(JR),r.getNewEncoding()<0&&r.signalEncoderChange(he)},e}(yh),uO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dO=function(t){uO(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getEncodingMode=function(){return It},e.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=97&&r<=122)return n.append(r-97+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r>=91&&r<=95)return n.append(1),n.append(r-91+22),2;if(r===96)return n.append(2),n.append(0),2;if(r<=90)return n.append(2),n.append(r-65+1),2;if(r<=127)return n.append(2),n.append(r-123+27),2;n.append("1");var i=2;return i+=this.encodeChar(r-128,n),i},e}(yh),gr=function(){function t(){}return t.randomize253State=function(e){var r=149*e%253+1,n=tp+r;return n<=254?n:n-254},t.encodeHighLevel=function(e,r,n,i,o){r===void 0&&(r=0),n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1);var a=new yh,s=[new eO,a,new dO,new lO,new rO,new tO],c=new sO(e);c.setSymbolShape(r),c.setSizeConstraints(n,i),e.startsWith(rp)&&e.endsWith(ip)?(c.writeCodeword(XR),c.setSkipAtEnd(2),c.pos+=rp.length):e.startsWith(np)&&e.endsWith(ip)&&(c.writeCodeword(YR),c.setSkipAtEnd(2),c.pos+=np.length);var l=he;for(o&&(a.encodeMaximal(c),l=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)s[l].encode(c),c.getNewEncoding()>=0&&(l=c.getNewEncoding(),c.resetEncoderSignal());var u=c.getCodewordCount();c.updateSymbolInfo();var d=c.getSymbolInfo().getDataCapacity();u<d&&l!==he&&l!==mt&&l!==rt&&c.writeCodeword("");var f=c.getCodewords();for(f.length()<d&&f.append(tp);f.length()<d;)f.append(this.randomize253State(f.length()+1));return c.getCodewords().toString()},t.lookAheadTest=function(e,r,n){var i=this.lookAheadTestIntern(e,r,n);if(n===Ge&&i===Ge){for(var o=Math.min(r+3,e.length),a=r;a<o;a++)if(!this.isNativeX12(e.charCodeAt(a)))return he}else if(n===rt&&i===rt){for(var o=Math.min(r+4,e.length),a=r;a<o;a++)if(!this.isNativeEDIFACT(e.charCodeAt(a)))return he}return i},t.lookAheadTestIntern=function(e,r,n){if(r>=e.length)return n;var i;n===he?i=[0,1,1,1,1,1.25]:(i=[1,2,2,2,2,2.25],i[n]=0);for(var o=0,a=new Uint8Array(6),s=[];;){if(r+o===e.length){Ye.fill(a,0),Ye.fill(s,0);var c=this.findMinimums(i,s,ee.MAX_VALUE,a),l=this.getMinimumCount(a);if(s[he]===c)return he;if(l===1){if(a[mt]>0)return mt;if(a[rt]>0)return rt;if(a[It]>0)return It;if(a[Ge]>0)return Ge}return ut}var u=e.charCodeAt(r+o);if(o++,this.isDigit(u)?i[he]+=.5:this.isExtendedASCII(u)?(i[he]=Math.ceil(i[he]),i[he]+=2):(i[he]=Math.ceil(i[he]),i[he]++),this.isNativeC40(u)?i[ut]+=2/3:this.isExtendedASCII(u)?i[ut]+=8/3:i[ut]+=4/3,this.isNativeText(u)?i[It]+=2/3:this.isExtendedASCII(u)?i[It]+=8/3:i[It]+=4/3,this.isNativeX12(u)?i[Ge]+=2/3:this.isExtendedASCII(u)?i[Ge]+=13/3:i[Ge]+=10/3,this.isNativeEDIFACT(u)?i[rt]+=3/4:this.isExtendedASCII(u)?i[rt]+=17/4:i[rt]+=13/4,this.isSpecialB256(u)?i[mt]+=4:i[mt]++,o>=4){if(Ye.fill(a,0),Ye.fill(s,0),this.findMinimums(i,s,ee.MAX_VALUE,a),s[he]<this.min(s[mt],s[ut],s[It],s[Ge],s[rt]))return he;if(s[mt]<s[he]||s[mt]+1<this.min(s[ut],s[It],s[Ge],s[rt]))return mt;if(s[rt]+1<this.min(s[mt],s[ut],s[It],s[Ge],s[he]))return rt;if(s[It]+1<this.min(s[mt],s[ut],s[rt],s[Ge],s[he]))return It;if(s[Ge]+1<this.min(s[mt],s[ut],s[rt],s[It],s[he]))return Ge;if(s[ut]+1<this.min(s[he],s[mt],s[rt],s[It])){if(s[ut]<s[Ge])return ut;if(s[ut]===s[Ge]){for(var d=r+o+1;d<e.length;){var f=e.charCodeAt(d);if(this.isX12TermSep(f))return Ge;if(!this.isNativeX12(f))break;d++}return ut}}}}},t.min=function(e,r,n,i,o){var a=Math.min(e,Math.min(r,Math.min(n,i)));return o===void 0?a:Math.min(a,o)},t.findMinimums=function(e,r,n,i){for(var o=0;o<6;o++){var a=r[o]=Math.ceil(e[o]);n>a&&(n=a,Ye.fill(i,0)),n===a&&(i[o]=i[o]+1)}return n},t.getMinimumCount=function(e){for(var r=0,n=0;n<6;n++)r+=e[n];return r||0},t.isDigit=function(e){return e>=48&&e<=57},t.isExtendedASCII=function(e){return e>=128&&e<=255},t.isNativeC40=function(e){return e===32||e>=48&&e<=57||e>=65&&e<=90},t.isNativeText=function(e){return e===32||e>=48&&e<=57||e>=97&&e<=122},t.isNativeX12=function(e){return this.isX12TermSep(e)||e===32||e>=48&&e<=57||e>=65&&e<=90},t.isX12TermSep=function(e){return e===13||e===42||e===62},t.isNativeEDIFACT=function(e){return e>=32&&e<=94},t.isSpecialB256=function(e){return!1},t.determineConsecutiveDigitCount=function(e,r){r===void 0&&(r=0);for(var n=e.length,i=r;i<n&&this.isDigit(e.charCodeAt(i));)i++;return i-r},t.illegalCharacter=function(e){var r=ee.toHexString(e.charCodeAt(0));throw r="0000".substring(0,4-r.length)+r,new Error("Illegal character: "+e+" (0x"+r+")")},t}(),Gl=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},op=function(){function t(e){this.charset=e,this.name=e.name}return t.prototype.canEncode=function(e){try{return ir.encode(e,this.charset)!=null}catch{return!1}},t}(),fO=function(){function t(e,r,n){var i,o,a,s,c,l;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(F){return new op(KR.forName(F))}),this.encoders=[];var u=[];u.push(new op(GR.ISO_8859_1));for(var d=r!=null&&r.name.startsWith("UTF"),f=0;f<e.length;f++){var h=!1;try{for(var p=(i=void 0,Gl(u)),g=p.next();!g.done;g=p.next()){var y=g.value,m=e.charAt(f),v=m.charCodeAt(0);if(v===n||y.canEncode(m)){h=!0;break}}}catch(F){i={error:F}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!h)try{for(var C=(a=void 0,Gl(this.ENCODERS)),E=C.next();!E.done;E=C.next()){var y=E.value;if(y.canEncode(e.charAt(f))){u.push(y),h=!0;break}}}catch(F){a={error:F}}finally{try{E&&!E.done&&(s=C.return)&&s.call(C)}finally{if(a)throw a.error}}h||(d=!0)}if(u.length===1&&!d)this.encoders=[u[0]];else{this.encoders=[];var A=0;try{for(var _=Gl(u),x=_.next();!x.done;x=_.next()){var y=x.value;this.encoders[A++]=y}}catch(F){c={error:F}}finally{try{x&&!x.done&&(l=_.return)&&l.call(_)}finally{if(c)throw c.error}}}var O=-1;if(r!=null){for(var f=0;f<this.encoders.length;f++)if(this.encoders[f]!=null&&r.name===this.encoders[f].name){O=f;break}}this.priorityEncoderIndex=O}return t.prototype.length=function(){return this.encoders.length},t.prototype.getCharsetName=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].name},t.prototype.getCharset=function(e){if(!(e<this.length()))throw new Error("index must be less than length");return this.encoders[e].charset},t.prototype.getECIValue=function(e){return this.encoders[e].charset.getValueIdentifier()},t.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},t.prototype.canEncode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return!0},t.prototype.encode=function(e,r){if(!(r<this.length()))throw new Error("index must be less than length");return ir.encode(ne.getCharAt(e),this.encoders[r].name)},t}(),hO=3,pO=function(){function t(e,r,n){this.fnc1=n;var i=new fO(e,r,n);if(i.length()===1)for(var o=0;o<this.bytes.length;o++){var a=e.charAt(o).charCodeAt(0);this.bytes[o]=a===n?1e3:a}else this.bytes=this.encodeMinimally(e,i,n)}return t.prototype.getFNC1Character=function(){return this.fnc1},t.prototype.length=function(){return this.bytes.length},t.prototype.haveNCharacters=function(e,r){if(e+r-1>=this.bytes.length)return!1;for(var n=0;n<r;n++)if(this.isECI(e+n))return!1;return!0},t.prototype.charAt=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(this.isECI(e))throw new Error("value at "+e+" is not a character but an ECI");return this.isFNC1(e)?this.fnc1:this.bytes[e]},t.prototype.subSequence=function(e,r){if(e<0||e>r||r>this.length())throw new Error(""+e);for(var n=new Z,i=e;i<r;i++){if(this.isECI(i))throw new Error("value at "+i+" is not a character but an ECI");n.append(this.charAt(i))}return n.toString()},t.prototype.isECI=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]>255&&this.bytes[e]<=999},t.prototype.isFNC1=function(e){if(e<0||e>=this.length())throw new Error(""+e);return this.bytes[e]===1e3},t.prototype.getECIValue=function(e){if(e<0||e>=this.length())throw new Error(""+e);if(!this.isECI(e))throw new Error("value at "+e+" is not an ECI but a character");return this.bytes[e]-256},t.prototype.addEdge=function(e,r,n){(e[r][n.encoderIndex]==null||e[r][n.encoderIndex].cachedTotalSize>n.cachedTotalSize)&&(e[r][n.encoderIndex]=n)},t.prototype.addEdges=function(e,r,n,i,o,a){var s=e.charAt(i).charCodeAt(0),c=0,l=r.length();r.getPriorityEncoderIndex()>=0&&(s===a||r.canEncode(s,r.getPriorityEncoderIndex()))&&(c=r.getPriorityEncoderIndex(),l=c+1);for(var u=c;u<l;u++)(s===a||r.canEncode(s,u))&&this.addEdge(n,i+1,new ap(s,r,u,o,a))},t.prototype.encodeMinimally=function(e,r,n){var i=e.length,o=new ap[i+1][r.length()];this.addEdges(e,r,o,0,null,n);for(var a=1;a<=i;a++){for(var s=0;s<r.length();s++)o[a][s]!=null&&a<i&&this.addEdges(e,r,o,a,o[a][s],n);for(var s=0;s<r.length();s++)o[a-1][s]=null}for(var c=-1,l=ee.MAX_VALUE,s=0;s<r.length();s++)if(o[i][s]!=null){var u=o[i][s];u.cachedTotalSize<l&&(l=u.cachedTotalSize,c=s)}if(c<0)throw new Error('Failed to encode "'+e+'"');for(var d=[],f=o[i][c];f!=null;){if(f.isFNC1())d.unshift(1e3);else for(var h=r.encode(f.c,f.encoderIndex),a=h.length-1;a>=0;a--)d.unshift(h[a]&255);var p=f.previous===null?0:f.previous.encoderIndex;p!==f.encoderIndex&&d.unshift(256+r.getECIValue(f.encoderIndex)),f=f.previous}for(var g=[],a=0;a<g.length;a++)g[a]=d[a];return g},t}(),ap=function(){function t(e,r,n,i,o){this.c=e,this.encoderSet=r,this.encoderIndex=n,this.previous=i,this.fnc1=o,this.c=e===o?1e3:e;var a=this.isFNC1()?1:r.encode(e,n).length,s=i===null?0:i.encoderIndex;s!==n&&(a+=hO),i!=null&&(a+=i.cachedTotalSize),this.cachedTotalSize=a}return t.prototype.isFNC1=function(){return this.c===1e3},t}(),gO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var sp;(function(t){t[t.ASCII=0]="ASCII",t[t.C40=1]="C40",t[t.TEXT=2]="TEXT",t[t.X12=3]="X12",t[t.EDF=4]="EDF",t[t.B256=5]="B256"})(sp||(sp={}));(function(t){gO(e,t);function e(r,n,i,o,a){var s=t.call(this,r,n,i)||this;return s.shape=o,s.macroId=a,s}return e.prototype.getMacroId=function(){return this.macroId},e.prototype.getShapeHint=function(){return this.shape},e})(pO);var vO=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}(),cp=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}(),mO=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}(),yO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ch=function(t){yO(e,t);function e(r,n,i){var o=t.call(this,r)||this;return o.value=n,o.bitCount=i,o}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+ee.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(mO),CO=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wO=function(t){CO(e,t);function e(r,n,i){var o=t.call(this,r,0,0)||this;return o.binaryShiftStart=n,o.binaryShiftByteCount=i,o}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(Ch);function EO(t,e,r){return new wO(t,e,r)}function To(t,e,r){return new Ch(t,e,r)}var AO=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tn=0,hc=1,rr=2,nC=3,Pr=4,_O=new Ch(null,0,0),Vl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],xO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function SO(t){var e,r;try{for(var n=xO(t),i=n.next();!i.done;i=n.next()){var o=i.value;Ye.fill(o,-1)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Tn][Pr]=0,t[hc][Pr]=0,t[hc][Tn]=28,t[nC][Pr]=0,t[rr][Pr]=0,t[rr][Tn]=15,t}var iC=SO(Ye.createInt32Array(6,6)),IO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},TO=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var o=Vl[this.mode][e];i=To(i,o&65535,o>>16),n+=o>>16}var a=e===rr?4:5;return i=To(i,r,a),new t(i,e,0,n+a)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===rr?4:5;return n=To(n,iC[this.mode][e],i),n=To(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===Pr||this.mode===rr){var o=Vl[n][Tn];r=To(r,o&65535,o>>16),i+=o>>16,n=Tn}var a=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+a);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=EO(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(Vl[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],o=this.endBinaryShift(e.length).token;o!==null;o=o.getPrevious())i.unshift(o);var a=new at;try{for(var s=IO(i),c=s.next();!c.done;c=s.next()){var l=c.value;l.appendTo(a,e)}}catch(u){r={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t.prototype.toString=function(){return ne.format("%s bits=%d bytes=%d",AO[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(_O,Tn,0,0),t}();function RO(t){var e=ne.getCharCode(" "),r=ne.getCharCode("."),n=ne.getCharCode(",");t[Tn][e]=1;for(var i=ne.getCharCode("Z"),o=ne.getCharCode("A"),a=o;a<=i;a++)t[Tn][a]=a-o+2;t[hc][e]=1;for(var s=ne.getCharCode("z"),c=ne.getCharCode("a"),a=c;a<=s;a++)t[hc][a]=a-c+2;t[rr][e]=1;for(var l=ne.getCharCode("9"),u=ne.getCharCode("0"),a=u;a<=l;a++)t[rr][a]=a-u+2;t[rr][n]=12,t[rr][r]=13;for(var d=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],f=0;f<d.length;f++)t[nC][ne.getCharCode(d[f])]=f;for(var h=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],f=0;f<h.length;f++)ne.getCharCode(h[f])>0&&(t[Pr][ne.getCharCode(h[f])]=f);return t}var jl=RO(Ye.createInt32Array(5,256)),ss=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},OO=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=ne.getCharCode(" "),r=ne.getCharCode(`
`),n=cp.singletonList(TO.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case ne.getCharCode("\r"):o=a===r?2:0;break;case ne.getCharCode("."):o=a===e?3:0;break;case ne.getCharCode(","):o=a===e?4:0;break;case ne.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(n=t.updateStateListForPair(n,i,o),i++):n=this.updateStateListForChar(n,i)}var s=cp.min(n,function(c,l){return c.getBitCount()-l.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,o=[];try{for(var a=ss(e),s=a.next();!s.done;s=a.next()){var c=s.value;this.updateStateForChar(c,r,o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,o=jl[e.getMode()][i]>0,a=null,s=0;s<=Pr;s++){var c=jl[s][i];if(c>0){if(a==null&&(a=e.endBinaryShift(r)),!o||s===e.getMode()||s===rr){var l=a.latchAndAppend(s,c);n.push(l)}if(!o&&iC[e.getMode()][s]>=0){var u=a.shiftAndAppend(s,c);n.push(u)}}}if(e.getBinaryShiftByteCount()>0||jl[e.getMode()][i]===0){var d=e.addBinaryShiftChar(r);n.push(d)}},t.updateStateListForPair=function(e,r,n){var i,o,a=[];try{for(var s=ss(e),c=s.next();!c.done;c=s.next()){var l=c.value;this.updateStateForPair(l,r,n,a)}}catch(u){i={error:u}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(a)},t.updateStateForPair=function(e,r,n,i){var o=e.endBinaryShift(r);if(i.push(o.latchAndAppend(Pr,n)),e.getMode()!==Pr&&i.push(o.shiftAndAppend(Pr,n)),n===3||n===4){var a=o.latchAndAppend(rr,16-n).latchAndAppend(rr,1);i.push(a)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,o,a=[];try{for(var s=ss(e),c=s.next();!c.done;c=s.next()){var l=c.value,u=!0,d=function(y){if(y.isBetterThanOrEqualTo(l))return u=!1,"break";l.isBetterThanOrEqualTo(y)&&(a=a.filter(function(m){return m!==y}))};try{for(var f=(i=void 0,ss(a)),h=f.next();!h.done;h=f.next()){var p=h.value,g=d(p);if(g==="break")break}}catch(y){i={error:y}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}u&&a.push(l)}}catch(y){r={error:y}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return a},t}(),NO=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new OO(e).encode(),o=ee.truncDivision(i.getSize()*r,100)+11,a=i.getSize()+o,s,c,l,u,d;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,c=Math.abs(n),c>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new W(ne.format("Illegal value %s for layers",n));l=t.totalBitsInLayer(c,s),u=t.WORD_SIZE[c];var f=l-l%u;if(d=t.stuffBits(i,u),d.getSize()+o>f)throw new W("Data to large for user specified layer");if(s&&d.getSize()>u*64)throw new W("Data to large for user specified layer")}else{u=0,d=null;for(var h=0;;h++){if(h>t.MAX_NB_BITS)throw new W("Data too large for an Aztec code");if(s=h<=3,c=s?h+1:h,l=t.totalBitsInLayer(c,s),!(a>l)){(d==null||u!==t.WORD_SIZE[c])&&(u=t.WORD_SIZE[c],d=t.stuffBits(i,u));var f=l-l%u;if(!(s&&d.getSize()>u*64)&&d.getSize()+o<=f)break}}}var p=t.generateCheckWords(d,l,u),g=d.getSize()/u,y=t.generateModeMessage(s,c,g),m=(s?11:14)+c*4,v=new Int32Array(m),C;if(s){C=m;for(var h=0;h<v.length;h++)v[h]=h}else{C=m+1+2*ee.truncDivision(ee.truncDivision(m,2)-1,15);for(var E=ee.truncDivision(m,2),A=ee.truncDivision(C,2),h=0;h<E;h++){var _=h+ee.truncDivision(h,15);v[E-h-1]=A-_-1,v[E+h]=A+_+1}}for(var x=new Br(C),h=0,O=0;h<c;h++){for(var F=(c-h)*4+(s?9:12),M=0;M<F;M++)for(var re=M*2,Q=0;Q<2;Q++)p.get(O+re+Q)&&x.set(v[h*2+Q],v[h*2+M]),p.get(O+F*2+re+Q)&&x.set(v[h*2+M],v[m-1-h*2-Q]),p.get(O+F*4+re+Q)&&x.set(v[m-1-h*2-Q],v[m-1-h*2-M]),p.get(O+F*6+re+Q)&&x.set(v[m-1-h*2-M],v[h*2+Q]);O+=F*8}if(t.drawModeMessage(x,s,C,y),s)t.drawBullsEye(x,ee.truncDivision(C,2),5);else{t.drawBullsEye(x,ee.truncDivision(C,2),7);for(var h=0,M=0;h<ee.truncDivision(m,2)-1;h+=15,M+=16)for(var Q=ee.truncDivision(C,2)&1;Q<C;Q+=2)x.set(ee.truncDivision(C,2)-M,Q),x.set(ee.truncDivision(C,2)+M,Q),x.set(Q,ee.truncDivision(C,2)-M),x.set(Q,ee.truncDivision(C,2)+M)}var de=new vO;return de.setCompact(s),de.setSize(C),de.setLayers(c),de.setCodeWords(g),de.setMatrix(x),de},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var o=r-i;o<=r+i;o++)e.set(o,r-i),e.set(o,r+i),e.set(r-i,o),e.set(r+i,o);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new at;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var o=ee.truncDivision(n,2);if(r)for(var a=0;a<7;a++){var s=o-3+a;i.get(a)&&e.set(s,o-5),i.get(a+7)&&e.set(o+5,s),i.get(20-a)&&e.set(s,o+5),i.get(27-a)&&e.set(o-5,s)}else for(var a=0;a<10;a++){var s=o-5+a+ee.truncDivision(a,5);i.get(a)&&e.set(s,o-7),i.get(a+10)&&e.set(o+7,s),i.get(29-a)&&e.set(s,o+7),i.get(39-a)&&e.set(o-7,s)}},t.generateCheckWords=function(e,r,n){var i,o,a=e.getSize()/n,s=new tC(t.getGF(n)),c=ee.truncDivision(r,n),l=t.bitsToWords(e,n,c);s.encode(l,c-a);var u=r%n,d=new at;d.appendBits(0,u);try{for(var f=NO(Array.from(l)),h=f.next();!h.done;h=f.next()){var p=h.value;d.appendBits(p,n)}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return d},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),o,a;for(o=0,a=e.getSize()/r;o<a;o++){for(var s=0,c=0;c<r;c++)s|=e.get(o*r+c)?1<<r-c-1:0;i[o]=s}return i},t.getGF=function(e){switch(e){case 4:return bt.AZTEC_PARAM;case 6:return bt.AZTEC_DATA_6;case 8:return bt.AZTEC_DATA_8;case 10:return bt.AZTEC_DATA_10;case 12:return bt.AZTEC_DATA_12;default:throw new W("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new at,i=e.getSize(),o=(1<<r)-2,a=0;a<i;a+=r){for(var s=0,c=0;c<r;c++)(a+c>=i||e.get(a+c))&&(s|=1<<r-1-c);(s&o)===o?(n.appendBits(s&o,r),a--):s&o?n.appendBits(s,r):(n.appendBits(s|1,r),a--)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t})();var oC={exports:{}};(function(t,e){(function(n,i){t.exports=i(B)})(sC,function(r){return function(n){var i={};function o(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=i,o.d=function(a,s,c){o.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,s){if(s&1&&(a=o(a)),s&8||s&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),s&2&&typeof a!="string")for(var l in a)o.d(c,l,(function(u){return a[u]}).bind(null,l));return c},o.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(s,"a",s),s},o.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(n,i,o){o.r(i);var a=o("react"),s=function(){var f=function(h,p){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var m in y)y.hasOwnProperty(m)&&(g[m]=y[m])},f(h,p)};return function(h,p){f(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),c=function(){return c=Object.assign||function(f){for(var h,p=1,g=arguments.length;p<g;p++){h=arguments[p];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(f[y]=h[y])}return f},c.apply(this,arguments)},l=function(f,h){var p={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&h.indexOf(g)<0&&(p[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,g=Object.getOwnPropertySymbols(f);y<g.length;y++)h.indexOf(g[y])<0&&Object.prototype.propertyIsEnumerable.call(f,g[y])&&(p[g[y]]=f[g[y]]);return p};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var p=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return p?new Promise(function(g,y){p.call(navigator,h,g,y)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function u(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var d=function(f){s(h,f);function h(p){var g=f.call(this,p)||this;return g.canvas=null,g.ctx=null,g.requestUserMediaId=0,g.unmounted=!1,g.state={hasUserMedia:!1},g}return h.prototype.componentDidMount=function(){var p=this,g=p.state,y=p.props;if(this.unmounted=!1,!u()){y.onUserMediaError("getUserMedia not supported");return}g.hasUserMedia||this.requestUserMedia(),y.children&&typeof y.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(p){var g=this.props;if(!u()){g.onUserMediaError("getUserMedia not supported");return}var y=JSON.stringify(p.audioConstraints)!==JSON.stringify(g.audioConstraints),m=JSON.stringify(p.videoConstraints)!==JSON.stringify(g.videoConstraints),v=p.minScreenshotWidth!==g.minScreenshotWidth,C=p.minScreenshotHeight!==g.minScreenshotHeight;(m||v||C)&&(this.canvas=null,this.ctx=null),(y||m)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(p){p&&(p.getVideoTracks&&p.getAudioTracks?(p.getVideoTracks().map(function(g){p.removeTrack(g),g.stop()}),p.getAudioTracks().map(function(g){p.removeTrack(g),g.stop()})):p.stop())},h.prototype.stopAndCleanup=function(){var p=this.state;p.hasUserMedia&&(h.stopMediaStream(this.stream),p.src&&window.URL.revokeObjectURL(p.src))},h.prototype.getScreenshot=function(p){var g=this,y=g.state,m=g.props;if(!y.hasUserMedia)return null;var v=this.getCanvas(p);return v&&v.toDataURL(m.screenshotFormat,m.screenshotQuality)},h.prototype.getCanvas=function(p){var g=this,y=g.state,m=g.props;if(!this.video||!y.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var v=this.video.videoWidth,C=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var E=v/C;v=m.minScreenshotWidth||this.video.clientWidth,C=v/E,m.minScreenshotHeight&&C<m.minScreenshotHeight&&(C=m.minScreenshotHeight,v=C*E)}this.canvas=document.createElement("canvas"),this.canvas.width=(p==null?void 0:p.width)||v,this.canvas.height=(p==null?void 0:p.height)||C,this.ctx=this.canvas.getContext("2d")}var A=this,_=A.ctx,x=A.canvas;return _&&x&&(x.width=(p==null?void 0:p.width)||x.width,x.height=(p==null?void 0:p.height)||x.height,m.mirrored&&(_.translate(x.width,0),_.scale(-1,1)),_.imageSmoothingEnabled=m.imageSmoothing,_.drawImage(this.video,0,0,(p==null?void 0:p.width)||x.width,(p==null?void 0:p.height)||x.height),m.mirrored&&(_.scale(-1,1),_.translate(-x.width,0))),x},h.prototype.requestUserMedia=function(){var p=this,g=this.props,y=function(C,E){var A={video:typeof E<"u"?E:!0};g.audio&&(A.audio=typeof C<"u"?C:!0),p.requestUserMediaId++;var _=p.requestUserMediaId;navigator.mediaDevices.getUserMedia(A).then(function(x){p.unmounted||_!==p.requestUserMediaId?h.stopMediaStream(x):p.handleUserMedia(null,x)}).catch(function(x){p.handleUserMedia(x)})};if("mediaDevices"in navigator)y(g.audioConstraints,g.videoConstraints);else{var m=function(C){return{optional:[{sourceId:C}]}},v=function(C){var E=C.deviceId;return typeof E=="string"?E:Array.isArray(E)&&E.length>0?E[0]:typeof E=="object"&&E.ideal?E.ideal:null};MediaStreamTrack.getSources(function(C){var E=null,A=null;C.forEach(function(O){O.kind==="audio"?E=O.id:O.kind==="video"&&(A=O.id)});var _=v(g.audioConstraints);_&&(E=_);var x=v(g.videoConstraints);x&&(A=x),y(m(E),m(A))})}},h.prototype.handleUserMedia=function(p,g){var y=this.props;if(p||!g){this.setState({hasUserMedia:!1}),y.onUserMediaError(p);return}this.stream=g;try{this.video&&(this.video.srcObject=g),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(g)})}y.onUserMedia(g)},h.prototype.render=function(){var p=this,g=this,y=g.state,m=g.props,v=m.audio;m.forceScreenshotSourceSize;var C=m.disablePictureInPicture;m.onUserMedia,m.onUserMediaError,m.screenshotFormat,m.screenshotQuality,m.minScreenshotWidth,m.minScreenshotHeight,m.audioConstraints,m.videoConstraints,m.imageSmoothing;var E=m.mirrored,A=m.style,_=A===void 0?{}:A,x=m.children,O=l(m,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),F=E?c(c({},_),{transform:(_.transform||"")+" scaleX(-1)"}):_,M={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",c({autoPlay:!0,disablePictureInPicture:C,src:y.src,muted:!v,playsInline:!0,ref:function(re){p.video=re},style:F},O)),x&&x(M))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h}(a.Component);i.default=d},react:function(n,i){n.exports=r}}).default})})(oC);var kO=oC.exports;const PO=pc(kO),bO=({onUpdate:t,onError:e,width:r="100%",height:n="100%",facingMode:i="environment",torch:o,delay:a=500,videoConstraints:s,stopStream:c})=>{const l=dn.useRef(null),u=dn.useCallback(()=>{var h;const d=new PR,f=(h=l==null?void 0:l.current)==null?void 0:h.getScreenshot();f&&d.decodeFromImage(void 0,f).then(p=>{t(null,p)}).catch(p=>{t(p)})},[t]);return dn.useEffect(()=>{var d,f;if(typeof o=="boolean"&&((d=navigator==null?void 0:navigator.mediaDevices)!=null&&d.getSupportedConstraints().torch)){const h=(f=l==null?void 0:l.current)==null?void 0:f.video.srcObject,p=h==null?void 0:h.getVideoTracks()[0];p&&p.getCapabilities().torch&&!p.getConstraints().torch&&p.applyConstraints({advanced:[{torch:o}]}).catch(g=>t(g))}},[o,t]),dn.useEffect(()=>{var d;if(c){let f=(d=l==null?void 0:l.current)==null?void 0:d.video.srcObject;f&&(f.getTracks().forEach(h=>{f.removeTrack(h),h.stop()}),f=null)}},[c]),dn.useEffect(()=>{const d=setInterval(u,a);return()=>{clearInterval(d)}},[]),k.jsx(PO,{width:r,height:n,ref:l,screenshotFormat:"image/jpeg",videoConstraints:s||{facingMode:i},audio:!1,onUserMediaError:e})},MO=()=>{const[t,e]=B.useState(null),[r,n]=B.useState(null),{scannedBarcodes:i,setScannedBarcodes:o}=B.useContext(vf),a=B.useRef(new Set(i)),s=hi();B.useEffect(()=>{a.current=new Set(i)},[i]);const c=(d,f)=>{if(f){const h=f.text;e(h),a.current.has(h)||u()}},l=()=>{s("/barcodes")};B.useEffect(()=>{t&&u()},[t]);const u=async()=>{if(t)try{const d=`/api/filmskaTrakaArhiva/${t}`,f=await He.get(d,{headers:{"Content-Type":"application/json"}});console.log("Film data fetched:",f.data);const h=i.find(p=>typeof p=="object"&&p.barcode===t);if(h)console.log("Barcode already exists with title:",h);else{const p=[...i,{barcode:t,filmTitle:f.data.originalniNaslov,duration:f.data.duration}];o(p),a.current.add(t)}n(null)}catch(d){console.error("Error fetching film data:",d),n("Error fetching film data")}};return k.jsx(ah,{children:k.jsxs("div",{className:"scan-layout",children:[k.jsx("img",{className:"scan-bg-image",src:Ia,alt:"background picture"}),k.jsxs("div",{className:"scan-container",children:[k.jsxs("div",{className:"scanner-wrapper",children:[k.jsx("div",{className:"sc-title",children:"Barcode scanner"}),k.jsx("div",{className:"cam-dim",children:k.jsx(bO,{onUpdate:c})}),k.jsx("div",{className:"fetch-div",children:k.jsxs("div",{children:[k.jsxs("div",{className:"fetch-text",children:[k.jsxs("p",{children:["Barcode: ",t]}),r&&k.jsx("p",{style:{color:"red"},children:r})]}),k.jsxs("div",{className:"fetch-btn",children:[k.jsx("button",{className:"button-film",onClick:u,children:"Fetch"}),k.jsx("button",{onClick:l,children:"List"})]})]})})]}),k.jsxs("div",{className:"brc-list-container",children:[k.jsx("div",{className:"scanned-title",children:"Scanned barcodes"}),k.jsx("div",{className:"scan-br-list",children:k.jsx("ul",{children:i.map((d,f)=>k.jsxs("li",{children:[d.barcode," - ",d.filmTitle," (",d.duration,")"]},f))})})]})]})]})})},DO=()=>{const{scannedBarcodes:t,setScannedBarcodes:e}=B.useContext(vf);B.useRef(new Set(t));const r=hi(),n=()=>{r("/scanner")},i=()=>{e([])},o=l=>{if(l>=0&&l<t.length){const u=[...t];u.splice(l,1),e(u)}},a=()=>{const l=t.reduce((h,p)=>{if(typeof p=="object"&&p.duration){const[g,y,m]=p.duration.split(":").map(Number),v=g*3600+y*60+m;return h+v}return h},0),u=Math.floor(l/3600),d=Math.floor(l%3600/60),f=l%60;return`${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${f.toString().padStart(2,"0")}`},c=(l=>{const u=l.sort((p,g)=>{const y=p.duration.split(":").map(Number).reduce((v,C)=>v*60+C,0),m=g.duration.split(":").map(Number).reduce((v,C)=>v*60+C,0);return y-m}),d={};let f=0,h=[];for(const p of u){const g=p.duration.split(":").map(Number).reduce((y,m)=>y*60+m,0);if(f+g<=45*60)h.push(p),f+=g;else{const y=`${Math.floor(f/60)}:${(f%60).toString().padStart(2,"0")}`;d[y]=h,h=[p],f=g}}if(h.length>0){const p=`${Math.floor(f/60)}:${(f%60).toString().padStart(2,"0")}`;d[p]=h}return d})(t);return k.jsx(ah,{children:k.jsxs("div",{className:"barcode-main",children:[k.jsx("img",{className:"barcode-bg-image",src:Ia,alt:"background picture"}),k.jsxs("div",{className:"barcode-list-container",children:[k.jsxs("div",{className:"barcode-scanned",children:[k.jsx("div",{className:"left-title",children:"Scanned barcodes"}),k.jsx("div",{className:"left-list",children:k.jsx("ul",{children:t.map((l,u)=>k.jsxs("li",{children:[k.jsxs("span",{style:{fontSize:"16px"},children:[u+1,"."," ",typeof l=="object"?`${l.barcode} - ${l.filmTitle} - ${l.duration}`:l]}),k.jsx("button",{style:{fontSize:"16px",padding:"0 5px",border:"none",backgroundColor:"transparent",cursor:"pointer"},onClick:()=>o(u),children:""})]},u))})}),k.jsxs("p",{className:"total-duration",children:["Total duration: ",a()]}),k.jsxs("div",{className:"barcode-btns",children:[k.jsx("button",{onClick:i,children:"Clear"}),k.jsx("button",{onClick:n,children:"Scan"})]})]}),k.jsxs("div",{className:"barcode-grouped",children:[k.jsx("div",{className:"right-title",children:"Grouped barcodes"}),k.jsx("div",{className:"grouped-list",children:Object.keys(c).map(l=>k.jsxs("div",{className:"wrap-group",children:[k.jsxs("p",{className:"group-key",children:["Duration: ",l]}),k.jsx("div",{children:k.jsx("ul",{children:c[l].map((u,d)=>k.jsx("li",{children:k.jsxs("span",{style:{fontSize:"16px"},children:[d+1,"."," ",typeof u=="object"?`${u.barcode} - ${u.filmTitle} - ${u.duration}`:u]})},d))})})]},l))})]})]})]})})},LO=()=>{const t=hi(),e=()=>{t("/")};return k.jsxs("div",{className:"main-div",children:[k.jsx("img",{className:"unauth-bg-image",src:Ia,alt:"background picture"}),k.jsxs("div",{className:"sub-div",children:[k.jsx("h1",{className:"unauth-title",children:"Unauthorized"}),k.jsx("p",{className:"unauth-para",children:"You do not have permission to access this page."}),k.jsx("div",{className:"back-to-login",children:k.jsx(Vc,{as:"button",onClick:e,className:"return-button",children:"Return"})})]})]})};function BO(){const t=oh();return k.jsx(Lw,{children:k.jsx(TE,{children:k.jsxs(xE,{children:[k.jsx(Kn,{path:"/",element:k.jsx(dS,{})}),t?k.jsxs(k.Fragment,{children:[k.jsx(Kn,{path:"/home",element:k.jsx(vS,{})}),k.jsx(Kn,{path:"/scanner",element:k.jsx(MO,{})}),k.jsx(Kn,{path:"/barcodes",element:k.jsx(DO,{})}),k.jsx(Kn,{path:"*",element:k.jsx(AE,{to:"/home",replace:!0})})]}):k.jsx(Kn,{path:"*",element:k.jsx(LO,{})})]})})})}const FO=new nh(Jx),UO=Dw.createRoot(document.getElementById("root"));UO.render(k.jsx(dn.StrictMode,{children:k.jsx(Qx,{instance:FO,children:k.jsx(BO,{})})}));
